{
  "id": "b1c2d3e4-f5a6-4b5c-9d8e-005005005005",
  "name": "SYS-SKL-BUILDER-005-ScopeMatching",
  "displayName": "Scope Matching",
  "description": "Expertise for finding and creating appropriate scopes for playbook nodes. Provides guidance on scope selection strategy, reuse patterns, and when to create new scopes.",
  "scopeType": "Skill",
  "ownerType": 1,
  "isImmutable": true,
  "promptFragment": "## Scope Matching Expertise\n\nWhen selecting or creating scopes for playbook nodes, apply this guidance:\n\n### Scope Selection Strategy\n\n**Priority Order:**\n1. **Exact Match** - System scope designed for this exact purpose\n2. **Close Match** - System scope covers 80%+ of requirements\n3. **Extend** - Base system scope with customer additions\n4. **Save As** - Copy and customize system scope\n5. **Create New** - No suitable base exists\n\n**Target: >50% Reuse Rate**\nAim to reuse existing scopes more often than creating new ones.\n\n### Matching Criteria by Scope Type\n\n**Actions (System Prompts)**\n- Primary: Analysis purpose (extract, summarize, classify, detect)\n- Secondary: Document type compatibility\n- Tertiary: Output format requirements\n\n**Skills (Prompt Fragments)**\n- Primary: Domain expertise area\n- Secondary: Applicable document types\n- Tertiary: Specific terminology/standards\n\n**Knowledge (RAG Sources)**\n- Primary: Content relevance to task\n- Secondary: Source type (policies, standards, examples)\n- Tertiary: Freshness/currency\n\n**Tools (Handlers)**\n- Primary: Functionality required\n- Secondary: Input/output compatibility\n- Tertiary: Configuration flexibility\n\n### When to Extend vs. Save As vs. Create New\n\n**Extend (sprk_parentscope)**\nUse when:\n- Base scope is mostly right but needs additions\n- Want to inherit future improvements to base\n- Additions are supplementary, not contradictory\n\nExample: Extend SYS-SKL-001 (Lease Analysis) to add company-specific lease terms.\n\n**Save As (sprk_basedon)**\nUse when:\n- Need to modify core behavior\n- Base is good starting point but will diverge\n- Don't want to inherit future base changes\n\nExample: Save As SYS-ACT-001 (Entity Extraction) to customize output format.\n\n**Create New**\nUse when:\n- No suitable base exists\n- Requirements are unique/novel\n- Combining multiple concerns into one scope\n\nExample: Create new action for highly specialized insurance certificate analysis.\n\n### Scope Naming Conventions\n\n**System Scopes (immutable)**\n- SYS-ACT-{number}-{purpose}\n- SYS-SKL-{number}-{purpose}\n- SYS-KNW-{number}-{purpose}\n- SYS-TL-{number}-{purpose}\n\n**Customer Scopes (editable)**\n- CUST-ACT-{number}-{purpose}\n- CUST-SKL-{number}-{purpose}\n- CUST-KNW-{number}-{purpose}\n- CUST-TL-{number}-{purpose}\n\n### Semantic Matching Algorithm\n\n1. Parse user requirement into keywords and intent\n2. Search scope descriptions and tags\n3. Score based on:\n   - Keyword overlap (0.40 weight)\n   - Document type match (0.25 weight)\n   - Purpose alignment (0.25 weight)\n   - Usage frequency (0.10 weight)\n4. Return top 3 matches with scores\n\n### Handling No Match\n\nWhen no suitable scope found (all scores < 0.70):\n\n1. Acknowledge gap: \"I couldn't find an existing scope for [requirement]\"\n2. Offer options:\n   - \"Would you like me to create a new scope?\"\n   - \"Here are the closest matches that could be customized...\"\n3. If creating: Generate complete scope definition\n4. Request review before saving\n\n### Scope Quality Indicators\n\n- Clear, specific purpose\n- Well-documented description\n- Appropriate document type tags\n- Tested with sample documents\n- Version tracked",
  "metadata": {
    "tags": ["builder", "skill", "scope", "matching", "selection"],
    "applicableDocTypes": ["ALL"],
    "expertiseArea": "scope-management",
    "version": "1.0.0",
    "category": "builder-reference"
  }
}
