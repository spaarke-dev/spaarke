/*! For license information please see bundle.js.LICENSE.txt */
var pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad;(()=>{"use strict";var e,t,r={60:(e,t,r)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(492)},176:(e,t,r)=>{r(948)},290:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<i(o,t)))break e;e[n]=t,e[r]=o,r=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,a=o>>>1;n<a;){var c=2*(n+1)-1,l=e[c],s=c+1,u=e[s];if(0>i(l,r))s<o&&0>i(u,l)?(e[n]=u,e[s]=r,n=s):(e[n]=l,e[c]=r,n=c);else{if(!(s<o&&0>i(u,r)))break e;e[n]=u,e[s]=r,n=s}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}var s=[],u=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,m="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,r(s,t)}t=n(u)}}function k(e){if(v=!1,w(e),!g)if(null!==n(s))g=!0,j(C);else{var t=n(u);null!==t&&M(k,t.startTime-e)}}function C(e,r){g=!1,v&&(v=!1,y(T),T=-1),p=!0;var i=h;try{for(w(r),f=n(s);null!==f&&(!(f.expirationTime>r)||e&&!x());){var a=f.callback;if("function"==typeof a){f.callback=null,h=f.priorityLevel;var c=a(f.expirationTime<=r);r=t.unstable_now(),"function"==typeof c?f.callback=c:f===n(s)&&o(s),w(r)}else o(s);f=n(s)}if(null!==f)var l=!0;else{var d=n(u);null!==d&&M(k,d.startTime-r),l=!1}return l}finally{f=null,h=i,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,P=null,T=-1,A=5,O=-1;function x(){return!(t.unstable_now()-O<A)}function E(){if(null!==P){var e=t.unstable_now();O=e;var r=!0;try{r=P(!0,e)}finally{r?S():(I=!1,P=null)}}else I=!1}if("function"==typeof b)S=function(){b(E)};else if("undefined"!=typeof MessageChannel){var _=new MessageChannel,R=_.port2;_.port1.onmessage=E,S=function(){R.postMessage(null)}}else S=function(){m(E,0)};function j(e){P=e,I||(I=!0,S())}function M(e,r){T=m(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,j(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(s)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:c=i+c,sortIndex:-1},i>a?(e.sortIndex=i,r(u,e),null===n(s)&&e===n(u)&&(v?(y(T),T=-1):v=!0,M(k,i-a))):(e.sortIndex=c,r(s,e),g||p||(g=!0,j(C))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},492:(e,t,r)=>{var n=r(909),o=r(493);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function l(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(c[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,r,n,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function N(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var z,B=Object.assign;function q(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var D=!1;function F(e,t){if(!e||D)return"";D=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=n.stack.split("\n"),a=o.length-1,c=i.length-1;1<=a&&0<=c&&o[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(o[a]!==i[c]){if(1!==a||1!==c)do{if(a--,0>--c||o[a]!==i[c]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=c);break}}}finally{D=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?q(e):""}function L(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return F(e.type,!1);case 11:return F(e.type.render,!1);case 1:return F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case P:return"Profiler";case I:return"StrictMode";case x:return"Suspense";case E:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=K(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){X(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Q(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function ie(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ce(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=ge(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Se=null,Ie=null;function Pe(e){if(e=wo(e)){if("function"!=typeof Ce)throw Error(i(280));var t=e.stateNode;t&&(t=Co(t),Ce(e.stateNode,e.type,t))}}function Te(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Ae(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Oe(e,t){return e(t)}function xe(){}var Ee=!1;function _e(e,t,r){if(Ee)return e(t,r);Ee=!0;try{return Oe(e,t,r)}finally{Ee=!1,(null!==Se||null!==Ie)&&(xe(),Ae())}}function Re(e,t){var r=e.stateNode;if(null===r)return null;var n=Co(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(i(231,t,typeof r));return r}var je=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){je=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){je=!1}function Ne(e,t,r,n,o,i,a,c,l){var s=Array.prototype.slice.call(arguments,3);try{t.apply(r,s)}catch(e){this.onError(e)}}var ze=!1,Be=null,qe=!1,De=null,Fe={onError:function(e){ze=!0,Be=e}};function Le(e,t,r,n,o,i,a,c,l){ze=!1,Be=null,Ne.apply(Fe,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(n=o.return)){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return We(o),e;if(a===n)return We(o),t;a=a.sibling}throw Error(i(188))}if(r.return!==n.return)r=o,n=a;else{for(var c=!1,l=o.child;l;){if(l===r){c=!0,r=o,n=a;break}if(l===n){c=!0,n=o,r=a;break}l=l.sibling}if(!c){for(l=a.child;l;){if(l===r){c=!0,r=a,n=o;break}if(l===n){c=!0,n=a,r=o;break}l=l.sibling}if(!c)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Je=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Xe=o.unstable_now,$e=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,rt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ct(e)/lt|0)|0},ct=Math.log,lt=Math.LN2,st=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&r;if(0!==a){var c=a&~o;0!==c?n=dt(c):0!==(i&=a)&&(n=dt(i))}else 0!==(a=r&~o)?n=dt(a):0!==i&&(n=dt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&n&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-at(t)),n|=e[r],t&=~o;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=st;return!(4194240&(st<<=1))&&(st=64),e}function vt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var kt,Ct,St,It,Pt,Tt=!1,At=[],Ot=null,xt=null,Et=null,_t=new Map,Rt=new Map,jt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function zt(e,t,r,n,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=wo(t))&&Ct(t),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Bt(e){var t=bo(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void Pt(e.priority,function(){St(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=wo(r))&&Ct(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);we=n,r.target.dispatchEvent(n),we=null,t.shift()}return!0}function Dt(e,t,r){qt(e)&&r.delete(t)}function Ft(){Tt=!1,null!==Ot&&qt(Ot)&&(Ot=null),null!==xt&&qt(xt)&&(xt=null),null!==Et&&qt(Et)&&(Et=null),_t.forEach(Dt),Rt.forEach(Dt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return Lt(t,e)}if(0<At.length){Lt(At[0],e);for(var r=1;r<At.length;r++){var n=At[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ot&&Lt(Ot,e),null!==xt&&Lt(xt,e),null!==Et&&Lt(Et,e),_t.forEach(t),Rt.forEach(t),r=0;r<jt.length;r++)(n=jt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<jt.length&&null===(r=jt[0]).blockedOn;)Bt(r),null===r.blockedOn&&jt.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,r,n){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,r,n)}finally{bt=o,Ht.transition=i}}function Vt(e,t,r,n){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,r,n)}finally{bt=o,Ht.transition=i}}function Gt(e,t,r,n){if(Wt){var o=Jt(e,t,r,n);if(null===o)Wn(e,t,n,Qt,r),Nt(e,n);else if(function(e,t,r,n,o){switch(t){case"focusin":return Ot=zt(Ot,e,t,r,n,o),!0;case"dragenter":return xt=zt(xt,e,t,r,n,o),!0;case"mouseover":return Et=zt(Et,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return _t.set(i,zt(_t.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Rt.set(i,zt(Rt.get(i)||null,e,t,r,n,o)),!0}return!1}(o,e,t,r,n))n.stopPropagation();else if(Nt(e,n),4&t&&-1<Mt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&kt(i),null===(i=Jt(e,t,r,n))&&Wn(e,t,n,Qt,r),i===o)break;o=i}null!==o&&n.stopPropagation()}else Wn(e,t,n,null,r)}}var Qt=null;function Jt(e,t,r,n){if(Qt=null,null!==(e=bo(e=ke(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=$t,n=r.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<n&&r[e]===o[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function or(e){function t(t,r,n,o,i){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,ar,cr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=or(lr),ur=B({},lr,{view:0,detail:0}),dr=or(ur),fr=B({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&"mousemove"===e.type?(ir=e.screenX-cr.screenX,ar=e.screenY-cr.screenY):ar=ir=0,cr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),hr=or(fr),pr=or(B({},fr,{dataTransfer:0})),gr=or(B({},ur,{relatedTarget:0})),vr=or(B({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),mr=B({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=or(mr),br=or(B({},lr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cr[e])&&!!t[e]}function Ir(){return Sr}var Pr=B({},ur,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tr=or(Pr),Ar=or(B({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Or=or(B({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir})),xr=or(B({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Er=B({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_r=or(Er),Rr=[9,13,27,32],jr=u&&"CompositionEvent"in window,Mr=null;u&&"documentMode"in document&&(Mr=document.documentMode);var Nr=u&&"TextEvent"in window&&!Mr,zr=u&&(!jr||Mr&&8<Mr&&11>=Mr),Br=String.fromCharCode(32),qr=!1;function Dr(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Lr=!1,Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function Wr(e,t,r,n){Te(n),0<(t=Vn(t,"onChange")).length&&(r=new sr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kr=null,Vr=null;function Gr(e){qn(e,0)}function Qr(e){if(G(ko(e)))return e}function Jr(e,t){if("change"===e)return t}var Yr=!1;if(u){var Xr;if(u){var $r="oninput"in document;if(!$r){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),$r="function"==typeof Zr.oninput}Xr=$r}else Xr=!1;Yr=Xr&&(!document.documentMode||9<document.documentMode)}function en(){Kr&&(Kr.detachEvent("onpropertychange",tn),Vr=Kr=null)}function tn(e){if("value"===e.propertyName&&Qr(Vr)){var t=[];Wr(t,Vr,e,ke(e)),_e(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),Vr=r,(Kr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Vr)}function on(e,t){if("click"===e)return Qr(t)}function an(e,t){if("input"===e||"change"===e)return Qr(t)}var cn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ln(e,t){if(cn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!d.call(t,o)||!cn(e[o],t[o]))return!1}return!0}function sn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=sn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=Q((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=fn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=void 0===n.end?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=un(r,i);var a=un(r,n);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=u&&"documentMode"in document&&11>=document.documentMode,vn=null,mn=null,yn=null,bn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==vn||vn!==Q(n)||(n="selectionStart"in(n=vn)&&hn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Vn(mn,"onSelect")).length&&(t=new sr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vn)))}function kn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cn={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionend:kn("Transition","TransitionEnd")},Sn={},In={};function Pn(e){if(Sn[e])return Sn[e];if(!Cn[e])return e;var t,r=Cn[e];for(t in r)if(r.hasOwnProperty(t)&&t in In)return Sn[e]=r[t];return e}u&&(In=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);var Tn=Pn("animationend"),An=Pn("animationiteration"),On=Pn("animationstart"),xn=Pn("transitionend"),En=new Map,_n="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){En.set(e,t),l(t,[e])}for(var jn=0;jn<_n.length;jn++){var Mn=_n[jn];Rn(Mn.toLowerCase(),"on"+(Mn[0].toUpperCase()+Mn.slice(1)))}Rn(Tn,"onAnimationEnd"),Rn(An,"onAnimationIteration"),Rn(On,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(xn,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function Bn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,o,a,c,l,s){if(Le.apply(this,arguments),ze){if(!ze)throw Error(i(198));var u=Be;ze=!1,Be=null,qe||(qe=!0,De=u)}}(n,t,void 0,e),e.currentTarget=null}function qn(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var c=n[a],l=c.instance,s=c.currentTarget;if(c=c.listener,l!==i&&o.isPropagationStopped())break e;Bn(o,c,s),i=l}else for(a=0;a<n.length;a++){if(l=(c=n[a]).instance,s=c.currentTarget,c=c.listener,l!==i&&o.isPropagationStopped())break e;Bn(o,c,s),i=l}}}if(qe)throw e=De,qe=!1,De=null,e}function Dn(e,t){var r=t[vo];void 0===r&&(r=t[vo]=new Set);var n=e+"__bubble";r.has(n)||(Hn(t,e,2,!1),r.add(n))}function Fn(e,t,r){var n=0;t&&(n|=4),Hn(r,e,n,t)}var Ln="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[Ln]){e[Ln]=!0,a.forEach(function(t){"selectionchange"!==t&&(zn.has(t)||Fn(t,!1,e),Fn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ln]||(t[Ln]=!0,Fn("selectionchange",!1,t))}}function Hn(e,t,r,n){switch(Yt(t)){case 1:var o=Kt;break;case 4:o=Vt;break;default:o=Gt}r=o.bind(null,t,r,e),o=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):void 0!==o?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Wn(e,t,r,n,o){var i=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var c=n.stateNode.containerInfo;if(c===o||8===c.nodeType&&c.parentNode===o)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==c;){if(null===(a=bo(c)))return;if(5===(l=a.tag)||6===l){n=i=a;continue e}c=c.parentNode}}n=n.return}_e(function(){var n=i,o=ke(r),a=[];e:{var c=En.get(e);if(void 0!==c){var l=sr,s=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Tr;break;case"focusin":s="focus",l=gr;break;case"focusout":s="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Or;break;case Tn:case An:case On:l=vr;break;case xn:l=xr;break;case"scroll":l=dr;break;case"wheel":l=_r;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ar}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==c?c+"Capture":null:c;u=[];for(var h,p=n;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&null!=(g=Re(p,f))&&u.push(Kn(p,g,h))),d)break;p=p.return}0<u.length&&(c=new l(c,s,null,r,o),a.push({event:c,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(c="mouseover"===e||"pointerover"===e)||r===we||!(s=r.relatedTarget||r.fromElement)||!bo(s)&&!s[go])&&(l||c)&&(c=o.window===o?o:(c=o.ownerDocument)?c.defaultView||c.parentWindow:window,l?(l=n,null!==(s=(s=r.relatedTarget||r.toElement)?bo(s):null)&&(s!==(d=Ue(s))||5!==s.tag&&6!==s.tag)&&(s=null)):(l=null,s=n),l!==s)){if(u=hr,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ar,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?c:ko(l),h=null==s?c:ko(s),(c=new u(g,p+"leave",l,r,o)).target=d,c.relatedTarget=h,g=null,bo(o)===n&&((u=new u(f,p+"enter",s,r,o)).target=h,u.relatedTarget=d,g=u),d=g,l&&s)e:{for(f=s,p=0,h=u=l;h;h=Gn(h))p++;for(h=0,g=f;g;g=Gn(g))h++;for(;0<p-h;)u=Gn(u),p--;for(;0<h-p;)f=Gn(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Gn(u),f=Gn(f)}u=null}else u=null;null!==l&&Qn(a,c,l,u,!1),null!==s&&null!==d&&Qn(a,d,s,u,!0)}if("select"===(l=(c=n?ko(n):window).nodeName&&c.nodeName.toLowerCase())||"input"===l&&"file"===c.type)var v=Jr;else if(Hr(c))if(Yr)v=an;else{v=nn;var m=rn}else(l=c.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===c.type||"radio"===c.type)&&(v=on);switch(v&&(v=v(e,n))?Wr(a,v,r,o):(m&&m(e,c,n),"focusout"===e&&(m=c._wrapperState)&&m.controlled&&"number"===c.type&&ee(c,"number",c.value)),m=n?ko(n):window,e){case"focusin":(Hr(m)||"true"===m.contentEditable)&&(vn=m,mn=n,yn=null);break;case"focusout":yn=mn=vn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(a,r,o);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":wn(a,r,o)}var y;if(jr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Lr?Dr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(zr&&"ko"!==r.locale&&(Lr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Lr&&(y=er()):($t="value"in(Xt=o)?Xt.value:Xt.textContent,Lr=!0)),0<(m=Vn(n,b)).length&&(b=new br(b,e,null,r,o),a.push({event:b,listeners:m}),(y||null!==(y=Fr(r)))&&(b.data=y))),(y=Nr?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(qr=!0,Br);case"textInput":return(e=t.data)===Br&&qr?null:e;default:return null}}(e,r):function(e,t){if(Lr)return"compositionend"===e||!jr&&Dr(e,t)?(e=er(),Zt=$t=Xt=null,Lr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zr&&"ko"!==t.locale?null:t.data}}(e,r))&&0<(n=Vn(n,"onBeforeInput")).length&&(o=new br("onBeforeInput","beforeinput",null,r,o),a.push({event:o,listeners:n}),o.data=y)}qn(a,t)})}function Kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vn(e,t){for(var r=t+"Capture",n=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Re(e,r))&&n.unshift(Kn(e,i,o)),null!=(i=Re(e,t))&&n.push(Kn(e,i,o))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qn(e,t,r,n,o){for(var i=t._reactName,a=[];null!==r&&r!==n;){var c=r,l=c.alternate,s=c.stateNode;if(null!==l&&l===n)break;5===c.tag&&null!==s&&(c=s,o?null!=(l=Re(r,i))&&a.unshift(Kn(r,l,c)):o||null!=(l=Re(r,i))&&a.push(Kn(r,l,c))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var Jn=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Xn(e){return("string"==typeof e?e:""+e).replace(Jn,"\n").replace(Yn,"")}function $n(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(i(425))}function Zn(){}var eo=null,to=null;function ro(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(co)}:no;function co(e){setTimeout(function(){throw e})}function lo(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0===n)return e.removeChild(o),void Ut(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=o}while(r);Ut(t)}function so(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),ho="__reactFiber$"+fo,po="__reactProps$"+fo,go="__reactContainer$"+fo,vo="__reactEvents$"+fo,mo="__reactListeners$"+fo,yo="__reactHandles$"+fo;function bo(e){var t=e[ho];if(t)return t;for(var r=e.parentNode;r;){if(t=r[go]||r[ho]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=uo(e);null!==e;){if(r=e[ho])return r;e=uo(e)}return t}r=(e=r).parentNode}return null}function wo(e){return!(e=e[ho]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Co(e){return e[po]||null}var So=[],Io=-1;function Po(e){return{current:e}}function To(e){0>Io||(e.current=So[Io],So[Io]=null,Io--)}function Ao(e,t){Io++,So[Io]=e.current,e.current=t}var Oo={},xo=Po(Oo),Eo=Po(!1),_o=Oo;function Ro(e,t){var r=e.type.contextTypes;if(!r)return Oo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function jo(e){return null!=e.childContextTypes}function Mo(){To(Eo),To(xo)}function No(e,t,r){if(xo.current!==Oo)throw Error(i(168));Ao(xo,t),Ao(Eo,r)}function zo(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return B({},r,n)}function Bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oo,_o=xo.current,Ao(xo,e),Ao(Eo,Eo.current),!0}function qo(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=zo(e,t,_o),n.__reactInternalMemoizedMergedChildContext=e,To(Eo),To(xo),Ao(xo,e)):To(Eo),Ao(Eo,r)}var Do=null,Fo=!1,Lo=!1;function Uo(e){null===Do?Do=[e]:Do.push(e)}function Ho(){if(!Lo&&null!==Do){Lo=!0;var e=0,t=bt;try{var r=Do;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Do=null,Fo=!1}catch(t){throw null!==Do&&(Do=Do.slice(e+1)),Ge(Ze,Ho),t}finally{bt=t,Lo=!1}}return null}var Wo=[],Ko=0,Vo=null,Go=0,Qo=[],Jo=0,Yo=null,Xo=1,$o="";function Zo(e,t){Wo[Ko++]=Go,Wo[Ko++]=Vo,Vo=e,Go=t}function ei(e,t,r){Qo[Jo++]=Xo,Qo[Jo++]=$o,Qo[Jo++]=Yo,Yo=e;var n=Xo;e=$o;var o=32-at(n)-1;n&=~(1<<o),r+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,Xo=1<<32-at(t)+o|r<<o|n,$o=i+e}else Xo=1<<i|r<<o|n,$o=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ri(e){for(;e===Vo;)Vo=Wo[--Ko],Wo[Ko]=null,Go=Wo[--Ko],Wo[Ko]=null;for(;e===Yo;)Yo=Qo[--Jo],Qo[Jo]=null,$o=Qo[--Jo],Qo[Jo]=null,Xo=Qo[--Jo],Qo[Jo]=null}var ni=null,oi=null,ii=!1,ai=null;function ci(e,t){var r=_s(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function li(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,oi=so(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Yo?{id:Xo,overflow:$o}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=_s(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ni=e,oi=null,!0);default:return!1}}function si(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var r=t;if(!li(e,t)){if(si(e))throw Error(i(418));t=so(r.nextSibling);var n=ni;t&&li(e,t)?ci(n,r):(e.flags=-4097&e.flags|2,ii=!1,ni=e)}}else{if(si(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ni=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function fi(e){if(e!==ni)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ro(e.type,e.memoizedProps)),t&&(t=oi)){if(si(e))throw hi(),Error(i(418));for(;t;)ci(e,t),t=so(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){oi=so(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}oi=null}}else oi=ni?so(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=oi;e;)e=so(e.nextSibling)}function pi(){oi=ni=null,ii=!1}function gi(e){null===ai?ai=[e]:ai.push(e)}var vi=w.ReactCurrentBatchConfig;function mi(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var o=n,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=js(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function c(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Bs(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function s(e,t,r,n){var i=r.type;return i===S?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===R&&bi(i)===t.type)?((n=o(t,r.props)).ref=mi(e,t,r),n.return=e,n):((n=Ms(r.type,r.key,r.props,null,e.mode,n)).ref=mi(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=qs(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Ns(r,e.mode,n,i)).return=e,t):((t=o(t,r)).return=e,t)}function f(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Bs(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(r=Ms(t.type,t.key,t.props,null,e.mode,r)).ref=mi(e,null,t),r.return=e,r;case C:return(t=qs(t,e.mode,r)).return=e,t;case R:return f(e,(0,t._init)(t._payload),r)}if(te(t)||N(t))return(t=Ns(t,e.mode,r,null)).return=e,t;yi(e,t)}return null}function h(e,t,r,n){var o=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==o?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return r.key===o?s(e,t,r,n):null;case C:return r.key===o?u(e,t,r,n):null;case R:return h(e,t,(o=r._init)(r._payload),n)}if(te(r)||N(r))return null!==o?null:d(e,t,r,n,null);yi(e,r)}return null}function p(e,t,r,n,o){if("string"==typeof n&&""!==n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,o);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return s(t,e=e.get(null===n.key?r:n.key)||null,n,o);case C:return u(t,e=e.get(null===n.key?r:n.key)||null,n,o);case R:return p(e,t,r,(0,n._init)(n._payload),o)}if(te(n)||N(n))return d(t,e=e.get(r)||null,n,o,null);yi(t,n)}return null}function g(o,i,c,l){for(var s=null,u=null,d=i,g=i=0,v=null;null!==d&&g<c.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=h(o,d,c[g],l);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(o,d),i=a(m,i,g),null===u?s=m:u.sibling=m,u=m,d=v}if(g===c.length)return r(o,d),ii&&Zo(o,g),s;if(null===d){for(;g<c.length;g++)null!==(d=f(o,c[g],l))&&(i=a(d,i,g),null===u?s=d:u.sibling=d,u=d);return ii&&Zo(o,g),s}for(d=n(o,d);g<c.length;g++)null!==(v=p(d,o,g,c[g],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),i=a(v,i,g),null===u?s=v:u.sibling=v,u=v);return e&&d.forEach(function(e){return t(o,e)}),ii&&Zo(o,g),s}function v(o,c,l,s){var u=N(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,g=c,v=c=0,m=null,y=l.next();null!==g&&!y.done;v++,y=l.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(o,g,y.value,s);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(o,g),c=a(b,c,v),null===d?u=b:d.sibling=b,d=b,g=m}if(y.done)return r(o,g),ii&&Zo(o,v),u;if(null===g){for(;!y.done;v++,y=l.next())null!==(y=f(o,y.value,s))&&(c=a(y,c,v),null===d?u=y:d.sibling=y,d=y);return ii&&Zo(o,v),u}for(g=n(o,g);!y.done;v++,y=l.next())null!==(y=p(g,o,v,y.value,s))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),c=a(y,c,v),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach(function(e){return t(o,e)}),ii&&Zo(o,v),u}return function e(n,i,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var s=a.key,u=i;null!==u;){if(u.key===s){if((s=a.type)===S){if(7===u.tag){r(n,u.sibling),(i=o(u,a.props.children)).return=n,n=i;break e}}else if(u.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===R&&bi(s)===u.type){r(n,u.sibling),(i=o(u,a.props)).ref=mi(n,u,a),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}a.type===S?((i=Ns(a.props.children,n.mode,l,a.key)).return=n,n=i):((l=Ms(a.type,a.key,a.props,null,n.mode,l)).ref=mi(n,i,a),l.return=n,n=l)}return c(n);case C:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){r(n,i.sibling),(i=o(i,a.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=qs(a,n.mode,l)).return=n,n=i}return c(n);case R:return e(n,i,(u=a._init)(a._payload),l)}if(te(a))return g(n,i,a,l);if(N(a))return v(n,i,a,l);yi(n,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(r(n,i.sibling),(i=o(i,a)).return=n,n=i):(r(n,i),(i=Bs(a,n.mode,l)).return=n,n=i),c(n)):r(n,i)}}var ki=wi(!0),Ci=wi(!1),Si=Po(null),Ii=null,Pi=null,Ti=null;function Ai(){Ti=Pi=Ii=null}function Oi(e){var t=Si.current;To(Si),e._currentValue=t}function xi(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ei(e,t){Ii=e,Ti=Pi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bc=!0),e.firstContext=null)}function _i(e){var t=e._currentValue;if(Ti!==e)if(e={context:e,memoizedValue:t,next:null},null===Pi){if(null===Ii)throw Error(i(308));Pi=e,Ii.dependencies={lanes:0,firstContext:e}}else Pi=Pi.next=e;return t}var Ri=null;function ji(e){null===Ri?Ri=[e]:Ri.push(e)}function Mi(e,t,r,n){var o=t.interleaved;return null===o?(r.next=r,ji(t)):(r.next=o.next,o.next=r),t.interleaved=r,Ni(e,n)}function Ni(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var zi=!1;function Bi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&Ol){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Ni(e,r)}return null===(o=n.interleaved)?(t.next=t,ji(n)):(t.next=o.next,o.next=t),n.interleaved=t,Ni(e,r)}function Li(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Ui(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?o=i=a:i=i.next=a,r=r.next}while(null!==r);null===i?o=i=t:i=i.next=t}else o=i=t;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hi(e,t,r,n){var o=e.updateQueue;zi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,s=l.next;l.next=null,null===a?i=s:a.next=s,a=l;var u=e.alternate;null!==u&&(c=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===c?u.firstBaseUpdate=s:c.next=s,u.lastBaseUpdate=l)}if(null!==i){var d=o.baseState;for(a=0,u=s=l=null,c=i;;){var f=c.lane,h=c.eventTime;if((n&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var p=e,g=c;switch(f=t,h=r,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(h,d,f):p))break e;d=B({},d,f);break e;case 2:zi=!0}}null!==c.callback&&0!==c.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[c]:f.push(c))}else h={eventTime:h,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},null===u?(s=u=h,l=d):u=u.next=h,a|=f;if(null===(c=c.next)){if(null===(c=o.shared.pending))break;c=(f=c).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=s,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=d}}function Wi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!=typeof o)throw Error(i(191,o));o.call(n)}}}var Ki={},Vi=Po(Ki),Gi=Po(Ki),Qi=Po(Ki);function Ji(e){if(e===Ki)throw Error(i(174));return e}function Yi(e,t){switch(Ao(Qi,t),Ao(Gi,e),Ao(Vi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(Vi),Ao(Vi,t)}function Xi(){To(Vi),To(Gi),To(Qi)}function $i(e){Ji(Qi.current);var t=Ji(Vi.current),r=le(t,e.type);t!==r&&(Ao(Gi,e),Ao(Vi,r))}function Zi(e){Gi.current===e&&(To(Vi),To(Gi))}var ea=Po(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function na(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var oa=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,aa=0,ca=null,la=null,sa=null,ua=!1,da=!1,fa=0,ha=0;function pa(){throw Error(i(321))}function ga(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cn(e[r],t[r]))return!1;return!0}function va(e,t,r,n,o,a){if(aa=a,ca=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Za:ec,e=r(n,o),da){a=0;do{if(da=!1,fa=0,25<=a)throw Error(i(301));a+=1,sa=la=null,t.updateQueue=null,oa.current=tc,e=r(n,o)}while(da)}if(oa.current=$a,t=null!==la&&null!==la.next,aa=0,sa=la=ca=null,ua=!1,t)throw Error(i(300));return e}function ma(){var e=0!==fa;return fa=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sa?ca.memoizedState=sa=e:sa=sa.next=e,sa}function ba(){if(null===la){var e=ca.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===sa?ca.memoizedState:sa.next;if(null!==t)sa=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===sa?ca.memoizedState=sa=e:sa=sa.next=e}return sa}function wa(e,t){return"function"==typeof t?t(e):t}function ka(e){var t=ba(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=la,o=n.baseQueue,a=r.pending;if(null!==a){if(null!==o){var c=o.next;o.next=a.next,a.next=c}n.baseQueue=o=a,r.pending=null}if(null!==o){a=o.next,n=n.baseState;var l=c=null,s=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==s&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===s?(l=s=f,c=n):s=s.next=f,ca.lanes|=d,zl|=d}u=u.next}while(null!==u&&u!==a);null===s?c=n:s.next=l,cn(n,t.memoizedState)||(bc=!0),t.memoizedState=n,t.baseState=c,t.baseQueue=s,r.lastRenderedState=n}if(null!==(e=r.interleaved)){o=e;do{a=o.lane,ca.lanes|=a,zl|=a,o=o.next}while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ca(e){var t=ba(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,a=t.memoizedState;if(null!==o){r.pending=null;var c=o=o.next;do{a=e(a,c.action),c=c.next}while(c!==o);cn(a,t.memoizedState)||(bc=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Sa(){}function Ia(e,t){var r=ca,n=ba(),o=t(),a=!cn(n.memoizedState,o);if(a&&(n.memoizedState=o,bc=!0),n=n.queue,za(Aa.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||null!==sa&&1&sa.memoizedState.tag){if(r.flags|=2048,_a(9,Ta.bind(null,r,n,o,t),void 0,null),null===xl)throw Error(i(349));30&aa||Pa(r,t,o)}return o}function Pa(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ca.updateQueue)?(t={lastEffect:null,stores:null},ca.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ta(e,t,r,n){t.value=r,t.getSnapshot=n,Oa(t)&&xa(e)}function Aa(e,t,r){return r(function(){Oa(t)&&xa(e)})}function Oa(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cn(e,r)}catch(e){return!0}}function xa(e){var t=Ni(e,1);null!==t&&rs(t,e,1,-1)}function Ea(e){var t=ya();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,ca,e),[t.memoizedState,e]}function _a(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ca.updateQueue)?(t={lastEffect:null,stores:null},ca.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ra(){return ba().memoizedState}function ja(e,t,r,n){var o=ya();ca.flags|=e,o.memoizedState=_a(1|t,r,void 0,void 0===n?null:n)}function Ma(e,t,r,n){var o=ba();n=void 0===n?null:n;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==n&&ga(n,a.deps))return void(o.memoizedState=_a(t,r,i,n))}ca.flags|=e,o.memoizedState=_a(1|t,r,i,n)}function Na(e,t){return ja(8390656,8,e,t)}function za(e,t){return Ma(2048,8,e,t)}function Ba(e,t){return Ma(4,2,e,t)}function qa(e,t){return Ma(4,4,e,t)}function Da(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,r){return r=null!=r?r.concat([e]):null,Ma(4,4,Da.bind(null,t,e),r)}function La(){}function Ua(e,t){var r=ba();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ga(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ha(e,t){var r=ba();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ga(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wa(e,t,r){return 21&aa?(cn(r,t)||(r=gt(),ca.lanes|=r,zl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bc=!0),e.memoizedState=r)}function Ka(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=r,ia.transition=n}}function Va(){return ba().memoizedState}function Ga(e,t,r){var n=ts(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ja(e)?Ya(t,r):null!==(r=Mi(e,t,r,n))&&(rs(r,e,n,es()),Xa(r,t,n))}function Qa(e,t,r){var n=ts(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Ya(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,c=i(a,r);if(o.hasEagerState=!0,o.eagerState=c,cn(c,a)){var l=t.interleaved;return null===l?(o.next=o,ji(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(r=Mi(e,t,o,n))&&(rs(r,e,n,o=es()),Xa(r,t,n))}}function Ja(e){var t=e.alternate;return e===ca||null!==t&&t===ca}function Ya(e,t){da=ua=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xa(e,t,r){if(4194240&r){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var $a={readContext:_i,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:_i,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:Na,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,ja(4194308,4,Da.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var r=ya();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ya();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ga.bind(null,ca,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ea,useDebugValue:La,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ea(!1),t=e[0];return e=Ka.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ca,o=ya();if(ii){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===xl)throw Error(i(349));30&aa||Pa(n,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,Na(Aa.bind(null,n,a,e),[e]),n.flags|=2048,_a(9,Ta.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ya(),t=xl.identifierPrefix;if(ii){var r=$o;t=":"+t+"R"+(r=(Xo&~(1<<32-at(Xo)-1)).toString(32)+r),0<(r=fa++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ec={readContext:_i,useCallback:Ua,useContext:_i,useEffect:za,useImperativeHandle:Fa,useInsertionEffect:Ba,useLayoutEffect:qa,useMemo:Ha,useReducer:ka,useRef:Ra,useState:function(){return ka(wa)},useDebugValue:La,useDeferredValue:function(e){return Wa(ba(),la.memoizedState,e)},useTransition:function(){return[ka(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ia,useId:Va,unstable_isNewReconciler:!1},tc={readContext:_i,useCallback:Ua,useContext:_i,useEffect:za,useImperativeHandle:Fa,useInsertionEffect:Ba,useLayoutEffect:qa,useMemo:Ha,useReducer:Ca,useRef:Ra,useState:function(){return Ca(wa)},useDebugValue:La,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Wa(t,la.memoizedState,e)},useTransition:function(){return[Ca(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ia,useId:Va,unstable_isNewReconciler:!1};function rc(e,t){if(e&&e.defaultProps){for(var r in t=B({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function nc(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:B({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var oc={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=es(),o=ts(e),i=Di(n,o);i.payload=t,null!=r&&(i.callback=r),null!==(t=Fi(e,i,o))&&(rs(t,e,o,n),Li(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=es(),o=ts(e),i=Di(n,o);i.tag=1,i.payload=t,null!=r&&(i.callback=r),null!==(t=Fi(e,i,o))&&(rs(t,e,o,n),Li(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=es(),n=ts(e),o=Di(r,n);o.tag=2,null!=t&&(o.callback=t),null!==(t=Fi(e,o,n))&&(rs(t,e,n,r),Li(t,e,n))}};function ic(e,t,r,n,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&ln(r,n)&&ln(o,i))}function ac(e,t,r){var n=!1,o=Oo,i=t.contextType;return"object"==typeof i&&null!==i?i=_i(i):(o=jo(t)?_o:xo.current,i=(n=null!=(n=t.contextTypes))?Ro(e,o):Oo),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oc,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function cc(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&oc.enqueueReplaceState(t,t.state,null)}function lc(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Bi(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=_i(i):(i=jo(t)?_o:xo.current,o.context=Ro(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(nc(e,t,i,r),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oc.enqueueReplaceState(o,o.state,null),Hi(e,r,o,n),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function sc(e,t){try{var r="",n=t;do{r+=L(n),n=n.return}while(n);var o=r}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function uc(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function dc(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var fc="function"==typeof WeakMap?WeakMap:Map;function hc(e,t,r){(r=Di(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wl||(Wl=!0,Kl=n),dc(0,t)},r}function pc(e,t,r){(r=Di(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){dc(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(r.callback=function(){dc(0,t),"function"!=typeof n&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function gc(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new fc;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Ps.bind(null,e,t,r),t.then(e,e))}function vc(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mc(e,t,r,n,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Di(-1,1)).tag=2,Fi(r,t,1))),r.lanes|=1),e)}var yc=w.ReactCurrentOwner,bc=!1;function wc(e,t,r,n){t.child=null===e?Ci(t,null,r,n):ki(t,e.child,r,n)}function kc(e,t,r,n,o){r=r.render;var i=t.ref;return Ei(t,o),n=va(e,t,r,n,i,o),r=ma(),null===e||bc?(ii&&r&&ti(t),t.flags|=1,wc(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wc(e,t,o))}function Cc(e,t,r,n,o){if(null===e){var i=r.type;return"function"!=typeof i||Rs(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ms(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Sc(e,t,i,n,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(a,n)&&e.ref===t.ref)return Wc(e,t,o)}return t.flags|=1,(e=js(i,n)).ref=t.ref,e.return=t,t.child=e}function Sc(e,t,r,n,o){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(bc=!1,t.pendingProps=n=i,0===(e.lanes&o))return t.lanes=e.lanes,Wc(e,t,o);131072&e.flags&&(bc=!0)}}return Tc(e,t,r,n,o)}function Ic(e,t,r){var n=t.pendingProps,o=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(1&t.mode){if(!(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ao(jl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Ao(jl,Rl),Rl|=n}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(jl,Rl),Rl|=r;else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ao(jl,Rl),Rl|=n;return wc(e,t,o,r),t.child}function Pc(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Tc(e,t,r,n,o){var i=jo(r)?_o:xo.current;return i=Ro(t,i),Ei(t,o),r=va(e,t,r,n,i,o),n=ma(),null===e||bc?(ii&&n&&ti(t),t.flags|=1,wc(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wc(e,t,o))}function Ac(e,t,r,n,o){if(jo(r)){var i=!0;Bo(t)}else i=!1;if(Ei(t,o),null===t.stateNode)Hc(e,t),ac(t,r,n),lc(t,r,n,o),n=!0;else if(null===e){var a=t.stateNode,c=t.memoizedProps;a.props=c;var l=a.context,s=r.contextType;s="object"==typeof s&&null!==s?_i(s):Ro(t,s=jo(r)?_o:xo.current);var u=r.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==n||l!==s)&&cc(t,a,n,s),zi=!1;var f=t.memoizedState;a.state=f,Hi(t,n,a,o),l=t.memoizedState,c!==n||f!==l||Eo.current||zi?("function"==typeof u&&(nc(t,r,u,n),l=t.memoizedState),(c=zi||ic(t,r,c,n,f,l,s))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=s,n=c):("function"==typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,qi(e,t),c=t.memoizedProps,s=t.type===t.elementType?c:rc(t.type,c),a.props=s,d=t.pendingProps,f=a.context,l="object"==typeof(l=r.contextType)&&null!==l?_i(l):Ro(t,l=jo(r)?_o:xo.current);var h=r.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==d||f!==l)&&cc(t,a,n,l),zi=!1,f=t.memoizedState,a.state=f,Hi(t,n,a,o);var p=t.memoizedState;c!==d||f!==p||Eo.current||zi?("function"==typeof h&&(nc(t,r,h,n),p=t.memoizedState),(s=zi||ic(t,r,s,n,f,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=l,n=s):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Oc(e,t,r,n,i,o)}function Oc(e,t,r,n,o,i){Pc(e,t);var a=!!(128&t.flags);if(!n&&!a)return o&&qo(t,r,!1),Wc(e,t,i);n=t.stateNode,yc.current=t;var c=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,c,i)):wc(e,t,c,i),t.memoizedState=n.state,o&&qo(t,r,!0),t.child}function xc(e){var t=e.stateNode;t.pendingContext?No(0,t.pendingContext,t.pendingContext!==t.context):t.context&&No(0,t.context,!1),Yi(e,t.containerInfo)}function Ec(e,t,r,n,o){return pi(),gi(o),t.flags|=256,wc(e,t,r,n),t.child}var _c,Rc,jc,Mc,Nc={dehydrated:null,treeContext:null,retryLane:0};function zc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bc(e,t,r){var n,o=t.pendingProps,a=ea.current,c=!1,l=!!(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&!!(2&a)),n?(c=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ao(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,c?(o=t.mode,c=t.child,l={mode:"hidden",children:l},1&o||null===c?c=zs(l,o,0,null):(c.childLanes=0,c.pendingProps=l),e=Ns(e,o,r,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=zc(r),t.memoizedState=Nc,e):qc(t,l));if(null!==(a=e.memoizedState)&&null!==(n=a.dehydrated))return function(e,t,r,n,o,a,c){if(r)return 256&t.flags?(t.flags&=-257,Dc(e,t,c,n=uc(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=zs({mode:"visible",children:n.children},o,0,null),(a=Ns(a,o,c,null)).flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,1&t.mode&&ki(t,e.child,null,c),t.child.memoizedState=zc(c),t.memoizedState=Nc,a);if(!(1&t.mode))return Dc(e,t,c,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,Dc(e,t,c,n=uc(a=Error(i(419)),n,void 0))}if(l=0!==(c&e.childLanes),bc||l){if(null!==(n=xl)){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|c))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ni(e,o),rs(n,e,o,-1))}return gs(),Dc(e,t,c,n=uc(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=As.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=so(o.nextSibling),ni=t,ii=!0,ai=null,null!==e&&(Qo[Jo++]=Xo,Qo[Jo++]=$o,Qo[Jo++]=Yo,Xo=e.id,$o=e.overflow,Yo=t),(t=qc(t,n.children)).flags|=4096,t)}(e,t,l,o,n,a,r);if(c){c=o.fallback,l=t.mode,n=(a=e.child).sibling;var s={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=js(a,s)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=s,t.deletions=null),null!==n?c=js(n,c):(c=Ns(c,l,r,null)).flags|=2,c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,l=null===(l=e.child.memoizedState)?zc(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},c.memoizedState=l,c.childLanes=e.childLanes&~r,t.memoizedState=Nc,o}return e=(c=e.child).sibling,o=js(c,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function qc(e,t){return(t=zs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Dc(e,t,r,n){return null!==n&&gi(n),ki(t,e.child,null,r),(e=qc(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fc(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),xi(e.return,t,r)}function Lc(e,t,r,n,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function Uc(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(wc(e,t,n.children,r),2&(n=ea.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fc(e,r,t);else if(19===e.tag)Fc(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ao(ea,n),1&t.mode)switch(o){case"forwards":for(r=t.child,o=null;null!==r;)null!==(e=r.alternate)&&null===ta(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Lc(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Lc(t,!0,r,null,i);break;case"together":Lc(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hc(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wc(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=js(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=js(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Kc(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vc(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gc(e,t,r){var n=t.pendingProps;switch(ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vc(t),null;case 1:case 17:return jo(t.type)&&Mo(),Vc(t),null;case 3:return n=t.stateNode,Xi(),To(Eo),To(xo),na(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(as(ai),ai=null))),Rc(e,t),Vc(t),null;case 5:Zi(t);var o=Ji(Qi.current);if(r=t.type,null!==e&&null!=t.stateNode)jc(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Vc(t),null}if(e=Ji(Vi.current),fi(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ho]=t,n[po]=a,e=!!(1&t.mode),r){case"dialog":Dn("cancel",n),Dn("close",n);break;case"iframe":case"object":case"embed":Dn("load",n);break;case"video":case"audio":for(o=0;o<Nn.length;o++)Dn(Nn[o],n);break;case"source":Dn("error",n);break;case"img":case"image":case"link":Dn("error",n),Dn("load",n);break;case"details":Dn("toggle",n);break;case"input":Y(n,a),Dn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Dn("invalid",n);break;case"textarea":oe(n,a),Dn("invalid",n)}for(var l in ye(r,a),o=null,a)if(a.hasOwnProperty(l)){var s=a[l];"children"===l?"string"==typeof s?n.textContent!==s&&(!0!==a.suppressHydrationWarning&&$n(n.textContent,s,e),o=["children",s]):"number"==typeof s&&n.textContent!==""+s&&(!0!==a.suppressHydrationWarning&&$n(n.textContent,s,e),o=["children",""+s]):c.hasOwnProperty(l)&&null!=s&&"onScroll"===l&&Dn("scroll",n)}switch(r){case"input":V(n),Z(n,a,!0);break;case"textarea":V(n),ae(n);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(n.onclick=Zn)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ce(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ho]=t,e[po]=n,_c(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Dn("cancel",e),Dn("close",e),o=n;break;case"iframe":case"object":case"embed":Dn("load",e),o=n;break;case"video":case"audio":for(o=0;o<Nn.length;o++)Dn(Nn[o],e);o=n;break;case"source":Dn("error",e),o=n;break;case"img":case"image":case"link":Dn("error",e),Dn("load",e),o=n;break;case"details":Dn("toggle",e),o=n;break;case"input":Y(e,n),o=J(e,n),Dn("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=B({},n,{value:void 0}),Dn("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),Dn("invalid",e)}for(a in ye(r,o),s=o)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?ve(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==r||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(c.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Dn("scroll",e):null!=u&&b(e,a,u,l))}switch(r){case"input":V(e),Z(e,n,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(a=n.value)?re(e,!!n.multiple,a,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vc(t),null;case 6:if(e&&null!=t.stateNode)Mc(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(i(166));if(r=Ji(Qi.current),Ji(Vi.current),fi(t)){if(n=t.stateNode,r=t.memoizedProps,n[ho]=t,(a=n.nodeValue!==r)&&null!==(e=ni))switch(e.tag){case 3:$n(n.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$n(n.nodeValue,r,!!(1&e.mode))}a&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ho]=t,t.stateNode=n}return Vc(t),null;case 13:if(To(ea),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))hi(),pi(),t.flags|=98560,a=!1;else if(a=fi(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ho]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vc(t),a=!1}else null!==ai&&(as(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((n=null!==n)!=(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Ml&&(Ml=3):gs())),null!==t.updateQueue&&(t.flags|=4),Vc(t),null);case 4:return Xi(),Rc(e,t),null===e&&Un(t.stateNode.containerInfo),Vc(t),null;case 10:return Oi(t.type._context),Vc(t),null;case 19:if(To(ea),null===(a=t.memoizedState))return Vc(t),null;if(n=!!(128&t.flags),null===(l=a.rendering))if(n)Kc(a,!1);else{if(0!==Ml||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Kc(a,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(a=r).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ao(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Ul&&(t.flags|=128,n=!0,Kc(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ta(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Kc(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Vc(t),null}else 2*Xe()-a.renderingStartTime>Ul&&1073741824!==r&&(t.flags|=128,n=!0,Kc(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=a.last)?r.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,r=ea.current,Ao(ea,n?1&r|2:1&r),t):(Vc(t),null);case 22:case 23:return ds(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&1&t.mode?!!(1073741824&Rl)&&(Vc(t),6&t.subtreeFlags&&(t.flags|=8192)):Vc(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qc(e,t){switch(ri(t),t.tag){case 1:return jo(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),To(Eo),To(xo),na(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(To(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(ea),null;case 4:return Xi(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return ds(),null;default:return null}}_c=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Rc=function(){},jc=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ji(Vi.current);var i,a=null;switch(r){case"input":o=J(e,o),n=J(e,n),a=[];break;case"select":o=B({},o,{value:void 0}),n=B({},n,{value:void 0}),a=[];break;case"textarea":o=ne(e,o),n=ne(e,n),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof n.onClick&&(e.onclick=Zn)}for(u in ye(r,n),r=null,o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(c.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var s=n[u];if(l=null!=o?o[u]:void 0,n.hasOwnProperty(u)&&s!==l&&(null!=s||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||s&&s.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in s)s.hasOwnProperty(i)&&l[i]!==s[i]&&(r||(r={}),r[i]=s[i])}else r||(a||(a=[]),a.push(u,r)),r=s;else"dangerouslySetInnerHTML"===u?(s=s?s.__html:void 0,l=l?l.__html:void 0,null!=s&&l!==s&&(a=a||[]).push(u,s)):"children"===u?"string"!=typeof s&&"number"!=typeof s||(a=a||[]).push(u,""+s):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(c.hasOwnProperty(u)?(null!=s&&"onScroll"===u&&Dn("scroll",e),a||l===s||(a=[])):(a=a||[]).push(u,s))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Mc=function(e,t,r,n){r!==n&&(t.flags|=4)};var Jc=!1,Yc=!1,Xc="function"==typeof WeakSet?WeakSet:Set,$c=null;function Zc(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(r){Is(e,t,r)}else r.current=null}function el(e,t,r){try{r()}catch(r){Is(e,t,r)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,r,i)}o=o.next}while(o!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ol(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ho],delete t[po],delete t[vo],delete t[mo],delete t[yo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function sl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(sl(e,t,r),e=e.sibling;null!==e;)sl(e,t,r),e=e.sibling}var ul=null,dl=!1;function fl(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,r)}catch(e){}switch(r.tag){case 5:Yc||Zc(r,t);case 6:var n=ul,o=dl;ul=null,fl(e,t,r),dl=o,null!==(ul=n)&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?lo(e.parentNode,r):1===e.nodeType&&lo(e,r),Ut(e)):lo(ul,r.stateNode));break;case 4:n=ul,o=dl,ul=r.stateNode.containerInfo,dl=!0,fl(e,t,r),ul=n,dl=o;break;case 0:case 11:case 14:case 15:if(!Yc&&null!==(n=r.updateQueue)&&null!==(n=n.lastEffect)){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(r,t,a),o=o.next}while(o!==n)}fl(e,t,r);break;case 1:if(!Yc&&(Zc(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(e){Is(r,t,e)}fl(e,t,r);break;case 21:fl(e,t,r);break;case 22:1&r.mode?(Yc=(n=Yc)||null!==r.memoizedState,fl(e,t,r),Yc=n):fl(e,t,r);break;default:fl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xc),t.forEach(function(t){var n=Os.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function gl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var a=e,c=t,l=c;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));hl(a,c,o),ul=null,dl=!1;var s=o.alternate;null!==s&&(s.return=null),o.return=null}catch(e){Is(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),ml(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(t){Is(e,e.return,t)}try{rl(5,e,e.return)}catch(t){Is(e,e.return,t)}}break;case 1:gl(t,e),ml(e),512&n&&null!==r&&Zc(r,r.return);break;case 5:if(gl(t,e),ml(e),512&n&&null!==r&&Zc(r,r.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Is(e,e.return,t)}}if(4&n&&null!=(o=e.stateNode)){var a=e.memoizedProps,c=null!==r?r.memoizedProps:a,l=e.type,s=e.updateQueue;if(e.updateQueue=null,null!==s)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(o,a),be(l,c);var u=be(l,a);for(c=0;c<s.length;c+=2){var d=s[c],f=s[c+1];"style"===d?ve(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):b(o,d,f,u)}switch(l){case"input":$(o,a);break;case"textarea":ie(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?re(o,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?re(o,!!a.multiple,a.defaultValue,!0):re(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(t){Is(e,e.return,t)}}break;case 6:if(gl(t,e),ml(e),4&n){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){Is(e,e.return,t)}}break;case 3:if(gl(t,e),ml(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){Is(e,e.return,t)}break;case 4:default:gl(t,e),ml(e);break;case 13:gl(t,e),ml(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Ll=Xe())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Yc=(u=Yc)||d,gl(t,e),Yc=u):gl(t,e),ml(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for($c=e,d=e.child;null!==d;){for(f=$c=d;null!==$c;){switch(p=(h=$c).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Zc(h,h.return);var g=h.stateNode;if("function"==typeof g.componentWillUnmount){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Is(n,r,e)}}break;case 5:Zc(h,h.return);break;case 22:if(null!==h.memoizedState){kl(f);continue}}null!==p?(p.return=h,$c=p):kl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,c=null!=(s=f.memoizedProps.style)&&s.hasOwnProperty("display")?s.display:null,l.style.display=ge("display",c))}catch(t){Is(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){Is(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),ml(e),4&n&&pl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(al(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(fe(o,""),n.flags&=-33),sl(e,cl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;ll(e,cl(e),a);break;default:throw Error(i(161))}}catch(t){Is(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){$c=e,bl(e,t,r)}function bl(e,t,r){for(var n=!!(1&e.mode);null!==$c;){var o=$c,i=o.child;if(22===o.tag&&n){var a=null!==o.memoizedState||Jc;if(!a){var c=o.alternate,l=null!==c&&null!==c.memoizedState||Yc;c=Jc;var s=Yc;if(Jc=a,(Yc=l)&&!s)for($c=o;null!==$c;)l=(a=$c).child,22===a.tag&&null!==a.memoizedState?Cl(o):null!==l?(l.return=a,$c=l):Cl(o);for(;null!==i;)$c=i,bl(i,t,r),i=i.sibling;$c=o,Jc=c,Yc=s}wl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,$c=i):wl(e)}}function wl(e){for(;null!==$c;){var t=$c;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Yc||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Yc)if(null===r)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:rc(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wi(t,a,n);break;case 3:var c=t.updateQueue;if(null!==c){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Wi(t,c,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break;case"img":s.src&&(r.src=s.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(i(163))}Yc||512&t.flags&&ol(t)}catch(e){Is(t,t.return,e)}}if(t===e){$c=null;break}if(null!==(r=t.sibling)){r.return=t.return,$c=r;break}$c=t.return}}function kl(e){for(;null!==$c;){var t=$c;if(t===e){$c=null;break}var r=t.sibling;if(null!==r){r.return=t.return,$c=r;break}$c=t.return}}function Cl(e){for(;null!==$c;){var t=$c;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(e){Is(t,r,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(e){Is(t,o,e)}}var i=t.return;try{ol(t)}catch(e){Is(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){Is(t,a,e)}}}catch(e){Is(t,t.return,e)}if(t===e){$c=null;break}var c=t.sibling;if(null!==c){c.return=t.return,$c=c;break}$c=t.return}}var Sl,Il=Math.ceil,Pl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Al=w.ReactCurrentBatchConfig,Ol=0,xl=null,El=null,_l=0,Rl=0,jl=Po(0),Ml=0,Nl=null,zl=0,Bl=0,ql=0,Dl=null,Fl=null,Ll=0,Ul=1/0,Hl=null,Wl=!1,Kl=null,Vl=null,Gl=!1,Ql=null,Jl=0,Yl=0,Xl=null,$l=-1,Zl=0;function es(){return 6&Ol?Xe():-1!==$l?$l:$l=Xe()}function ts(e){return 1&e.mode?2&Ol&&0!==_l?_l&-_l:null!==vi.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type):1}function rs(e,t,r,n){if(50<Yl)throw Yl=0,Xl=null,Error(i(185));mt(e,r,n),2&Ol&&e===xl||(e===xl&&(!(2&Ol)&&(Bl|=r),4===Ml&&cs(e,_l)),ns(e,n),1===r&&0===Ol&&!(1&t.mode)&&(Ul=Xe()+500,Fo&&Ho()))}function ns(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),c=1<<a,l=o[a];-1===l?0!==(c&r)&&0===(c&n)||(o[a]=ht(c,t)):l<=t&&(e.expiredLanes|=c),i&=~c}}(e,t);var n=ft(e,e===xl?_l:0);if(0===n)null!==r&&Qe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Qe(r),1===t)0===e.tag?function(e){Fo=!0,Uo(e)}(ls.bind(null,e)):Uo(ls.bind(null,e)),ao(function(){!(6&Ol)&&Ho()}),r=null;else{switch(wt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=xs(r,os.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function os(e,t){if($l=-1,Zl=0,6&Ol)throw Error(i(327));var r=e.callbackNode;if(Cs()&&e.callbackNode!==r)return null;var n=ft(e,e===xl?_l:0);if(0===n)return null;if(30&n||0!==(n&e.expiredLanes)||t)t=vs(e,n);else{t=n;var o=Ol;Ol|=2;var a=ps();for(xl===e&&_l===t||(Hl=null,Ul=Xe()+500,fs(e,t));;)try{ys();break}catch(t){hs(e,t)}Ai(),Pl.current=a,Ol=o,null!==El?t=0:(xl=null,_l=0,t=Ml)}if(0!==t){if(2===t&&0!==(o=pt(e))&&(n=o,t=is(e,o)),1===t)throw r=Nl,fs(e,0),cs(e,n),ns(e,Xe()),r;if(6===t)cs(e,n);else{if(o=e.current.alternate,!(30&n||function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!cn(i(),o))return!1}catch(e){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=vs(e,n),2===t&&(a=pt(e),0!==a&&(n=a,t=is(e,a))),1!==t)))throw r=Nl,fs(e,0),cs(e,n),ns(e,Xe()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:ks(e,Fl,Hl);break;case 3:if(cs(e,n),(130023424&n)===n&&10<(t=Ll+500-Xe())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&n)!==n){es(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(ks.bind(null,e,Fl,Hl),t);break}ks(e,Fl,Hl);break;case 4:if(cs(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var c=31-at(n);a=1<<c,(c=t[c])>o&&(o=c),n&=~a}if(n=o,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Il(n/1960))-n)){e.timeoutHandle=no(ks.bind(null,e,Fl,Hl),n);break}ks(e,Fl,Hl);break;default:throw Error(i(329))}}}return ns(e,Xe()),e.callbackNode===r?os.bind(null,e):null}function is(e,t){var r=Dl;return e.current.memoizedState.isDehydrated&&(fs(e,t).flags|=256),2!==(e=vs(e,t))&&(t=Fl,Fl=r,null!==t&&as(t)),e}function as(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function cs(e,t){for(t&=~ql,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function ls(e){if(6&Ol)throw Error(i(327));Cs();var t=ft(e,0);if(!(1&t))return ns(e,Xe()),null;var r=vs(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=is(e,n))}if(1===r)throw r=Nl,fs(e,0),cs(e,t),ns(e,Xe()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ks(e,Fl,Hl),ns(e,Xe()),null}function ss(e,t){var r=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=r)&&(Ul=Xe()+500,Fo&&Ho())}}function us(e){null!==Ql&&0===Ql.tag&&!(6&Ol)&&Cs();var t=Ol;Ol|=1;var r=Al.transition,n=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=n,Al.transition=r,!(6&(Ol=t))&&Ho()}}function ds(){Rl=jl.current,To(jl)}function fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,oo(r)),null!==El)for(r=El.return;null!==r;){var n=r;switch(ri(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Mo();break;case 3:Xi(),To(Eo),To(xo),na();break;case 5:Zi(n);break;case 4:Xi();break;case 13:case 19:To(ea);break;case 10:Oi(n.type._context);break;case 22:case 23:ds()}r=r.return}if(xl=e,El=e=js(e.current,null),_l=Rl=t,Ml=0,Nl=null,ql=Bl=zl=0,Fl=Dl=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(n=(r=Ri[t]).interleaved)){r.interleaved=null;var o=n.next,i=r.pending;if(null!==i){var a=i.next;i.next=o,n.next=a}r.pending=n}Ri=null}return e}function hs(e,t){for(;;){var r=El;try{if(Ai(),oa.current=$a,ua){for(var n=ca.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ua=!1}if(aa=0,sa=la=ca=null,da=!1,fa=0,Tl.current=null,null===r||null===r.return){Ml=1,Nl=t,El=null;break}e:{var a=e,c=r.return,l=r,s=t;if(t=_l,l.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vc(c);if(null!==p){p.flags&=-257,mc(p,c,l,0,t),1&p.mode&&gc(a,u,t),s=u;var g=(t=p).updateQueue;if(null===g){var v=new Set;v.add(s),t.updateQueue=v}else g.add(s);break e}if(!(1&t)){gc(a,u,t),gs();break e}s=Error(i(426))}else if(ii&&1&l.mode){var m=vc(c);if(null!==m){!(65536&m.flags)&&(m.flags|=256),mc(m,c,l,0,t),gi(sc(s,l));break e}}a=s=sc(s,l),4!==Ml&&(Ml=2),null===Dl?Dl=[a]:Dl.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,hc(0,s,t));break e;case 1:l=s;var y=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Vl&&Vl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,pc(a,l,t));break e}}a=a.return}while(null!==a)}ws(r)}catch(e){t=e,El===r&&null!==r&&(El=r=r.return);continue}break}}function ps(){var e=Pl.current;return Pl.current=$a,null===e?$a:e}function gs(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===xl||!(268435455&zl)&&!(268435455&Bl)||cs(xl,_l)}function vs(e,t){var r=Ol;Ol|=2;var n=ps();for(xl===e&&_l===t||(Hl=null,fs(e,t));;)try{ms();break}catch(t){hs(e,t)}if(Ai(),Ol=r,Pl.current=n,null!==El)throw Error(i(261));return xl=null,_l=0,Ml}function ms(){for(;null!==El;)bs(El)}function ys(){for(;null!==El&&!Je();)bs(El)}function bs(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?ws(e):El=t,Tl.current=null}function ws(e){var t=e;do{var r=t.alternate;if(e=t.return,32768&t.flags){if(null!==(r=Qc(r,t)))return r.flags&=32767,void(El=r);if(null===e)return Ml=6,void(El=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(r=Gc(r,t,Rl)))return void(El=r);if(null!==(t=t.sibling))return void(El=t);El=t=e}while(null!==t);0===Ml&&(Ml=5)}function ks(e,t,r){var n=bt,o=Al.transition;try{Al.transition=null,bt=1,function(e,t,r,n){do{Cs()}while(null!==Ql);if(6&Ol)throw Error(i(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-at(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}(e,a),e===xl&&(El=xl=null,_l=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Gl||(Gl=!0,xs(tt,function(){return Cs(),null})),a=!!(15990&r.flags),15990&r.subtreeFlags||a){a=Al.transition,Al.transition=null;var c=bt;bt=1;var l=Ol;Ol|=4,Tl.current=null,function(e,t){if(eo=Wt,hn(e=fn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(e){r=null;break e}var c=0,l=-1,s=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||0!==o&&3!==f.nodeType||(l=c+o),f!==a||0!==n&&3!==f.nodeType||(s=c+n),3===f.nodeType&&(c+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===o&&(l=c),h===a&&++d===n&&(s=c),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}r=-1===l||-1===s?null:{start:l,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(to={focusedElem:e,selectionRange:r},Wt=!1,$c=t;null!==$c;)if(e=(t=$c).child,1028&t.subtreeFlags&&null!==e)e.return=t,$c=e;else for(;null!==$c;){t=$c;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:rc(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(e){Is(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,$c=e;break}$c=t.return}g=tl,tl=!1}(e,r),vl(r,e),pn(to),Wt=!!eo,to=eo=null,e.current=r,yl(r,e,o),Ye(),Ol=l,bt=c,Al.transition=a}else e.current=r;if(Gl&&(Gl=!1,Ql=e,Jl=o),0===(a=e.pendingLanes)&&(Vl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(r.stateNode),ns(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n((o=t[r]).value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;!!(1&Jl)&&0!==e.tag&&Cs(),1&(a=e.pendingLanes)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Ho()}(e,t,r,n)}finally{Al.transition=o,bt=n}return null}function Cs(){if(null!==Ql){var e=wt(Jl),t=Al.transition,r=bt;try{if(Al.transition=null,bt=16>e?16:e,null===Ql)var n=!1;else{if(e=Ql,Ql=null,Jl=0,6&Ol)throw Error(i(331));var o=Ol;for(Ol|=4,$c=e.current;null!==$c;){var a=$c,c=a.child;if(16&$c.flags){var l=a.deletions;if(null!==l){for(var s=0;s<l.length;s++){var u=l[s];for($c=u;null!==$c;){var d=$c;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var f=d.child;if(null!==f)f.return=d,$c=f;else for(;null!==$c;){var h=(d=$c).sibling,p=d.return;if(il(d),d===u){$c=null;break}if(null!==h){h.return=p,$c=h;break}$c=p}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}$c=a}}if(2064&a.subtreeFlags&&null!==c)c.return=a,$c=c;else e:for(;null!==$c;){if(2048&(a=$c).flags)switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$c=y;break e}$c=a.return}}var b=e.current;for($c=b;null!==$c;){var w=(c=$c).child;if(2064&c.subtreeFlags&&null!==w)w.return=c,$c=w;else e:for(c=b;null!==$c;){if(2048&(l=$c).flags)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(e){Is(l,l.return,e)}if(l===c){$c=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,$c=k;break e}$c=l.return}}if(Ol=o,Ho(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}n=!0}return n}finally{bt=r,Al.transition=t}}return!1}function Ss(e,t,r){e=Fi(e,t=hc(0,t=sc(r,t),1),1),t=es(),null!==e&&(mt(e,1,t),ns(e,t))}function Is(e,t,r){if(3===e.tag)Ss(e,e,r);else for(;null!==t;){if(3===t.tag){Ss(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Vl||!Vl.has(n))){t=Fi(t,e=pc(t,e=sc(r,e),1),1),e=es(),null!==t&&(mt(t,1,e),ns(t,e));break}}t=t.return}}function Ps(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=es(),e.pingedLanes|=e.suspendedLanes&r,xl===e&&(_l&r)===r&&(4===Ml||3===Ml&&(130023424&_l)===_l&&500>Xe()-Ll?fs(e,0):ql|=r),ns(e,t)}function Ts(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var r=es();null!==(e=Ni(e,t))&&(mt(e,t,r),ns(e,r))}function As(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ts(e,r)}function Os(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Ts(e,r)}function xs(e,t){return Ge(e,t)}function Es(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(e,t,r,n){return new Es(e,t,r,n)}function Rs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function js(e,t){var r=e.alternate;return null===r?((r=_s(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ms(e,t,r,n,o,a){var c=2;if(n=e,"function"==typeof e)Rs(e)&&(c=1);else if("string"==typeof e)c=5;else e:switch(e){case S:return Ns(r.children,o,a,t);case I:c=8,o|=8;break;case P:return(e=_s(12,r,t,2|o)).elementType=P,e.lanes=a,e;case x:return(e=_s(13,r,t,o)).elementType=x,e.lanes=a,e;case E:return(e=_s(19,r,t,o)).elementType=E,e.lanes=a,e;case j:return zs(r,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:c=10;break e;case A:c=9;break e;case O:c=11;break e;case _:c=14;break e;case R:c=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=_s(c,r,t,o)).elementType=e,t.type=n,t.lanes=a,t}function Ns(e,t,r,n){return(e=_s(7,e,n,t)).lanes=r,e}function zs(e,t,r,n){return(e=_s(22,e,n,t)).elementType=j,e.lanes=r,e.stateNode={isHidden:!1},e}function Bs(e,t,r){return(e=_s(6,e,null,t)).lanes=r,e}function qs(e,t,r){return(t=_s(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ds(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fs(e,t,r,n,o,i,a,c,l){return e=new Ds(e,t,r,c,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=_s(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bi(i),e}function Ls(e){if(!e)return Oo;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(jo(r))return zo(e,r,t)}return t}function Us(e,t,r,n,o,i,a,c,l){return(e=Fs(r,n,!0,e,0,i,0,c,l)).context=Ls(null),r=e.current,(i=Di(n=es(),o=ts(r))).callback=null!=t?t:null,Fi(r,i,o),e.current.lanes=o,mt(e,o,n),ns(e,n),e}function Hs(e,t,r,n){var o=t.current,i=es(),a=ts(o);return r=Ls(r),null===t.context?t.context=r:t.pendingContext=r,(t=Di(i,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fi(o,t,a))&&(rs(e,o,a,i),Li(e,o,a)),a}function Ws(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ks(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Vs(e,t){Ks(e,t),(e=e.alternate)&&Ks(e,t)}Sl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Eo.current)bc=!0;else{if(0===(e.lanes&r)&&!(128&t.flags))return bc=!1,function(e,t,r){switch(t.tag){case 3:xc(t),pi();break;case 5:$i(t);break;case 1:jo(t.type)&&Bo(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Ao(Si,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ao(ea,1&ea.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Bc(e,t,r):(Ao(ea,1&ea.current),null!==(e=Wc(e,t,r))?e.sibling:null);Ao(ea,1&ea.current);break;case 19:if(n=0!==(r&t.childLanes),128&e.flags){if(n)return Uc(e,t,r);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(ea,ea.current),n)break;return null;case 22:case 23:return t.lanes=0,Ic(e,t,r)}return Wc(e,t,r)}(e,t,r);bc=!!(131072&e.flags)}else bc=!1,ii&&1048576&t.flags&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hc(e,t),e=t.pendingProps;var o=Ro(t,xo.current);Ei(t,r),o=va(null,t,n,e,o,r);var a=ma();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jo(n)?(a=!0,Bo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Bi(t),o.updater=oc,t.stateNode=o,o._reactInternals=t,lc(t,n,e,r),t=Oc(null,t,n,!0,a,r)):(t.tag=0,ii&&a&&ti(t),wc(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hc(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"==typeof e)return Rs(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===_)return 14}return 2}(n),e=rc(n,e),o){case 0:t=Tc(null,t,n,e,r);break e;case 1:t=Ac(null,t,n,e,r);break e;case 11:t=kc(null,t,n,e,r);break e;case 14:t=Cc(null,t,n,rc(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,Tc(e,t,n,o=t.elementType===n?o:rc(n,o),r);case 1:return n=t.type,o=t.pendingProps,Ac(e,t,n,o=t.elementType===n?o:rc(n,o),r);case 3:e:{if(xc(t),null===e)throw Error(i(387));n=t.pendingProps,o=(a=t.memoizedState).element,qi(e,t),Hi(t,n,null,r);var c=t.memoizedState;if(n=c.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ec(e,t,n,r,o=sc(Error(i(423)),t));break e}if(n!==o){t=Ec(e,t,n,r,o=sc(Error(i(424)),t));break e}for(oi=so(t.stateNode.containerInfo.firstChild),ni=t,ii=!0,ai=null,r=Ci(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(pi(),n===o){t=Wc(e,t,r);break e}wc(e,t,n,r)}t=t.child}return t;case 5:return $i(t),null===e&&ui(t),n=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,c=o.children,ro(n,o)?c=null:null!==a&&ro(n,a)&&(t.flags|=32),Pc(e,t),wc(e,t,c,r),t.child;case 6:return null===e&&ui(t),null;case 13:return Bc(e,t,r);case 4:return Yi(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ki(t,null,n,r):wc(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,kc(e,t,n,o=t.elementType===n?o:rc(n,o),r);case 7:return wc(e,t,t.pendingProps,r),t.child;case 8:case 12:return wc(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,c=o.value,Ao(Si,n._currentValue),n._currentValue=c,null!==a)if(cn(a.value,c)){if(a.children===o.children&&!Eo.current){t=Wc(e,t,r);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){c=a.child;for(var s=l.firstContext;null!==s;){if(s.context===n){if(1===a.tag){(s=Di(-1,r&-r)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?s.next=s:(s.next=d.next,d.next=s),u.pending=s}}a.lanes|=r,null!==(s=a.alternate)&&(s.lanes|=r),xi(a.return,r,t),l.lanes|=r;break}s=s.next}}else if(10===a.tag)c=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(c=a.return))throw Error(i(341));c.lanes|=r,null!==(l=c.alternate)&&(l.lanes|=r),xi(c,r,t),c=a.sibling}else c=a.child;if(null!==c)c.return=a;else for(c=a;null!==c;){if(c===t){c=null;break}if(null!==(a=c.sibling)){a.return=c.return,c=a;break}c=c.return}a=c}wc(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ei(t,r),n=n(o=_i(o)),t.flags|=1,wc(e,t,n,r),t.child;case 14:return o=rc(n=t.type,t.pendingProps),Cc(e,t,n,o=rc(n.type,o),r);case 15:return Sc(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:rc(n,o),Hc(e,t),t.tag=1,jo(n)?(e=!0,Bo(t)):e=!1,Ei(t,r),ac(t,n,o),lc(t,n,o,r),Oc(null,t,n,!0,e,r);case 19:return Uc(e,t,r);case 22:return Ic(e,t,r)}throw Error(i(156,t.tag))};var Gs="function"==typeof reportError?reportError:function(e){console.error(e)};function Qs(e){this._internalRoot=e}function Js(e){this._internalRoot=e}function Ys(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $s(){}function Zs(e,t,r,n,o){var i=r._reactRootContainer;if(i){var a=i;if("function"==typeof o){var c=o;o=function(){var e=Ws(a);c.call(e)}}Hs(t,a,e,o)}else a=function(e,t,r,n,o){if(o){if("function"==typeof n){var i=n;n=function(){var e=Ws(a);i.call(e)}}var a=Us(t,n,e,0,null,!1,0,"",$s);return e._reactRootContainer=a,e[go]=a.current,Un(8===e.nodeType?e.parentNode:e),us(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof n){var c=n;n=function(){var e=Ws(l);c.call(e)}}var l=Fs(e,0,!1,null,0,!1,0,"",$s);return e._reactRootContainer=l,e[go]=l.current,Un(8===e.nodeType?e.parentNode:e),us(function(){Hs(t,l,r,n)}),l}(r,t,e,o,n);return Ws(a)}Js.prototype.render=Qs.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hs(e,t,null,null)},Js.prototype.unmount=Qs.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;us(function(){Hs(null,e,null,null)}),t[go]=null}},Js.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jt.length&&0!==t&&t<jt[r].priority;r++);jt.splice(r,0,e),0===r&&Bt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(yt(t,1|r),ns(t,Xe()),!(6&Ol)&&(Ul=Xe()+500,Ho()))}break;case 13:us(function(){var t=Ni(e,1);if(null!==t){var r=es();rs(t,e,1,r)}}),Vs(e,1)}},Ct=function(e){if(13===e.tag){var t=Ni(e,134217728);null!==t&&rs(t,e,134217728,es()),Vs(e,134217728)}},St=function(e){if(13===e.tag){var t=ts(e),r=Ni(e,t);null!==r&&rs(r,e,t,es()),Vs(e,t)}},It=function(){return bt},Pt=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},Ce=function(e,t,r){switch(t){case"input":if($(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Co(n);if(!o)throw Error(i(90));G(n),$(n,o)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Oe=ss,xe=us;var eu={usingClientEntryPoint:!1,Events:[wo,ko,Co,Te,Ae,ss]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ot=nu.inject(ru),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ys(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Ys(e))throw Error(i(299));var r=!1,n="",o=Gs;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fs(e,1,!1,null,0,r,0,n,o),e[go]=t.current,Un(8===e.nodeType?e.parentNode:e),new Qs(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return us(e)},t.hydrate=function(e,t,r){if(!Xs(t))throw Error(i(200));return Zs(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Ys(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,o=!1,a="",c=Gs;if(null!=r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(c=r.onRecoverableError)),t=Us(t,null,e,1,null!=r?r:null,o,0,a,c),e[go]=t.current,Un(e),n)for(e=0;e<n.length;e++)o=(o=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Js(t)},t.render=function(e,t,r){if(!Xs(t))throw Error(i(200));return Zs(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Xs(e))throw Error(i(40));return!!e._reactRootContainer&&(us(function(){Zs(null,null,e,!1,function(){e._reactRootContainer=null,e[go]=null})}),!0)},t.unstable_batchedUpdates=ss,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xs(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zs(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},493:(e,t,r)=>{e.exports=r(290)},741:(e,t,r)=>{var n=r(60);t.H=n.createRoot,n.hydrateRoot},764:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||p}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=b.prototype=new y;w.constructor=b,g(w,m.prototype),w.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var o,i={},a=null,c=null;if(null!=t)for(o in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,o)&&!I.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:r,type:e,key:a,ref:c,props:i,_owner:S.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function x(e,t,o,i,a){var c=typeof e;"undefined"!==c&&"boolean"!==c||(e=null);var l=!1;if(null===e)l=!0;else switch(c){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return a=a(l=e),e=""===i?"."+O(l,0):i,k(a)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),x(a,t,o,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",k(e))for(var s=0;s<e.length;s++){var u=i+O(c=e[s],s);l+=x(c,t,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),s=0;!(c=e.next()).done;)l+=x(c=c.value,t,o,u=i+O(c,s++),a);else if("object"===c)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,r){if(null==e)return e;var n=[],o=0;return x(e,n,"","",function(e){return t.call(r,e,o++)}),n}function _(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},j={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:j,ReactCurrentOwner:S};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,r){E(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=N,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,a=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,c=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)C.call(t,s)&&!I.hasOwnProperty(s)&&(o[s]=void 0===t[s]&&void 0!==l?l[s]:t[s])}var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:r,type:e.type,key:i,ref:a,props:o,_owner:c}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},809:(e,t,r)=>{e.exports=r(963)},909:(e,t,r)=>{e.exports=r(764)},948:(e,t)=>{if("function"==typeof Symbol&&Symbol.for){var r=Symbol.for;r("react.element"),r("react.portal"),r("react.fragment"),r("react.strict_mode"),r("react.profiler"),r("react.provider"),r("react.context"),r("react.forward_ref"),r("react.suspense"),r("react.suspense_list"),r("react.memo"),r("react.lazy"),r("react.block"),r("react.server.block"),r("react.fundamental"),r("react.debug_trace_mode"),r("react.legacy_hidden")}},963:(e,t,r)=>{var n=r(909),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,r){var n,i={},s=null,u=null;for(n in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:s,ref:u,props:i,_owner:c.current}}t.Fragment=i,t.jsx=s,t.jsxs=s}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e](i,i.exports,o),i.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);o.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var c=2&n&&r;("object"==typeof c||"function"==typeof c)&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,o.d(i,a),i},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{UniversalDocumentUpload:()=>Pb});var a,c=o(909),l=o.t(c,2),s=o(741);!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(a||(a={}));var u,d=new class{constructor(){this.prefix="[UniversalQuickCreate]",this.logLevel=a.INFO}setLogLevel(e){this.logLevel=e}debug(e,t){if(this.logLevel<=a.DEBUG){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];console.log("".concat(this.prefix,"[").concat(e,"] ").concat(t),...n)}}info(e,t){if(this.logLevel<=a.INFO){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];console.log("".concat(this.prefix,"[").concat(e,"] ").concat(t),...n)}}warn(e,t){if(this.logLevel<=a.WARN){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];console.warn("".concat(this.prefix,"[").concat(e,"] ").concat(t),...n)}}error(e,t,r){if(this.logLevel<=a.ERROR){for(var n=arguments.length,o=new Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];console.error("".concat(this.prefix,"[").concat(e,"] ").concat(t),r,...o)}}},f=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];d.info(e,t,...n)},h=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];d.warn(e,t,...n)},p=function(e,t,r){for(var n=arguments.length,o=new Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];d.error(e,t,r,...o)},g={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},v="POST",m=[g.OPENID_SCOPE,g.PROFILE_SCOPE,g.OFFLINE_ACCESS_SCOPE],y=[...m,g.EMAIL_SCOPE],b="Content-Type",w="Retry-After",k="X-AnchorMailbox",C="x-ms-request-id",S="x-ms-httpver",I="active-account-filters",P="common",T="organizations",A="consumers",O="access_token",x="xms_cc",E="login",_="select_account",R="consent",j="none",M="code",N="query",z="Generic",B={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},q="appmetadata",D="1",F="authority-metadata",L="config",U="cache",H="network",W="hardcoded_values",K={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},V={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},G="throttling";!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(u||(u={}));class Q{constructor(e,t,r){this.level=u.Info;var n=e||Q.createDefaultLoggerOptions();this.localCallback=n.loggerCallback||(()=>{}),this.piiLoggingEnabled=n.piiLoggingEnabled||!1,this.level="number"==typeof n.logLevel?n.logLevel:u.Info,this.correlationId=n.correlationId||g.EMPTY_STRING,this.packageName=t||g.EMPTY_STRING,this.packageVersion=r||g.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:u.Info}}clone(e,t,r){return new Q({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var r=(new Date).toUTCString(),n="[".concat(r,"] : [").concat(t.correlationId||this.correlationId||"","]"),o="".concat(n," : ").concat(this.packageName,"@").concat(this.packageVersion," : ").concat(u[t.logLevel]," - ").concat(e);this.executeCallback(t.logLevel,o,t.containsPii||!1)}}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:u.Error,containsPii:!1,correlationId:t||g.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:u.Error,containsPii:!0,correlationId:t||g.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:u.Warning,containsPii:!1,correlationId:t||g.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:u.Warning,containsPii:!0,correlationId:t||g.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:u.Info,containsPii:!1,correlationId:t||g.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:u.Info,containsPii:!0,correlationId:t||g.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:u.Verbose,containsPii:!1,correlationId:t||g.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:u.Verbose,containsPii:!0,correlationId:t||g.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:u.Trace,containsPii:!1,correlationId:t||g.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:u.Trace,containsPii:!0,correlationId:t||g.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}var J="OIDC",Y="EAR",X="none",$="unexpected_error",Z="post_request_failed",ee={[$]:"Unexpected error in authentication.",[Z]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class te extends Error{constructor(e,t,r){super(t?"".concat(e,": ").concat(t):e),Object.setPrototypeOf(this,te.prototype),this.errorCode=e||g.EMPTY_STRING,this.errorMessage=t||g.EMPTY_STRING,this.subError=r||g.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function re(e,t){return new te(e,t?"".concat(ee[e]," ").concat(t):ee[e])}var ne="client_info_decoding_error",oe="client_info_empty_error",ie="token_parsing_error",ae="null_or_empty_token",ce="endpoints_resolution_error",le="network_error",se="openid_config_error",ue="hash_not_deserialized",de="invalid_state",fe="state_mismatch",he="state_not_found",pe="nonce_mismatch",ge="auth_time_not_found",ve="max_age_transpired",me="multiple_matching_tokens",ye="multiple_matching_accounts",be="multiple_matching_appMetadata",we="request_cannot_be_made",ke="cannot_remove_empty_scope",Ce="cannot_append_scopeset",Se="empty_input_scopeset",Ie="device_code_polling_cancelled",Pe="device_code_expired",Te="device_code_unknown_error",Ae="no_account_in_silent_request",Oe="invalid_cache_record",xe="invalid_cache_environment",Ee="no_account_found",_e="no_crypto_object",Re="unexpected_credential_type",je="invalid_assertion",Me="invalid_client_credential",Ne="token_refresh_required",ze="user_timeout_reached",Be="token_claims_cnf_required_for_signedjwt",qe="authorization_code_missing_from_server_response",De="binding_key_not_removed",Fe="end_session_endpoint_not_supported",Le="key_id_missing",Ue="no_network_connectivity",He="user_canceled",We="missing_tenant_id_error",Ke="method_not_implemented",Ve="nested_app_auth_bridge_disabled",Ge={[ne]:"The client info could not be parsed/decoded correctly",[oe]:"The client info was empty",[ie]:"Token cannot be parsed",[ae]:"The token is null or empty",[ce]:"Endpoints cannot be resolved",[le]:"Network request failed",[se]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[ue]:"The hash parameters could not be deserialized",[de]:"State was not the expected format",[fe]:"State mismatch error",[he]:"State not found",[pe]:"Nonce mismatch error",[ge]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[ve]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[me]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ye]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[be]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[we]:"Token request cannot be made without authorization code or refresh token.",[ke]:"Cannot remove null or empty scope from ScopeSet",[Ce]:"Cannot append ScopeSet",[Se]:"Empty input ScopeSet cannot be processed",[Ie]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Pe]:"Device code is expired.",[Te]:"Device code stopped polling for unknown reasons.",[Ae]:"Please pass an account object, silent flow is not supported without account information",[Oe]:"Cache record object was null or undefined.",[xe]:"Invalid environment when attempting to create cache entry",[Ee]:"No account found in cache for given key.",[_e]:"No crypto object detected.",[Re]:"Unexpected credential type.",[je]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[Me]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Ne]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[ze]:"User defined timeout for device code polling reached",[Be]:"Cannot generate a POP jwt if the token_claims are not populated",[qe]:"Server response does not contain an authorization code to proceed",[De]:"Could not remove the credential's binding key from storage.",[Fe]:"The provided authority does not support logout",[Le]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[Ue]:"No network connectivity. Check your internet connection.",[He]:"User cancelled the flow.",[We]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Ke]:"This method has not been implemented",[Ve]:"The nested app auth bridge is disabled"};class Qe extends te{constructor(e,t){super(e,t?"".concat(Ge[e],": ").concat(t):Ge[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Qe.prototype)}}function Je(e,t){return new Qe(e,t)}function Ye(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Xe(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Ye(i,n,o,a,c,"next",e)}function c(e){Ye(i,n,o,a,c,"throw",e)}a(void 0)})}}var $e={createNewGuid:()=>{throw Je(Ke)},base64Decode:()=>{throw Je(Ke)},base64Encode:()=>{throw Je(Ke)},base64UrlEncode:()=>{throw Je(Ke)},encodeKid:()=>{throw Je(Ke)},getPublicKeyThumbprint:()=>Xe(function*(){throw Je(Ke)})(),removeTokenBindingKey:()=>Xe(function*(){throw Je(Ke)})(),clearKeystore:()=>Xe(function*(){throw Je(Ke)})(),signJwt:()=>Xe(function*(){throw Je(Ke)})(),hashString:()=>Xe(function*(){throw Je(Ke)})()},Ze="@azure/msal-common",et="15.13.0",tt="redirect_uri_empty",rt="claims_request_parsing_error",nt="authority_uri_insecure",ot="url_parse_error",it="empty_url_error",at="empty_input_scopes_error",ct="invalid_claims",lt="token_request_empty",st="logout_request_empty",ut="invalid_code_challenge_method",dt="pkce_params_missing",ft="invalid_cloud_discovery_metadata",ht="invalid_authority_metadata",pt="untrusted_authority",gt="missing_ssh_jwk",vt="missing_ssh_kid",mt="missing_nonce_authentication_header",yt="invalid_authentication_header",bt="cannot_set_OIDCOptions",wt="cannot_allow_platform_broker",kt="authority_mismatch",Ct="invalid_request_method_for_EAR",St="invalid_authorize_post_body_parameters",It={[tt]:"A redirect URI is required for all calls, and none has been set.",[rt]:"Could not parse the given claims request object.",[nt]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[ot]:"URL could not be parsed into appropriate segments.",[it]:"URL was empty or null.",[at]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[ct]:"Given claims parameter must be a stringified JSON object.",[lt]:"Token request was empty and not found in cache.",[st]:"The logout request was null or undefined.",[ut]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[dt]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[ft]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[ht]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[pt]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[gt]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[vt]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[mt]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[yt]:"Invalid authentication header provided",[bt]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[wt]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[kt]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[St]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[Ct]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class Pt extends te{constructor(e){super(e,It[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Pt.prototype)}}function Tt(e){return new Pt(e)}class At{static isEmptyObj(e){if(e)try{var t=JSON.parse(e);return 0===Object.keys(t).length}catch(e){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){var t={},r=e.split("&"),n=e=>decodeURIComponent(e.replace(/\+/g," "));return r.forEach(e=>{if(e.trim()){var[r,o]=e.split(/=(.+)/g,2);r&&o&&(t[n(r)]=n(o))}}),t}static trimArrayEntries(e){return e.map(e=>e.trim())}static removeEmptyStringsFromArray(e){return e.filter(e=>!!e)}static jsonParseHelper(e){try{return JSON.parse(e)}catch(e){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class Ot{constructor(e){var t=e?At.trimArrayEntries([...e]):[],r=t?At.removeEmptyStringsFromArray(t):[];if(!r||!r.length)throw Tt(at);this.scopes=new Set,r.forEach(e=>this.scopes.add(e))}static fromString(e){var t=(e||g.EMPTY_STRING).split(" ");return new Ot(t)}static createSearchScopes(e){var t=e&&e.length>0?e:[...m],r=new Ot(t);return r.containsOnlyOIDCScopes()?r.removeScope(g.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){var t=this.printScopesLowerCase().split(" "),r=new Ot(t);return!!e&&r.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(e=>this.containsScope(e))}containsOnlyOIDCScopes(){var e=0;return y.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(e=>this.appendScope(e))}catch(e){throw Je(Ce)}}removeScope(e){if(!e)throw Je(ke);this.scopes.delete(e.trim())}removeOIDCScopes(){y.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw Je(Se);var t=new Set;return e.scopes.forEach(e=>t.add(e.toLowerCase())),this.scopes.forEach(e=>t.add(e.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw Je(Se);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),r=e.getScopeCount(),n=this.getScopeCount();return t.size<n+r}getScopeCount(){return this.scopes.size}asArray(){var e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):g.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}var xt=["isHomeTenant"],Et=["isHomeTenant"];function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach(function(t){jt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jt(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Nt(e,t){return!!e&&!!t&&e===t.split(".")[1]}function zt(e,t,r,n){if(n){var{oid:o,sub:i,tid:a,name:c,tfp:l,acr:s,preferred_username:u,upn:d,login_hint:f}=n,h=a||l||s||"";return{tenantId:h,localAccountId:o||i||"",name:c,username:u||d||"",loginHint:f,isHomeTenant:Nt(h,e)}}return{tenantId:r,localAccountId:t,username:"",isHomeTenant:Nt(r,e)}}function Bt(e,t,r,n){var o=e;if(t){var{isHomeTenant:i}=t,a=Mt(t,xt);o=Rt(Rt({},e),a)}if(r){var c=zt(e.homeAccountId,e.localAccountId,e.tenantId,r),{isHomeTenant:l}=c,s=Mt(c,Et);return Rt(Rt(Rt({},o),s),{},{idTokenClaims:r,idToken:n})}return o}function qt(e,t){var r=function(e){if(!e)throw Je(ae);var t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw Je(ie);return t[2]}(e);try{var n=t(r);return JSON.parse(n)}catch(e){throw Je(ie)}}function Dt(e,t){if(0===t||Date.now()-3e5>e+t)throw Je(ve)}function Ft(e){if(!e)return e;var t=e.toLowerCase();return At.endsWith(t,"?")?t=t.slice(0,-1):At.endsWith(t,"?/")&&(t=t.slice(0,-2)),At.endsWith(t,"/")||(t+="/"),t}function Lt(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function Ut(e){if(!e||e.indexOf("=")<0)return null;try{var t=Lt(e),r=Object.fromEntries(new URLSearchParams(t));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch(e){throw Je(ue)}return null}function Ht(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=new Array;return e.forEach((e,o)=>{!t&&r&&o in r?n.push("".concat(o,"=").concat(e)):n.push("".concat(o,"=").concat(encodeURIComponent(e)))}),n.join("&")}function Wt(e){if(!e)return e;var t=e.split("#")[0];try{var r=new URL(t);return Ft(r.origin+r.pathname+r.search)}catch(e){return Ft(t)}}class Kt{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Tt(it);e.includes("#")||(this._urlString=Kt.canonicalizeUri(e))}static canonicalizeUri(e){if(e){var t=e.toLowerCase();return At.endsWith(t,"?")?t=t.slice(0,-1):At.endsWith(t,"?/")&&(t=t.slice(0,-2)),At.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){var e;try{e=this.getUrlComponents()}catch(e){throw Tt(ot)}if(!e.HostNameAndPort||!e.PathSegments)throw Tt(ot);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Tt(nt)}static appendQueryString(e,t){return t?e.indexOf("?")<0?"".concat(e,"?").concat(t):"".concat(e,"&").concat(t):e}static removeHashFromUrl(e){return Kt.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){var t=this.getUrlComponents(),r=t.PathSegments;return!e||0===r.length||r[0]!==P&&r[0]!==T||(r[0]=e),Kt.constructAuthorityUriFromObject(t)}getUrlComponents(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Tt(ot);var r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},n=r.AbsolutePath.split("/");return n=n.filter(e=>e&&e.length>0),r.PathSegments=n,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw Tt(ot);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===g.FORWARD_SLASH){var r=new Kt(t).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Kt(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Ut(e)}}var Vt={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Gt={metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},Qt=new Set;function Jt(e,t,r,n){if(null==n||n.trace("getAliasesFromMetadata called with source: ".concat(r)),e&&t){var o=Yt(t,e);if(o)return null==n||n.trace("getAliasesFromMetadata: found cloud discovery metadata in ".concat(r,", returning aliases")),o.aliases;null==n||n.trace("getAliasesFromMetadata: did not find cloud discovery metadata in ".concat(r))}return null}function Yt(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.aliases.includes(t))return n}return null}Gt.metadata.forEach(e=>{e.aliases.forEach(e=>{Qt.add(e)})});var Xt="cache_quota_exceeded",$t="cache_error_unknown",Zt={[Xt]:"Exceeded cache storage capacity.",[$t]:"Unexpected error occurred when using cache storage."};class er extends te{constructor(e,t){var r=t||(Zt[e]?Zt[e]:Zt[$t]);super("".concat(e,": ").concat(r)),Object.setPrototypeOf(this,er.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function tr(e){return e instanceof Error?"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||e.message.includes("exceeded the quota")?new er(Xt):new er(e.name,e.message):new er($t)}function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nr(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function or(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ir(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){or(i,n,o,a,c,"next",e)}function c(e){or(i,n,o,a,c,"throw",e)}a(void 0)})}}class ar{constructor(e,t,r,n,o){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(Ze,et),this.staticAuthorityOptions=o,this.performanceClient=n}getAllAccounts(e,t){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,t),t,e)}getAccountInfoFilteredBy(e,t){if(0===Object.keys(e).length||Object.values(e).every(e=>!e))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;var r=this.getAllAccounts(e,t);return r.length>1?r.sort(e=>e.idTokenClaims?-1:1)[0]:1===r.length?r[0]:null}getBaseAccountInfo(e,t){var r=this.getAccountsFilteredBy(e,t);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,t,r){return e.flatMap(e=>this.getTenantProfilesFromAccountEntity(e,t,null==r?void 0:r.tenantId,r))}getTenantedAccountInfoByFilter(e,t,r,n,o){var i;if(o&&!this.tenantProfileMatchesFilter(r,o))return null;var a=this.getIdToken(e,n,t,r.tenantId);return a&&(i=qt(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(i,o))?null:Bt(e,r,i,null==a?void 0:a.secret)}getTenantProfilesFromAccountEntity(e,t,r,n){var o=e.getAccountInfo(),i=o.tenantProfiles||new Map,a=this.getTokenKeys();if(r){var c=i.get(r);if(!c)return[];i=new Map([[r,c]])}var l=[];return i.forEach(e=>{var r=this.getTenantedAccountInfoByFilter(o,a,e,t,n);r&&l.push(r)}),l}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||void 0!==t.isHomeTenant&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}saveCacheRecord(e,t,r){var n=this;return ir(function*(){if(!e)throw Je(Oe);try{e.account&&(yield n.setAccount(e.account,t)),e.idToken&&!1!==(null==r?void 0:r.idToken)&&(yield n.setIdTokenCredential(e.idToken,t)),e.accessToken&&!1!==(null==r?void 0:r.accessToken)&&(yield n.saveAccessToken(e.accessToken,t)),e.refreshToken&&!1!==(null==r?void 0:r.refreshToken)&&(yield n.setRefreshTokenCredential(e.refreshToken,t)),e.appMetadata&&n.setAppMetadata(e.appMetadata,t)}catch(e){var o;throw null===(o=n.commonLogger)||void 0===o||o.error("CacheManager.saveCacheRecord: failed"),e instanceof te?e:tr(e)}})()}saveAccessToken(e,t){var r=this;return ir(function*(){var n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=r.getTokenKeys(),i=Ot.fromString(e.target);o.accessToken.forEach(e=>{if(r.accessTokenKeyMatchesFilter(e,n,!1)){var o=r.getAccessTokenCredential(e,t);o&&r.credentialMatchesFilter(o,n)&&Ot.fromString(o.target).intersectingScopeSets(i)&&r.removeAccessToken(e,t)}}),yield r.setAccessTokenCredential(e,t)})()}getAccountsFilteredBy(e,t){var r=this.getAccountKeys(),n=[];return r.forEach(r=>{var o,i=this.getAccount(r,t);if(i&&(!e.homeAccountId||this.matchHomeAccountId(i,e.homeAccountId))&&(!e.username||this.matchUsername(i.username,e.username))&&(!e.environment||this.matchEnvironment(i,e.environment))&&(!e.realm||this.matchRealm(i,e.realm))&&(!e.nativeAccountId||this.matchNativeAccountId(i,e.nativeAccountId))&&(!e.authorityType||this.matchAuthorityType(i,e.authorityType))){var a={localAccountId:null==e?void 0:e.localAccountId,name:null==e?void 0:e.name},c=null===(o=i.tenantProfiles)||void 0===o?void 0:o.filter(e=>this.tenantProfileMatchesFilter(e,a));c&&0===c.length||n.push(i)}}),n}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"==typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===B.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===V.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){var t=this.getKeys(),r={};return t.forEach(t=>{if(this.isAppMetadata(t)){var n=this.getAppMetadata(t);n&&(e.environment&&!this.matchEnvironment(n,e.environment)||e.clientId&&!this.matchClientId(n,e.clientId)||(r[t]=n))}}),r}getAuthorityMetadataByAlias(e){var t=this.getAuthorityMetadataKeys(),r=null;return t.forEach(t=>{if(this.isAuthorityMetadata(t)&&-1!==t.indexOf(this.clientId)){var n=this.getAuthorityMetadata(t);n&&-1!==n.aliases.indexOf(e)&&(r=n)}}),r}removeAllAccounts(e){this.getAllAccounts({},e).forEach(t=>{this.removeAccount(t,e)})}removeAccount(e,t){this.removeAccountContext(e,t),this.getAccountKeys().filter(t=>t.includes(e.homeAccountId)&&t.includes(e.environment)).forEach(e=>{this.removeItem(e,t),this.performanceClient.incrementFields({accountsRemoved:1},t)})}removeAccountContext(e,t){var r=this.getTokenKeys(),n=t=>t.includes(e.homeAccountId)&&t.includes(e.environment);r.idToken.filter(n).forEach(e=>{this.removeIdToken(e,t)}),r.accessToken.filter(n).forEach(e=>{this.removeAccessToken(e,t)}),r.refreshToken.filter(n).forEach(e=>{this.removeRefreshToken(e,t)})}removeAccessToken(e,t){var r=this.getAccessTokenCredential(e,t);if(this.removeItem(e,t),this.performanceClient.incrementFields({accessTokensRemoved:1},t),r&&r.credentialType.toLowerCase()===B.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&r.tokenType===V.POP){var n=r.keyId;n&&this.cryptoImpl.removeTokenBindingKey(n).catch(()=>{var e;this.commonLogger.error("Failed to remove token binding key ".concat(n),t),null===(e=this.performanceClient)||void 0===e||e.incrementFields({removeTokenBindingKeyFailure:1},t)})}}removeAppMetadata(e){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t,e)}),!0}getIdToken(e,t,r,n,o){this.commonLogger.trace("CacheManager - getIdToken called");var i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:B.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(i,t,r),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){var l=a;if(!n){var s=new Map;a.forEach((t,r)=>{t.realm===e.tenantId&&s.set(r,t)});var u=s.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===u)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),s.values().next().value;l=s}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((e,r)=>{this.removeIdToken(r,t)}),o&&t&&o.addFields({multiMatchedID:a.size},t),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t,r){var n=r&&r.idToken||this.getTokenKeys().idToken,o=new Map;return n.forEach(r=>{if(this.idTokenKeyMatchesFilter(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(r),!0).forEach(function(t){nr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({clientId:this.clientId},e))){var n=this.getIdTokenCredential(r,t);n&&this.credentialMatchesFilter(n,e)&&o.set(r,n)}}),o}idTokenKeyMatchesFilter(e,t){var r=e.toLowerCase();return!(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e,t){this.removeItem(e,t)}removeRefreshToken(e,t){this.removeItem(e,t)}getAccessToken(e,t,r,n){var o=t.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",o);var i=Ot.createSearchScopes(t.scopes),a=t.authenticationScheme||V.BEARER,c=a&&a.toLowerCase()!==V.BEARER.toLowerCase()?B.ACCESS_TOKEN_WITH_AUTH_SCHEME:B.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:n||e.tenantId,target:i,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},s=r&&r.accessToken||this.getTokenKeys().accessToken,u=[];s.forEach(e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){var t=this.getAccessTokenCredential(e,o);t&&this.credentialMatchesFilter(t,l)&&u.push(t)}});var d=u.length;return d<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",o),null):d>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",o),u.forEach(e=>{this.removeAccessToken(this.generateCredentialKey(e),o)}),this.performanceClient.addFields({multiMatchedAT:u.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",o),u[0])}accessTokenKeyMatchesFilter(e,t,r){var n=e.toLowerCase();if(t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===n.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===n.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===n.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target)for(var o=t.target.asArray(),i=0;i<o.length;i++){if(r&&!n.includes(o[i].toLowerCase()))return!1;if(!r&&n.includes(o[i].toLowerCase()))return!0}return!0}getAccessTokensByFilter(e,t){var r=this.getTokenKeys(),n=[];return r.accessToken.forEach(r=>{if(this.accessTokenKeyMatchesFilter(r,e,!0)){var o=this.getAccessTokenCredential(r,t);o&&this.credentialMatchesFilter(o,e)&&n.push(o)}}),n}getRefreshToken(e,t,r,n,o){this.commonLogger.trace("CacheManager - getRefreshToken called");var i=t?D:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:B.REFRESH_TOKEN,clientId:this.clientId,familyId:i},c=n&&n.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(e=>{if(this.refreshTokenKeyMatchesFilter(e,a)){var t=this.getRefreshTokenCredential(e,r);t&&this.credentialMatchesFilter(t,a)&&l.push(t)}});var s=l.length;return s<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(s>1&&o&&r&&o.addFields({multiMatchedRT:s},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){var r=e.toLowerCase();return!(t.familyId&&-1===r.indexOf(t.familyId.toLowerCase())||!t.familyId&&t.clientId&&-1===r.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))}readAppMetadataFromCache(e){var t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),n=Object.keys(r).map(e=>r[e]),o=n.length;if(o<1)return null;if(o>1)throw Je(be);return n[0]}isAppMetadataFOCI(e){var t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==D)}matchHomeAccountId(e,t){return!("string"!=typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var r;return!(t.toLowerCase()!==(null===(r=e.name)||void 0===r?void 0:r.toLowerCase()))}matchUsername(e,t){return!(!e||"string"!=typeof e||(null==t?void 0:t.toLowerCase())!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){var r=function(e,t){var r,n=e.canonicalAuthority;if(n){var o,i=new Kt(n).getUrlComponents().HostNameAndPort;r=Jt(i,null===(o=e.cloudDiscoveryMetadata)||void 0===o?void 0:o.metadata,L,t)||Jt(i,Gt.metadata,W,t)||e.knownAuthorities}return r||[]}(this.staticAuthorityOptions,this.commonLogger);if(r.includes(t)&&r.includes(e.environment))return!0}var n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){var r;return!((null===(r=e.realm)||void 0===r?void 0:r.toLowerCase())!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){return!(e.credentialType!==B.ACCESS_TOKEN&&e.credentialType!==B.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)&&Ot.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(q)}isAuthorityMetadata(e){return-1!==e.indexOf(F)}generateAuthorityMetadataCacheKey(e){return"".concat(F,"-").concat(this.clientId,"-").concat(e)}static toObject(e,t){for(var r in t)e[r]=t[r];return e}}class cr extends ar{setAccount(){return ir(function*(){throw Je(Ke)})()}getAccount(){throw Je(Ke)}setIdTokenCredential(){return ir(function*(){throw Je(Ke)})()}getIdTokenCredential(){throw Je(Ke)}setAccessTokenCredential(){return ir(function*(){throw Je(Ke)})()}getAccessTokenCredential(){throw Je(Ke)}setRefreshTokenCredential(){return ir(function*(){throw Je(Ke)})()}getRefreshTokenCredential(){throw Je(Ke)}setAppMetadata(){throw Je(Ke)}getAppMetadata(){throw Je(Ke)}setServerTelemetry(){throw Je(Ke)}getServerTelemetry(){throw Je(Ke)}setAuthorityMetadata(){throw Je(Ke)}getAuthorityMetadata(){throw Je(Ke)}getAuthorityMetadataKeys(){throw Je(Ke)}setThrottlingCache(){throw Je(Ke)}getThrottlingCache(){throw Je(Ke)}removeItem(){throw Je(Ke)}getKeys(){throw Je(Ke)}getAccountKeys(){throw Je(Ke)}getTokenKeys(){throw Je(Ke)}generateCredentialKey(){throw Je(Ke)}generateAccountKey(){throw Je(Ke)}}var lr="acquireTokenByCode",sr="acquireTokenByRefreshToken",ur="acquireTokenSilent",dr="acquireTokenSilentAsync",fr="acquireTokenPopup",hr="acquireTokenRedirect",pr="cryptoOptsGetPublicKeyThumbprint",gr="cryptoOptsSignJwt",vr="silentCacheClientAcquireToken",mr="silentIframeClientAcquireToken",yr="silentRefreshClientAcquireToken",br="ssoSilent",wr="standardInteractionClientGetDiscoveredAuthority",kr="nativeInteractionClientAcquireToken",Cr="networkClientSendPostRequestAsync",Sr="refreshTokenClientExecutePostToTokenEndpoint",Ir="authorizationCodeClientExecutePostToTokenEndpoint",Pr="refreshTokenClientExecuteTokenRequest",Tr="refreshTokenClientAcquireToken",Ar="refreshTokenClientAcquireTokenWithCachedRefreshToken",Or="refreshTokenClientAcquireTokenByRefreshToken",xr="refreshTokenClientCreateTokenRequestBody",Er="acquireTokenFromCache",_r="silentFlowClientAcquireCachedToken",Rr="silentFlowClientGenerateResultFromCacheRecord",jr="acquireTokenBySilentIframe",Mr="initializeBaseRequest",Nr="initializeSilentRequest",zr="initializeClientApplication",Br="initializeCache",qr="silentIframeClientTokenHelper",Dr="silentHandlerInitiateAuthRequest",Fr="silentHandlerMonitorIframeForHash",Lr="silentHandlerLoadFrame",Ur="silentHandlerLoadFrameSync",Hr="standardInteractionClientCreateAuthCodeClient",Wr="standardInteractionClientGetClientConfiguration",Kr="standardInteractionClientInitializeAuthorizationRequest",Vr="getAuthCodeUrl",Gr="handleCodeResponseFromServer",Qr="handleCodeResponse",Jr="handleResponseEar",Yr="handleResponsePlatformBroker",Xr="handleResponseCode",$r="updateTokenEndpointAuthority",Zr="authClientAcquireToken",en="authClientExecuteTokenRequest",tn="authClientCreateTokenRequestBody",rn="popTokenGenerateCnf",nn="popTokenGenerateKid",on="handleServerTokenResponse",an="deserializeResponse",cn="authorityFactoryCreateDiscoveredInstance",ln="authorityResolveEndpointsAsync",sn="authorityGetCloudDiscoveryMetadataFromNetwork",un="authorityUpdateCloudDiscoveryMetadata",dn="authorityGetEndpointMetadataFromNetwork",fn="authorityUpdateEndpointMetadata",hn="authorityUpdateMetadataWithRegionalInformation",pn="regionDiscoveryDetectRegion",gn="regionDiscoveryGetRegionFromIMDS",vn="regionDiscoveryGetCurrentVersion",mn="acquireTokenByCodeAsync",yn="handleRedirectPromise",bn="handleNativeRedirectPromise",wn="nativeMessageHandlerHandshake",kn="removeHiddenIframe",Cn="clearTokensAndKeysWithClaims",Sn="cacheManagerGetRefreshToken",In="importExistingCache",Pn="setUserData",Tn="localStorageUpdated",An="generatePkceCodes",On="generateCodeVerifier",xn="generateCodeChallengeFromVerifier",En="sha256Digest",_n="getRandomValues",Rn="generateHKDF",jn="generateBaseKey",Mn="base64Decode",Nn="urlEncodeArr",zn="encrypt",Bn="decrypt",qn="generateEarKey",Dn="decryptEarResponse",Fn=(new Map([[lr,"ATByCode"],[sr,"ATByRT"],[ur,"ATS"],[dr,"ATSAsync"],[fr,"ATPopup"],[hr,"ATRedirect"],[pr,"CryptoGetPKThumb"],[gr,"CryptoSignJwt"],[vr,"SltCacheClientAT"],[mr,"SltIframeClientAT"],[yr,"SltRClientAT"],[br,"SsoSlt"],[wr,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[kr,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[Cr,"NetClientSendPost"],[Sr,"RTClientExecPost"],[Ir,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[Pr,"RTClientExecTReq"],[Tr,"RTClientAT"],[Ar,"RTClientATWithCachedRT"],[Or,"RTClientATByRT"],[xr,"RTClientCreateTReqBody"],[Er,"ATFromCache"],[_r,"SltFlowClientATCached"],[Rr,"SltFlowClientGenResFromCache"],[jr,"ATBySltIframe"],[Mr,"InitBaseReq"],[Nr,"InitSltReq"],[zr,"InitClientApplication"],[Br,"InitCache"],[In,"importCache"],[Pn,"setUserData"],[Tn,"localStorageUpdated"],[qr,"SIClientTHelper"],[Dr,"SHandlerInitAuthReq"],[Fr,"SltHandlerMonitorIframeForHash"],[Lr,"SHandlerLoadFrame"],[Ur,"SHandlerLoadFrameSync"],[Hr,"StdIntClientCreateAuthCodeClient"],[Wr,"StdIntClientGetClientConf"],[Kr,"StdIntClientInitAuthReq"],[Vr,"GetAuthCodeUrl"],[Gr,"HandleCodeResFromServer"],[Qr,"HandleCodeResp"],[Jr,"HandleRespEar"],[Xr,"HandleRespCode"],[Yr,"HandleRespPlatBroker"],[$r,"UpdTEndpointAuth"],[Zr,"AuthClientAT"],[en,"AuthClientExecTReq"],[tn,"AuthClientCreateTReqBody"],[rn,"PopTGenCnf"],[nn,"PopTGenKid"],[on,"HandleServerTRes"],[an,"DeserializeRes"],[cn,"AuthFactCreateDiscInst"],[ln,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[sn,"AuthGetCDMetaFromNet"],[un,"AuthUpdCDMeta"],[dn,"AuthUpdCDMetaFromNet"],[fn,"AuthUpdEndpointMeta"],[hn,"AuthUpdMetaWithRegInfo"],[pn,"RegDiscDetectReg"],[gn,"RegDiscGetRegFromIMDS"],[vn,"RegDiscGetCurrentVer"],[mn,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[yn,"HandleRedirectPromise"],[bn,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[wn,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[kn,"RemoveHiddenIframe"],[Cn,"ClearTAndKeysWithClaims"],[Sn,"CacheManagerGetRT"],[An,"GenPkceCodes"],[On,"GenCodeVerifier"],[xn,"GenCodeChallengeFromVerifier"],[En,"Sha256Digest"],[_n,"GetRandomValues"],[Rn,"genHKDF"],[jn,"genBaseKey"],[Mn,"b64Decode"],[Nn,"urlEncArr"],[zn,"encrypt"],[Bn,"decrypt"],[qn,"genEarKey"],[Dn,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount","oldAccountCount","oldAccessCount","oldIdCount","oldRefreshCount","currAccountCount","currAccessCount","currIdCount","currRefreshCount","expiredCacheRemovedCount","upgradedCacheCount"]);class Ln{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Un{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Fn,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Ln}}startPerformanceMeasurement(){return new Ln}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach(function(t){Kn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kn(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vn(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Gn(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Vn(i,n,o,a,c,"next",e)}function c(e){Vn(i,n,o,a,c,"throw",e)}a(void 0)})}}var Qn={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Jn={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:u.Info,correlationId:g.EMPTY_STRING},Yn={claimsBasedCachingEnabled:!1},Xn={sendGetRequestAsync:()=>Gn(function*(){throw Je(Ke)})(),sendPostRequestAsync:()=>Gn(function*(){throw Je(Ke)})()},$n={sku:g.SKU,version:et,cpu:g.EMPTY_STRING,os:g.EMPTY_STRING},Zn={clientSecret:g.EMPTY_STRING,clientAssertion:void 0},eo={azureCloudInstance:X,tenant:"".concat(g.DEFAULT_COMMON_TENANT)},to={application:{appName:"",appVersion:""}};function ro(e){return e.authOptions.authority.options.protocolMode===J}var no,oo={sendGetRequestAsync:()=>Promise.reject(Je(Ke)),sendPostRequestAsync:()=>Promise.reject(Je(Ke))},io="invalid_grant",ao="msal",co="msal.js.browser",lo="53ee284d-920a-4b59-9d30-a60315b26836",so="ppnbnpeolgkicgegkbkbjmhlideopiji",uo="MicrosoftEntra",fo="Handshake",ho="localStorage",po="sessionStorage",go="memoryStorage",vo="signin",mo="signout",yo="request.origin",bo="urlHash",wo="request.params",ko="code.verifier",Co="interaction.status",So="request.native",Io="wrapper.sku",Po="wrapper.version",To=861,Ao=862;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(no||(no={}));var Oo={scopes:m},xo="msal.db",Eo="".concat(xo,".keys"),_o=[0,5,4],Ro="pkce_not_created",jo="ear_jwk_empty",Mo="ear_jwe_empty",No="crypto_nonexistent",zo="empty_navigate_uri",Bo="hash_empty_error",qo="no_state_in_hash",Do="hash_does_not_contain_known_properties",Fo="unable_to_parse_state",Lo="state_interaction_type_mismatch",Uo="interaction_in_progress",Ho="popup_window_error",Wo="empty_window_error",Ko="user_cancelled",Vo="monitor_popup_timeout",Go="monitor_window_timeout",Qo="redirect_in_iframe",Jo="block_iframe_reload",Yo="block_nested_popups",Xo="iframe_closed_prematurely",$o="silent_logout_unsupported",Zo="no_account_error",ei="silent_prompt_value_error",ti="no_token_request_cache_error",ri="unable_to_parse_token_request_cache_error",ni="auth_request_not_set_error",oi="invalid_cache_type",ii="non_browser_environment",ai="database_not_open",ci="no_network_connectivity",li="post_request_failed",si="get_request_failed",ui="failed_to_parse_response",di="unable_to_load_token",fi="crypto_key_not_found",hi="auth_code_required",pi="auth_code_or_nativeAccountId_required",gi="spa_code_and_nativeAccountId_present",vi="database_unavailable",mi="unable_to_acquire_token_from_native_platform",yi="native_handshake_timeout",bi="native_extension_not_installed",wi="native_connection_not_established",ki="uninitialized_public_client_application",Ci="native_prompt_not_supported",Si="invalid_base64_string",Ii="invalid_pop_token_request",Pi="failed_to_build_headers",Ti="failed_to_parse_headers",Ai="failed_to_decrypt_ear_response",Oi="timed_out",xi="For more visit: aka.ms/msaljs/browser-errors",Ei={[Ro]:"The PKCE code challenge and verifier could not be generated.",[jo]:"No EAR encryption key provided. This is unexpected.",[Mo]:"Server response does not contain ear_jwe property. This is unexpected.",[No]:"The crypto object or function is not available.",[zo]:"Navigation URI is empty. Please check stack trace for more info.",[Bo]:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ".concat(xi),[qo]:"Hash does not contain state. Please verify that the request originated from msal.",[Do]:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ".concat(xi),[Fo]:"Unable to parse state. Please verify that the request originated from msal.",[Lo]:"Hash contains state but the interaction type does not match the caller.",[Uo]:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ".concat(xi),[Ho]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Wo]:"window.open returned null or undefined window object.",[Ko]:"User cancelled the flow.",[Vo]:"Token acquisition in popup failed due to timeout.  ".concat(xi),[Go]:"Token acquisition in iframe failed due to timeout.  ".concat(xi),[Qo]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Jo]:"Request was blocked inside an iframe because MSAL detected an authentication response.  ".concat(xi),[Yo]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Xo]:"The iframe being monitored was closed prematurely.",[$o]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Zo]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[ei]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[ti]:"No token request found in cache.",[ri]:"The cached token request could not be parsed.",[ni]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[oi]:"Invalid cache type",[ii]:"Login and token requests are not supported in non-browser environments.",[ai]:"Database is not open!",[ci]:"No network connectivity. Check your internet connection.",[li]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[si]:"Network request failed. Please check the network trace to determine root cause.",[ui]:"Failed to parse network response. Check network trace.",[di]:"Error loading token to cache.",[fi]:"Cryptographic Key or Keypair not found in browser storage.",[hi]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[pi]:"An authorization code or nativeAccountId must be provided to this flow.",[gi]:"Request cannot contain both spa code and native account id.",[vi]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[mi]:"Unable to acquire token from native platform.  ".concat(xi),[yi]:"Timed out while attempting to establish connection to browser extension",[bi]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[wi]:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ".concat(xi),[ki]:"You must call and await the initialize function before attempting to call any other MSAL API.  ".concat(xi),[Ci]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Si]:"Invalid base64 encoded string.",[Ii]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Pi]:"Failed to build request headers object.",[Ti]:"Failed to parse response headers",[Ai]:"Failed to decrypt ear response",[Oi]:"The request timed out."};class _i extends te{constructor(e,t){super(e,Ei[e],t),Object.setPrototypeOf(this,_i.prototype),this.name="BrowserAuthError"}}function Ri(e,t){return new _i(e,t)}class ji{navigateInternal(e,t){return ji.defaultNavigateWindow(e,t)}navigateExternal(e,t){return ji.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e,r)=>{setTimeout(()=>{r(Ri(Oi,"failed_to_redirect"))},t.timeout)})}}class Mi extends te{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Mi.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}}function Ni(e,t,r,n){return e.errorMessage="".concat(e.errorMessage,", additionalErrorInfo: error.name:").concat(null==n?void 0:n.name,", error.message:").concat(null==n?void 0:n.message),new Mi(e,t,r)}function zi(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Bi(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){zi(i,n,o,a,c,"next",e)}function c(e){zi(i,n,o,a,c,"throw",e)}a(void 0)})}}class qi{sendGetRequestAsync(e,t){return Bi(function*(){var r,n,o=0,i=Di(t);try{r=yield fetch(e,{method:"GET",headers:i})}catch(e){throw Ni(Ri(window.navigator.onLine?si:ci),void 0,void 0,e)}n=Fi(r.headers);try{return o=r.status,{headers:n,body:yield r.json(),status:o}}catch(e){throw Ni(Ri(ui),o,n,e)}})()}sendPostRequestAsync(e,t){return Bi(function*(){var r,n,o=t&&t.body||"",i=Di(t),a=0;try{r=yield fetch(e,{method:"POST",headers:i,body:o})}catch(e){throw Ni(Ri(window.navigator.onLine?li:ci),void 0,void 0,e)}n=Fi(r.headers);try{return a=r.status,{headers:n,body:yield r.json(),status:a}}catch(e){throw Ni(Ri(ui),a,n,e)}})()}}function Di(e){try{var t=new Headers;if(!e||!e.headers)return t;var r=e.headers;return Object.entries(r).forEach(e=>{var[r,n]=e;t.append(r,n)}),t}catch(e){throw Ni(Ri(Pi),void 0,void 0,e)}}function Fi(e){try{var t={};return e.forEach((e,r)=>{t[r]=e}),t}catch(e){throw Ri(Ti)}}var Li="client_id",Ui="redirect_uri",Hi="token_type",Wi="req_cnf",Ki="return_spa_code",Vi="x-client-xtra-sku",Gi="brk_client_id",Qi="brk_redirect_uri",Ji="instance_aware";function Yi(e,t,r){if(t){var n=e.get(Li);n&&e.has(Gi)&&(null==r||r.addFields({embeddedClientId:n,embeddedRedirectUri:e.get(Ui)},t))}}function Xi(e,t){e.set("response_type",t)}function $i(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;!r||n.includes("openid")||t.includes("openid")||n.push("openid");var o=r?[...t||[],...n]:t||[],i=new Ot(o);e.set("scope",i.printScopes())}function Zi(e,t){e.set(Li,t)}function ea(e,t){e.set(Ui,t)}function ta(e,t){e.set("login_hint",t)}function ra(e,t){e.set(k,"UPN:".concat(t))}function na(e,t){e.set(k,"Oid:".concat(t.uid,"@").concat(t.utid))}function oa(e,t){e.set("sid",t)}function ia(e,t,r){var n=function(e,t){var r;if(e)try{r=JSON.parse(e)}catch(e){throw Tt(ct)}else r={};return t&&t.length>0&&(r.hasOwnProperty(O)||(r[O]={}),r[O][x]={values:t}),JSON.stringify(r)}(t,r);try{JSON.parse(n)}catch(e){throw Tt(ct)}e.set("claims",n)}function aa(e,t){e.set("client-request-id",t)}function ca(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function la(e,t){null!=t&&t.appName&&e.set("x-app-name",t.appName),null!=t&&t.appVersion&&e.set("x-app-ver",t.appVersion)}function sa(e,t){t&&e.set("state",t)}function ua(e,t,r){if(!t||!r)throw Tt(dt);e.set("code_challenge",t),e.set("code_challenge_method",r)}function da(e,t){e.set("client_secret",t)}function fa(e,t){t&&e.set("client_assertion",t)}function ha(e,t){t&&e.set("client_assertion_type",t)}function pa(e,t){e.set("grant_type",t)}function ga(e){e.set("client_info","1")}function va(e){e.has(Ji)||e.set(Ji,"true")}function ma(e,t){Object.entries(t).forEach(t=>{var[r,n]=t;!e.has(r)&&n&&e.set(r,n)})}function ya(e,t){t&&(e.set(Hi,V.POP),e.set(Wi,t))}function ba(e,t){t&&(e.set(Hi,V.SSH),e.set(Wi,t))}function wa(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function ka(e){e.set("x-ms-lib-capability","retry-after, h429")}function Ca(e,t,r){e.has(Gi)||e.set(Gi,t),e.has(Qi)||e.set(Qi,r)}function Sa(e){return encodeURIComponent(Pa(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ia(e){return Ta(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pa(e){return Ta((new TextEncoder).encode(e))}function Ta(e){var t=Array.from(e,e=>String.fromCodePoint(e)).join("");return btoa(t)}function Aa(e){return(new TextDecoder).decode(Oa(e))}function Oa(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Ri(Si)}var r=atob(t);return Uint8Array.from(r,e=>e.codePointAt(0)||0)}function xa(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ea(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){xa(i,n,o,a,c,"next",e)}function c(e){xa(i,n,o,a,c,"throw",e)}a(void 0)})}}var _a="AES-GCM",Ra="HKDF",ja="SHA-256",Ma=new Uint8Array([1,0,1]),Na="0123456789abcdef",za=new Uint32Array(1),Ba="raw",qa="encrypt",Da="decrypt",Fa={name:"RSASSA-PKCS1-v1_5",hash:ja,modulusLength:2048,publicExponent:Ma};function La(e,t,r){return Ua.apply(this,arguments)}function Ua(){return(Ua=Ea(function*(e,t,r){null==t||t.addQueueMeasurement(En,r);var n=(new TextEncoder).encode(e);return window.crypto.subtle.digest(ja,n)})).apply(this,arguments)}function Ha(e){return window.crypto.getRandomValues(e)}function Wa(){return window.crypto.getRandomValues(za),za[0]}function Ka(){var e=Date.now(),t=1024*Wa()+(1023&Wa()),r=new Uint8Array(16),n=Math.trunc(t/2**30),o=t&2**30-1,i=Wa();r[0]=e/2**40,r[1]=e/2**32,r[2]=e/2**24,r[3]=e/65536,r[4]=e/256,r[5]=e,r[6]=112|n>>>8,r[7]=n,r[8]=128|o>>>24,r[9]=o>>>16,r[10]=o>>>8,r[11]=o,r[12]=i>>>24,r[13]=i>>>16,r[14]=i>>>8,r[15]=i;for(var a="",c=0;c<r.length;c++)a+=Na.charAt(r[c]>>>4),a+=Na.charAt(15&r[c]),3!==c&&5!==c&&7!==c&&9!==c||(a+="-");return a}function Va(){return(Va=Ea(function*(e,t){return window.crypto.subtle.generateKey(Fa,e,t)})).apply(this,arguments)}function Ga(e){return Qa.apply(this,arguments)}function Qa(){return(Qa=Ea(function*(e){return window.crypto.subtle.exportKey("jwk",e)})).apply(this,arguments)}function Ja(){return(Ja=Ea(function*(e,t,r){return window.crypto.subtle.importKey("jwk",e,Fa,t,r)})).apply(this,arguments)}function Ya(){return(Ya=Ea(function*(e,t){return window.crypto.subtle.sign(Fa,e,t)})).apply(this,arguments)}function Xa(){return $a.apply(this,arguments)}function $a(){return($a=Ea(function*(){var e=yield rc(),t={alg:"dir",kty:"oct",k:Ia(new Uint8Array(e))};return Pa(JSON.stringify(t))})).apply(this,arguments)}function Za(){return(Za=Ea(function*(e){var t=Aa(e),r=Oa(JSON.parse(t).k);return window.crypto.subtle.importKey(Ba,r,_a,!1,[Da])})).apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return tc=Ea(function*(e,t){var r=t.split(".");if(5!==r.length)throw Ri(Ai,"jwe_length");var n=yield function(e){return Za.apply(this,arguments)}(e).catch(()=>{throw Ri(Ai,"import_key")});try{var o=(new TextEncoder).encode(r[0]),i=Oa(r[2]),a=Oa(r[3]),c=Oa(r[4]),l=8*c.byteLength,s=new Uint8Array(a.length+c.length);s.set(a),s.set(c,a.length);var u=yield window.crypto.subtle.decrypt({name:_a,iv:i,tagLength:l,additionalData:o},n,s);return(new TextDecoder).decode(u)}catch(e){throw Ri(Ai,"decrypt")}}),tc.apply(this,arguments)}function rc(){return nc.apply(this,arguments)}function nc(){return(nc=Ea(function*(){var e=yield window.crypto.subtle.generateKey({name:_a,length:256},!0,[qa,Da]);return window.crypto.subtle.exportKey(Ba,e)})).apply(this,arguments)}function oc(e){return ic.apply(this,arguments)}function ic(){return(ic=Ea(function*(e){return window.crypto.subtle.importKey(Ba,e,Ra,!1,["deriveKey"])})).apply(this,arguments)}function ac(e,t,r){return cc.apply(this,arguments)}function cc(){return(cc=Ea(function*(e,t,r){return window.crypto.subtle.deriveKey({name:Ra,salt:t,hash:ja,info:(new TextEncoder).encode(r)},e,{name:_a,length:256},!1,[qa,Da])})).apply(this,arguments)}function lc(e,t,r){return sc.apply(this,arguments)}function sc(){return(sc=Ea(function*(e,t,r){var n=(new TextEncoder).encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),i=yield ac(e,o,r),a=yield window.crypto.subtle.encrypt({name:_a,iv:new Uint8Array(12)},i,n);return{data:Ia(new Uint8Array(a)),nonce:Ia(o)}})).apply(this,arguments)}function uc(e,t,r,n){return dc.apply(this,arguments)}function dc(){return(dc=Ea(function*(e,t,r,n){var o=Oa(n),i=yield ac(e,Oa(t),r),a=yield window.crypto.subtle.decrypt({name:_a,iv:new Uint8Array(12)},i,o);return(new TextDecoder).decode(a)})).apply(this,arguments)}function fc(e){return hc.apply(this,arguments)}function hc(){return(hc=Ea(function*(e){var t=yield La(e);return Ia(new Uint8Array(t))})).apply(this,arguments)}var pc="storage_not_supported",gc="stubbed_public_client_application_called",vc="in_mem_redirect_unavailable",mc={[pc]:"Given storage configuration option was not supported.",[gc]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[vc]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class yc extends te{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,yc.prototype)}}function bc(e){return new yc(e,mc[e])}function wc(e){e.location.hash="","function"==typeof e.history.replaceState&&e.history.replaceState(null,"","".concat(e.location.origin).concat(e.location.pathname).concat(e.location.search))}function kc(){return window.parent!==window}function Cc(){return"undefined"!=typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Sc(){if("undefined"==typeof window)throw Ri(ii)}function Ic(e){if(!e)throw Ri(ki)}function Pc(e){Sc(),function(){if(Kt.hashContainsKnownProperties(window.location.hash)&&kc())throw Ri(Jo)}(),function(){if("undefined"!=typeof window&&window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("".concat(ao,".")))throw Ri(Yo)}(),Ic(e)}function Tc(e,t){if(Pc(e),function(e){if(kc()&&!e)throw Ri(Qo)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===go&&!t.cache.storeAuthStateInCookie)throw bc(vc)}function Ac(e){var t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch(e){}},1e4)}function Oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(r),!0).forEach(function(t){Ec(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ec(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _c=1e4,Rc="4.24.1",jc="msal",Mc="browser",Nc="".concat(jc,".").concat(Mc,".log.level"),zc="".concat(jc,".").concat(Mc,".log.pii"),Bc=("".concat(jc,".").concat(Mc,".performance.enabled"),"".concat(jc,".").concat(Mc,".platform.auth.dom")),qc="".concat(jc,".version"),Dc="account.keys",Fc="token.keys";function Lc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e<1?"".concat(jc,".").concat(Dc):"".concat(jc,".").concat(e,".").concat(Dc)}function Uc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t<1?"".concat(jc,".").concat(Fc,".").concat(e):"".concat(jc,".").concat(t,".").concat(Fc,".").concat(e)}function Hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Wc(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Kc{static loggerCallback(e,t){switch(e){case u.Error:return void console.error(t);case u.Info:return void console.info(t);case u.Verbose:return void console.debug(t);case u.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){var t,r,n;this.browserEnvironment="undefined"!=typeof window,this.config=function(e,t){var{auth:r,cache:n,system:o,telemetry:i}=e,a={clientId:g.EMPTY_STRING,authority:"".concat(g.DEFAULT_AUTHORITY),knownAuthorities:[],cloudDiscoveryMetadata:g.EMPTY_STRING,authorityMetadata:g.EMPTY_STRING,redirectUri:"undefined"!=typeof window?Cc():"",postLogoutRedirectUri:g.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:"AAD",OIDCOptions:{serverResponseType:"fragment",defaultScopes:[g.OPENID_SCOPE,g.PROFILE_SCOPE,g.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:X,tenant:g.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},c={cacheLocation:po,cacheRetentionDays:5,temporaryCacheLocation:po,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!n||n.cacheLocation!==ho),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:u.Info,piiLoggingEnabled:!1},s=xc(xc({},Qn),{},{loggerOptions:l,networkClient:t?new qi:oo,navigationClient:new ji,loadFrameTimeout:0,windowHashTimeout:(null==o?void 0:o.loadFrameTimeout)||6e4,iframeHashTimeout:(null==o?void 0:o.loadFrameTimeout)||_c,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(null==o?void 0:o.nativeBrokerHandshakeTimeout)||2e3,pollIntervalMilliseconds:30}),d=xc(xc(xc({},s),o),{},{loggerOptions:(null==o?void 0:o.loggerOptions)||l}),f={application:{appName:g.EMPTY_STRING,appVersion:g.EMPTY_STRING},client:new Un};if((null==r?void 0:r.protocolMode)!==J&&null!=r&&r.OIDCOptions&&new Q(d.loggerOptions).warning(JSON.stringify(Tt(bt))),null!=r&&r.protocolMode&&r.protocolMode===J&&null!=d&&d.allowPlatformBroker)throw Tt(wt);return{auth:xc(xc(xc({},a),r),{},{OIDCOptions:xc(xc({},a.OIDCOptions),null==r?void 0:r.OIDCOptions)}),cache:xc(xc({},c),n),system:d,telemetry:xc(xc({},f),i)}}(e,this.browserEnvironment);try{n=window[po]}catch(e){}var o=null===(t=n)||void 0===t?void 0:t.getItem(Nc),i=null===(r=n)||void 0===r||null===(r=r.getItem(zc))||void 0===r?void 0:r.toLowerCase(),a="true"===i||"false"!==i&&void 0,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(r),!0).forEach(function(t){Wc(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},this.config.system.loggerOptions),l=o&&Object.keys(u).includes(o)?u[o]:void 0;l&&(c.loggerCallback=Kc.loggerCallback,c.logLevel=l),void 0!==a&&(c.piiLoggingEnabled=a),this.logger=new Q(c,"@azure/msal-browser",Rc),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}function Vc(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}class Gc extends Kc{getModuleName(){return Gc.MODULE_NAME}getId(){return Gc.ID}initialize(){var e,t=this;return(e=function*(){return t.available="undefined"!=typeof window,t.available},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Vc(i,n,o,a,c,"next",e)}function c(e){Vc(i,n,o,a,c,"throw",e)}a(void 0)})})()}}Gc.MODULE_NAME="",Gc.ID="StandardOperatingContext";var Qc="missing_kid_error",Jc="missing_alg_error",Yc={[Qc]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Jc]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Xc extends te{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Xc.prototype)}}function $c(e){return new Xc(e,Yc[e])}class Zc{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw $c(Qc);if(!e.alg)throw $c(Jc);var t=new Zc({typ:e.typ||"pop",kid:e.kid,alg:e.alg});return JSON.stringify(t)}}function el(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function tl(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){el(i,n,o,a,c,"next",e)}function c(e){el(i,n,o,a,c,"throw",e)}a(void 0)})}}class rl{constructor(){this.dbName=xo,this.version=1,this.tableName=Eo,this.dbOpen=!1}open(){var e=this;return tl(function*(){return new Promise((t,r)=>{var n=window.indexedDB.open(e.dbName,e.version);n.addEventListener("upgradeneeded",t=>{t.target.result.createObjectStore(e.tableName)}),n.addEventListener("success",r=>{var n=r;e.db=n.target.result,e.dbOpen=!0,t()}),n.addEventListener("error",()=>r(Ri(vi)))})})()}closeConnection(){var e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}validateDbIsOpen(){var e=this;return tl(function*(){if(!e.dbOpen)return e.open()})()}getItem(e){var t=this;return tl(function*(){return yield t.validateDbIsOpen(),new Promise((r,n)=>{if(!t.db)return n(Ri(ai));var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);o.addEventListener("success",e=>{var n=e;t.closeConnection(),r(n.target.result)}),o.addEventListener("error",e=>{t.closeConnection(),n(e)})})})()}setItem(e,t){var r=this;return tl(function*(){return yield r.validateDbIsOpen(),new Promise((n,o)=>{if(!r.db)return o(Ri(ai));var i=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(t,e);i.addEventListener("success",()=>{r.closeConnection(),n()}),i.addEventListener("error",e=>{r.closeConnection(),o(e)})})})()}removeItem(e){var t=this;return tl(function*(){return yield t.validateDbIsOpen(),new Promise((r,n)=>{if(!t.db)return n(Ri(ai));var o=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);o.addEventListener("success",()=>{t.closeConnection(),r()}),o.addEventListener("error",e=>{t.closeConnection(),n(e)})})})()}getKeys(){var e=this;return tl(function*(){return yield e.validateDbIsOpen(),new Promise((t,r)=>{if(!e.db)return r(Ri(ai));var n=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();n.addEventListener("success",r=>{var n=r;e.closeConnection(),t(n.target.result)}),n.addEventListener("error",t=>{e.closeConnection(),r(t)})})})()}containsKey(e){var t=this;return tl(function*(){return yield t.validateDbIsOpen(),new Promise((r,n)=>{if(!t.db)return n(Ri(ai));var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);o.addEventListener("success",e=>{var n=e;t.closeConnection(),r(1===n.target.result)}),o.addEventListener("error",e=>{t.closeConnection(),n(e)})})})()}deleteDatabase(){var e=this;return tl(function*(){return e.db&&e.dbOpen&&e.closeConnection(),new Promise((e,t)=>{var r=window.indexedDB.deleteDatabase(xo),n=setTimeout(()=>t(!1),200);r.addEventListener("success",()=>(clearTimeout(n),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(n),e(!0))),r.addEventListener("error",()=>(clearTimeout(n),t(!1)))})})()}}function nl(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ol(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){nl(i,n,o,a,c,"next",e)}function c(e){nl(i,n,o,a,c,"throw",e)}a(void 0)})}}class il{constructor(){this.cache=new Map}initialize(){return ol(function*(){})()}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}setUserData(e,t){var r=this;return ol(function*(){r.setItem(e,t)})()}removeItem(e){this.cache.delete(e)}getKeys(){var e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}function al(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function cl(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){al(i,n,o,a,c,"next",e)}function c(e){al(i,n,o,a,c,"throw",e)}a(void 0)})}}class ll{constructor(e){this.inMemoryCache=new il,this.indexedDBCache=new rl,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof _i&&e.errorCode===vi))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}getItem(e){var t=this;return cl(function*(){var r=t.inMemoryCache.getItem(e);if(!r)try{return t.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield t.indexedDBCache.getItem(e)}catch(e){t.handleDatabaseAccessError(e)}return r})()}setItem(e,t){var r=this;return cl(function*(){r.inMemoryCache.setItem(e,t);try{yield r.indexedDBCache.setItem(e,t)}catch(e){r.handleDatabaseAccessError(e)}})()}removeItem(e){var t=this;return cl(function*(){t.inMemoryCache.removeItem(e);try{yield t.indexedDBCache.removeItem(e)}catch(e){t.handleDatabaseAccessError(e)}})()}getKeys(){var e=this;return cl(function*(){var t=e.inMemoryCache.getKeys();if(0===t.length)try{return e.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield e.indexedDBCache.getKeys()}catch(t){e.handleDatabaseAccessError(t)}return t})()}containsKey(e){var t=this;return cl(function*(){var r=t.inMemoryCache.containsKey(e);if(!r)try{return t.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield t.indexedDBCache.containsKey(e)}catch(e){t.handleDatabaseAccessError(e)}return r})()}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}clearPersistent(){var e=this;return cl(function*(){try{e.logger.verbose("Deleting persistent keystore");var t=yield e.indexedDBCache.deleteDatabase();return t&&e.logger.verbose("Persistent keystore deleted"),t}catch(t){return e.handleDatabaseAccessError(t),!1}})()}}function sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(r),!0).forEach(function(t){dl(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dl(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fl(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function hl(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){fl(i,n,o,a,c,"next",e)}function c(e){fl(i,n,o,a,c,"throw",e)}a(void 0)})}}class pl{constructor(e,t,r){this.logger=e,function(e){if(!window)throw Ri(ii);if(!window.crypto)throw Ri(No);if(!e&&!window.crypto.subtle)throw Ri(No,"crypto_subtle_undefined")}(null!=r&&r),this.cache=new ll(this.logger),this.performanceClient=t}createNewGuid(){return Ka()}base64Encode(e){return Pa(e)}base64Decode(e){return Aa(e)}base64UrlEncode(e){return Sa(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}getPublicKeyThumbprint(e){var t=this;return hl(function*(){var r,n=null===(r=t.performanceClient)||void 0===r?void 0:r.startMeasurement(pr,e.correlationId),o=yield function(e,t){return Va.apply(this,arguments)}(pl.EXTRACTABLE,pl.POP_KEY_USAGES),i=yield Ga(o.publicKey),a=gl({e:i.e,kty:i.kty,n:i.n}),c=yield t.hashString(a),l=yield Ga(o.privateKey),s=yield function(e,t,r){return Ja.apply(this,arguments)}(l,!1,["sign"]);return yield t.cache.setItem(c,{privateKey:s,publicKey:o.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),c})()}removeTokenBindingKey(e){var t=this;return hl(function*(){if(yield t.cache.removeItem(e),yield t.cache.containsKey(e))throw Je(De)})()}clearKeystore(){var e=this;return hl(function*(){e.cache.clearInMemory();try{return yield e.cache.clearPersistent(),!0}catch(t){return t instanceof Error?e.logger.error("Clearing keystore failed with error: ".concat(t.message)):e.logger.error("Clearing keystore failed with unknown error"),!1}})()}signJwt(e,t,r,n){var o=this;return hl(function*(){var i,a=null===(i=o.performanceClient)||void 0===i?void 0:i.startMeasurement(gr,n),c=yield o.cache.getItem(t);if(!c)throw Ri(fi);var l=yield Ga(c.publicKey),s=gl(l),u=Sa(JSON.stringify({kid:t})),d=Sa(Zc.getShrHeaderString(ul(ul({},null==r?void 0:r.header),{},{alg:l.alg,kid:u})));e.cnf={jwk:JSON.parse(s)};var f=Sa(JSON.stringify(e)),h="".concat(d,".").concat(f),p=(new TextEncoder).encode(h),g=yield function(e,t){return Ya.apply(this,arguments)}(c.privateKey,p),v=Ia(new Uint8Array(g)),m="".concat(h,".").concat(v);return a&&a.end({success:!0}),m})()}hashString(e){return hl(function*(){return fc(e)})()}}function gl(e){return JSON.stringify(e,Object.keys(e).sort())}pl.POP_KEY_USAGES=["sign","verify"],pl.EXTRACTABLE=!0;var vl=(e,t,r,n,o)=>function(){r.trace("Executing function ".concat(t));var i=null==n?void 0:n.startMeasurement(t,o);if(o){var a=t+"CallCount";null==n||n.incrementFields({[a]:1},o)}try{var c=e(...arguments);return null==i||i.end({success:!0}),r.trace("Returning result from ".concat(t)),c}catch(e){r.trace("Error occurred in ".concat(t));try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw null==i||i.end({success:!1},e),e}},ml=(e,t,r,n,o)=>function(){r.trace("Executing function ".concat(t));var i=null==n?void 0:n.startMeasurement(t,o);if(o){var a=t+"CallCount";null==n||n.incrementFields({[a]:1},o)}return null==n||n.setPreQueueTime(t,o),e(...arguments).then(e=>(r.trace("Returning result from ".concat(t)),null==i||i.end({success:!0}),e)).catch(e=>{r.trace("Error occurred in ".concat(t));try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw null==i||i.end({success:!1},e),e})};function yl(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function bl(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){yl(i,n,o,a,c,"next",e)}function c(e){yl(i,n,o,a,c,"throw",e)}a(void 0)})}}class wl{constructor(e,t,r,n){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=n}detectRegion(e,t){var r=this;return bl(function*(){var n;null===(n=r.performanceClient)||void 0===n||n.addQueueMeasurement(pn,r.correlationId);var o=e;if(o)t.region_source="3";else{var i=wl.IMDS_OPTIONS;try{var a=yield ml(r.getRegionFromIMDS.bind(r),gn,r.logger,r.performanceClient,r.correlationId)(g.IMDS_VERSION,i);if(200===a.status&&(o=a.body,t.region_source="4"),400===a.status){var c=yield ml(r.getCurrentVersion.bind(r),vn,r.logger,r.performanceClient,r.correlationId)(i);if(!c)return t.region_source="1",null;var l=yield ml(r.getRegionFromIMDS.bind(r),gn,r.logger,r.performanceClient,r.correlationId)(c,i);200===l.status&&(o=l.body,t.region_source="4")}}catch(e){return t.region_source="1",null}}return o||(t.region_source="1"),o||null})()}getRegionFromIMDS(e,t){var r=this;return bl(function*(){var n;return null===(n=r.performanceClient)||void 0===n||n.addQueueMeasurement(gn,r.correlationId),r.networkInterface.sendGetRequestAsync("".concat(g.IMDS_ENDPOINT,"?api-version=").concat(e,"&format=text"),t,g.IMDS_TIMEOUT)})()}getCurrentVersion(e){var t=this;return bl(function*(){var r;null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(vn,t.correlationId);try{var n=yield t.networkInterface.sendGetRequestAsync("".concat(g.IMDS_ENDPOINT,"?format=json"),e);return 400===n.status&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch(e){return null}})()}}function kl(){return Math.round((new Date).getTime()/1e3)}function Cl(e){return e.getTime()/1e3}function Sl(e){return e?new Date(1e3*Number(e)):new Date}function Il(e,t){var r=Number(e)||0;return kl()+t>r}function Pl(e,t,r,n,o){return{credentialType:B.ID_TOKEN,homeAccountId:e,environment:t,clientId:n,secret:r,realm:o,lastUpdatedAt:Date.now().toString()}}function Tl(e,t,r,n,o,i,a,c,l,s,u,d,f,h,p){var g,v,m={homeAccountId:e,credentialType:B.ACCESS_TOKEN,secret:r,cachedAt:kl().toString(),expiresOn:a.toString(),extendedExpiresOn:c.toString(),environment:t,clientId:n,realm:o,target:i,tokenType:u||V.BEARER,lastUpdatedAt:Date.now().toString()};if(d&&(m.userAssertionHash=d),s&&(m.refreshOn=s.toString()),h&&(m.requestedClaims=h,m.requestedClaimsHash=p),(null===(g=m.tokenType)||void 0===g?void 0:g.toLowerCase())!==V.BEARER.toLowerCase())switch(m.credentialType=B.ACCESS_TOKEN_WITH_AUTH_SCHEME,m.tokenType){case V.POP:var y=qt(r,l);if(null==y||null===(v=y.cnf)||void 0===v||!v.kid)throw Je(Be);m.keyId=y.cnf.kid;break;case V.SSH:m.keyId=f}return m}function Al(e,t,r,n,o,i,a){var c={credentialType:B.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:n,secret:r,lastUpdatedAt:Date.now().toString()};return i&&(c.userAssertionHash=i),o&&(c.familyId=o),a&&(c.expiresOn=a.toString()),c}function Ol(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function xl(e){return!!e&&Ol(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===B.ACCESS_TOKEN||e.credentialType===B.ACCESS_TOKEN_WITH_AUTH_SCHEME)}function El(e){return!!e&&Ol(e)&&e.credentialType===B.REFRESH_TOKEN}function _l(){return kl()+86400}function Rl(e,t,r){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=r,e.jwks_uri=t.jwks_uri}function jl(e,t,r){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=r}function Ml(e){return e.expiresAt<=kl()}function Nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(r),!0).forEach(function(t){Bl(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Bl(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ql(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Dl(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ql(i,n,o,a,c,"next",e)}function c(e){ql(i,n,o,a,c,"throw",e)}a(void 0)})}}wl.IMDS_OPTIONS={headers:{Metadata:"true"}};class Fl{constructor(e,t,r,n,o,i,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=n,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=i,this.managedIdentity=c||!1,this.regionDiscovery=new wl(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(g.CIAM_AUTH_URL))return 3;var t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case g.ADFS:return 1;case g.DSTS:return 2}return 0}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Kt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Je(ce)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Je(ce)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Je(ce)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Je(Fe);return this.replacePath(this.metadata.end_session_endpoint)}throw Je(ce)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Je(ce)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Je(ce)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Fl.reservedTenantDomains.has(e.PathSegments[0])&&0===this.getAuthorityType(e)&&this.protocolMode!==J}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){var t=e,r=new Kt(this.metadata.canonical_authority).getUrlComponents(),n=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((e,o)=>{var i=n[o];if(0===o&&this.canReplaceTenant(r)){var a=new Kt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==a&&(this.logger.verbose("Replacing tenant domain name ".concat(i," with id ").concat(a)),i=a)}e!==i&&(t=t.replace("/".concat(i,"/"),"/".concat(e,"/")))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){var e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||1===this.authorityType||this.protocolMode===J&&!this.isAliasOfKnownMicrosoftAuthority(e)?"".concat(this.canonicalAuthority,".well-known/openid-configuration"):"".concat(this.canonicalAuthority,"v2.0/.well-known/openid-configuration")}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){var e=this;return Dl(function*(){var t,r;null===(t=e.performanceClient)||void 0===t||t.addQueueMeasurement(ln,e.correlationId);var n=e.getCurrentMetadataEntity(),o=yield ml(e.updateCloudDiscoveryMetadata.bind(e),un,e.logger,e.performanceClient,e.correlationId)(n);e.canonicalAuthority=e.canonicalAuthority.replace(e.hostnameAndPort,n.preferred_network);var i=yield ml(e.updateEndpointMetadata.bind(e),fn,e.logger,e.performanceClient,e.correlationId)(n);e.updateCachedMetadata(n,o,{source:i}),null===(r=e.performanceClient)||void 0===r||r.addFields({cloudDiscoverySource:o,authorityEndpointSource:i},e.correlationId)})()}getCurrentMetadataEntity(){var e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:_l(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==U&&(null==r?void 0:r.source)!==U&&(e.expiresAt=_l(),e.canonical_authority=this.canonicalAuthority);var n=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(n,e),this.metadata=e}updateEndpointMetadata(e){var t=this;return Dl(function*(){var r;null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(fn,t.correlationId);var n=t.updateEndpointMetadataFromLocalSources(e);if(n){var o;if(n.source===W&&null!==(o=t.authorityOptions.azureRegionConfiguration)&&void 0!==o&&o.azureRegion&&n.metadata){var i=yield ml(t.updateMetadataWithRegionalInformation.bind(t),hn,t.logger,t.performanceClient,t.correlationId)(n.metadata);Rl(e,i,!1),e.canonical_authority=t.canonicalAuthority}return n.source}var a,c=yield ml(t.getEndpointMetadataFromNetwork.bind(t),dn,t.logger,t.performanceClient,t.correlationId)();if(c)return null!==(a=t.authorityOptions.azureRegionConfiguration)&&void 0!==a&&a.azureRegion&&(c=yield ml(t.updateMetadataWithRegionalInformation.bind(t),hn,t.logger,t.performanceClient,t.correlationId)(c)),Rl(e,c,!0),H;throw Je(se,t.defaultOpenIdConfigurationEndpoint)})()}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");var t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Rl(e,t,!1),{source:L};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{var r=this.getEndpointMetadataFromHardcodedValues();if(r)return Rl(e,r,!1),{source:W,metadata:r};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}var n=Ml(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:U}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Kt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw Tt(ht)}return null}getEndpointMetadataFromNetwork(){var e=this;return Dl(function*(){var t;null===(t=e.performanceClient)||void 0===t||t.addQueueMeasurement(dn,e.correlationId);var r=e.defaultOpenIdConfigurationEndpoint;e.logger.verbose("Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ".concat(r));try{var n=yield e.networkInterface.sendGetRequestAsync(r,{}),o=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return o?n.body:(e.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(t){return e.logger.verbose("Authority.getEndpointMetadataFromNetwork: ".concat(t)),null}})()}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Vt?Vt[this.hostnameAndPort]:null}updateMetadataWithRegionalInformation(e){var t=this;return Dl(function*(){var r,n;null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(hn,t.correlationId);var o=null===(n=t.authorityOptions.azureRegionConfiguration)||void 0===n?void 0:n.azureRegion;if(o){var i;if(o!==g.AZURE_REGION_AUTO_DISCOVER_FLAG)return t.regionDiscoveryMetadata.region_outcome="2",t.regionDiscoveryMetadata.region_used=o,Fl.replaceWithRegionalInformation(e,o);var a=yield ml(t.regionDiscovery.detectRegion.bind(t.regionDiscovery),pn,t.logger,t.performanceClient,t.correlationId)(null===(i=t.authorityOptions.azureRegionConfiguration)||void 0===i?void 0:i.environmentRegion,t.regionDiscoveryMetadata);if(a)return t.regionDiscoveryMetadata.region_outcome="4",t.regionDiscoveryMetadata.region_used=a,Fl.replaceWithRegionalInformation(e,a);t.regionDiscoveryMetadata.region_outcome="5"}return e})()}updateCloudDiscoveryMetadata(e){var t=this;return Dl(function*(){var r;null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(un,t.correlationId);var n=t.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;var o=yield ml(t.getCloudDiscoveryMetadataFromNetwork.bind(t),sn,t.logger,t.performanceClient,t.correlationId)();if(o)return jl(e,o,!0),H;throw Tt(pt)})()}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii("Known Authorities: ".concat(this.authorityOptions.knownAuthorities||g.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: ".concat(this.authorityOptions.authorityMetadata||g.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: ".concat(e.canonical_authority||g.NOT_APPLICABLE));var t,r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),jl(e,r,!1),L;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{var n=(t=this.hostnameAndPort,Yt(Gt.metadata,t));if(n)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),jl(e,n,!1),W;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var o=Ml(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!o?(this.logger.verbose("Found cloud discovery metadata in the cache."),U):(o&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(3===this.authorityType)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Fl.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var e=Yt(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Tt(ft)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Fl.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){var e=this;return Dl(function*(){var t;null===(t=e.performanceClient)||void 0===t||t.addQueueMeasurement(sn,e.correlationId);var r="".concat(g.AAD_INSTANCE_DISCOVERY_ENDPT).concat(e.canonicalAuthority,"oauth2/v2.0/authorize"),n=null;try{var o,i,a=yield e.networkInterface.sendGetRequestAsync(r,{});if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(a.body))i=(o=a.body).metadata,e.logger.verbosePii("tenant_discovery_endpoint is: ".concat(o.tenant_discovery_endpoint));else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(a.body))return e.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(e.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ".concat(a.status)),(o=a.body).error===g.INVALID_INSTANCE)return e.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;e.logger.warning("The CloudInstanceDiscoveryErrorResponse error is ".concat(o.error)),e.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is ".concat(o.error_description)),e.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}e.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Yt(i,e.hostnameAndPort)}catch(t){if(t instanceof te)e.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: ".concat(t.errorCode,"\nError Description: ").concat(t.errorMessage));else{var c=t;e.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ".concat(c.name,"\nError Description: ").concat(c.message))}return null}return n||(e.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),e.logger.verbose("Creating custom Authority for custom domain scenario."),n=Fl.createCloudDiscoveryMetadataFromHost(e.hostnameAndPort)),n})()}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&Kt.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){var r;if(t&&t.azureCloudInstance!==X){var n=t.tenant?t.tenant:g.DEFAULT_COMMON_TENANT;r="".concat(t.azureCloudInstance,"/").concat(n,"/")}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return g.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Je(ce)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Qt.has(e)}static isPublicCloudAuthority(e){return g.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){var n=new Kt(e);n.validateAsUri();var o=n.getUrlComponents(),i="".concat(t,".").concat(o.HostNameAndPort);this.isPublicCloudAuthority(o.HostNameAndPort)&&(i="".concat(t,".").concat(g.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX));var a=Kt.constructAuthorityUriFromObject(zl(zl({},n.getUrlComponents()),{},{HostNameAndPort:i})).urlString;return r?"".concat(a,"?").concat(r):a}static replaceWithRegionalInformation(e,t){var r=zl({},e);return r.authorization_endpoint=Fl.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=Fl.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=Fl.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){var t=e,r=new Kt(e).getUrlComponents();if(0===r.PathSegments.length&&r.HostNameAndPort.endsWith(g.CIAM_AUTH_URL)){var n=r.HostNameAndPort.split(".")[0];t="".concat(t).concat(n).concat(g.AAD_TENANT_DOMAIN_SUFFIX)}return t}}function Ll(e){return e.endsWith(g.FORWARD_SLASH)?e:"".concat(e).concat(g.FORWARD_SLASH)}Fl.reservedTenantDomains=new Set(["{tenant}","{tenantid}",P,A,T]);var Ul="no_tokens_found",Hl="native_account_unavailable",Wl="refresh_token_expired",Kl="ux_not_allowed",Vl="bad_token",Gl=["interaction_required","consent_required","login_required",Vl,Kl],Ql=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Jl={[Ul]:"No refresh token found in the cache. Please sign-in.",[Hl]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Wl]:"Refresh token has expired.",[Vl]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[Kl]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class Yl extends te{constructor(e,t,r,n,o,i,a,c){super(e,t,r),Object.setPrototypeOf(this,Yl.prototype),this.timestamp=n||g.EMPTY_STRING,this.traceId=o||g.EMPTY_STRING,this.correlationId=i||g.EMPTY_STRING,this.claims=a||g.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function Xl(e,t,r){var n=!!e&&Gl.indexOf(e)>-1,o=!!r&&Ql.indexOf(r)>-1,i=!!t&&Gl.some(e=>t.indexOf(e)>-1);return n||i||o}function $l(e){return new Yl(e,Jl[e])}function Zl(e,t){if(!e)throw Je(oe);try{var r=t(e);return JSON.parse(r)}catch(e){throw Je(ne)}}function es(e){if(!e)throw Je(ne);var t=e.split(".",2);return{uid:t[0],utid:t.length<2?g.EMPTY_STRING:t[1]}}function ts(e){return e&&(e.tid||e.tfp||e.acr)||null}class rs{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e])),dataBoundary:this.dataBoundary}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,t,r){var n,o,i,a,c,l,s,u,d,f,h=new rs;1===t.authorityType?h.authorityType="ADFS":t.protocolMode===J?h.authorityType=z:h.authorityType="MSSTS",e.clientInfo&&r&&(f=Zl(e.clientInfo,r)).xms_tdbr&&(h.dataBoundary="EU"===f.xms_tdbr?"EU":"None"),h.clientInfo=e.clientInfo,h.homeAccountId=e.homeAccountId,h.nativeAccountId=e.nativeAccountId;var p=e.environment||t&&t.getPreferredCache();if(!p)throw Je(xe);h.environment=p,h.realm=(null===(n=f)||void 0===n?void 0:n.utid)||ts(e.idTokenClaims)||"",h.localAccountId=(null===(o=f)||void 0===o?void 0:o.uid)||(null===(i=e.idTokenClaims)||void 0===i?void 0:i.oid)||(null===(a=e.idTokenClaims)||void 0===a?void 0:a.sub)||"";var g=(null===(c=e.idTokenClaims)||void 0===c?void 0:c.preferred_username)||(null===(l=e.idTokenClaims)||void 0===l?void 0:l.upn),v=null!==(s=e.idTokenClaims)&&void 0!==s&&s.emails?e.idTokenClaims.emails[0]:null;if(h.username=g||v||"",h.loginHint=null===(u=e.idTokenClaims)||void 0===u?void 0:u.login_hint,h.name=(null===(d=e.idTokenClaims)||void 0===d?void 0:d.name)||"",h.cloudGraphHostName=e.cloudGraphHostName,h.msGraphHost=e.msGraphHost,e.tenantProfiles)h.tenantProfiles=e.tenantProfiles;else{var m=zt(e.homeAccountId,h.localAccountId,h.realm,e.idTokenClaims);h.tenantProfiles=[m]}return h}static createFromAccountInfo(e,t,r){var n,o=new rs;return o.authorityType=e.authorityType||z,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.loginHint=e.loginHint,o.cloudGraphHostName=t,o.msGraphHost=r,o.tenantProfiles=Array.from((null===(n=e.tenantProfiles)||void 0===n?void 0:n.values())||[]),o.dataBoundary=e.dataBoundary,o}static generateHomeAccountId(e,t,r,n,o){if(1!==t&&2!==t){if(e)try{var i=Zl(e,n.base64Decode);if(i.uid&&i.utid)return"".concat(i.uid,".").concat(i.utid)}catch(e){}r.warning("No client info in response")}return(null==o?void 0:o.sub)||""}static isAccountEntity(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;var n=!0;if(r){var o=e.idTokenClaims||{},i=t.idTokenClaims||{};n=o.iat===i.iat&&o.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.loginHint===t.loginHint&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&n}}function ns(e,t,r){var n;return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:r,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||(null===(n=t.tokenBodyParameters)||void 0===n?void 0:n.clientId)}}function os(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var is="None";class as{initialize(){return Promise.resolve()}getItem(e){for(var t="".concat(encodeURIComponent(e)),r=document.cookie.split(";"),n=0;n<r.length;n++){var o=r[n],[i,...a]=decodeURIComponent(o).trim().split("="),c=a.join("=");if(i===t)return c}return""}getUserData(){throw Je(Ke)}setItem(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Lax",i="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),";path=/;SameSite=").concat(o,";");if(r){var a=function(e){var t=new Date;return new Date(t.getTime()+864e5*e).toUTCString()}(r);i+="expires=".concat(a,";")}(n||o===is)&&(i+="Secure;"),document.cookie=i}setUserData(){return(e=function*(){return Promise.reject(Je(Ke))},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){os(i,n,o,a,c,"next",e)}function c(e){os(i,n,o,a,c,"throw",e)}a(void 0)})})();var e}removeItem(e){this.setItem(e,"",-1)}getKeys(){var e=document.cookie.split(";"),t=[];return e.forEach(e=>{var r=decodeURIComponent(e).trim().split("=");t.push(r[0])}),t}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function cs(e,t){var r=e.getItem(Lc(t));return r?JSON.parse(r):[]}function ls(e,t,r){var n=t.getItem(Uc(e,r));if(n){var o=JSON.parse(n);if(o&&o.hasOwnProperty("idToken")&&o.hasOwnProperty("accessToken")&&o.hasOwnProperty("refreshToken"))return o}return{idToken:[],accessToken:[],refreshToken:[]}}function ss(e){return e.hasOwnProperty("id")&&e.hasOwnProperty("nonce")&&e.hasOwnProperty("data")}function us(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ds(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){us(i,n,o,a,c,"next",e)}function c(e){us(i,n,o,a,c,"throw",e)}a(void 0)})}}var fs="msal.cache.encryption";class hs{constructor(e,t,r){if(!window.localStorage)throw bc(pc);this.memoryStorage=new il,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=r,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}initialize(e){var t=this;return ds(function*(){var r=new as,n=r.getItem(fs),o={key:"",id:""};if(n)try{o=JSON.parse(n)}catch(e){}if(o.key&&o.id){var i=vl(Oa,Mn,t.logger,t.performanceClient,e)(o.key);t.encryptionCookie={id:o.id,key:yield ml(oc,Rn,t.logger,t.performanceClient,e)(i)}}else{var a=Ka(),c=yield ml(rc,jn,t.logger,t.performanceClient,e)(),l=vl(Ia,Nn,t.logger,t.performanceClient,e)(new Uint8Array(c));t.encryptionCookie={id:a,key:yield ml(oc,Rn,t.logger,t.performanceClient,e)(c)};var s={id:a,key:l};r.setItem(fs,JSON.stringify(s),0,!0,is)}yield ml(t.importExistingCache.bind(t),In,t.logger,t.performanceClient,e)(e),t.broadcast.addEventListener("message",t.updateCache.bind(t)),t.initialized=!0})()}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Ri(ki);return this.memoryStorage.getItem(e)}decryptData(e,t,r){var n=this;return ds(function*(){if(!n.initialized||!n.encryptionCookie)throw Ri(ki);if(t.id!==n.encryptionCookie.id)return n.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null;var o=yield ml(uc,Bn,n.logger,n.performanceClient,r)(n.encryptionCookie.key,t.nonce,n.getContext(e),t.data);if(!o)return null;try{return JSON.parse(o)}catch(e){return n.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},r),null}})()}setItem(e,t){window.localStorage.setItem(e,t)}setUserData(e,t,r,n){var o=this;return ds(function*(){if(!o.initialized||!o.encryptionCookie)throw Ri(ki);var{data:i,nonce:a}=yield ml(lc,zn,o.logger,o.performanceClient,r)(o.encryptionCookie.key,t,o.getContext(e)),c={id:o.encryptionCookie.id,nonce:a,data:i,lastUpdatedAt:n};o.memoryStorage.setItem(e,t),o.setItem(e,JSON.stringify(c)),o.broadcast.postMessage({key:e,value:t,context:o.getContext(e)})})()}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),cs(this).forEach(e=>this.removeItem(e));var e=ls(this.clientId,this);e.idToken.forEach(e=>this.removeItem(e)),e.accessToken.forEach(e=>this.removeItem(e)),e.refreshToken.forEach(e=>this.removeItem(e)),this.getKeys().forEach(e=>{(e.startsWith(jc)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)})}importExistingCache(e){var t=this;return ds(function*(){if(t.encryptionCookie){var r=cs(t);(r=yield t.importArray(r,e)).length?t.setItem(Lc(),JSON.stringify(r)):t.removeItem(Lc());var n=ls(t.clientId,t);n.idToken=yield t.importArray(n.idToken,e),n.accessToken=yield t.importArray(n.accessToken,e),n.refreshToken=yield t.importArray(n.refreshToken,e),n.idToken.length||n.accessToken.length||n.refreshToken.length?t.setItem(Uc(t.clientId),JSON.stringify(n)):t.removeItem(Uc(t.clientId))}})()}getItemFromEncryptedCache(e,t){var r=this;return ds(function*(){if(!r.encryptionCookie)return null;var n,o=r.getItem(e);if(!o)return null;try{n=JSON.parse(o)}catch(e){return null}return ss(n)?n.id!==r.encryptionCookie.id?(r.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):ml(uc,Bn,r.logger,r.performanceClient,t)(r.encryptionCookie.key,n.nonce,r.getContext(e),n.data):(r.performanceClient.incrementFields({unencryptedCacheCount:1},t),n)})()}importArray(e,t){var r=this;return ds(function*(){var n=[],o=[];return e.forEach(e=>{var i=r.getItemFromEncryptedCache(e,t).then(t=>{t?(r.memoryStorage.setItem(e,t),n.push(e)):r.removeItem(e)});o.push(i)}),yield Promise.all(o),n})()}getContext(e){var t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");var t=this.performanceClient.startMeasurement(Tn);t.add({isBackground:!0});var{key:r,value:n,context:o}=e.data;return r?o&&o!==this.clientId?(this.logger.trace("Ignoring broadcast event from clientId: ".concat(o)),void t.end({success:!1,errorCode:"contextMismatch"})):(n?(this.memoryStorage.setItem(r,n),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}function ps(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function gs(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ps(i,n,o,a,c,"next",e)}function c(e){ps(i,n,o,a,c,"throw",e)}a(void 0)})}}class vs{constructor(){if(!window.sessionStorage)throw bc(pc)}initialize(){return gs(function*(){})()}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}setUserData(e,t){var r=this;return gs(function*(){r.setItem(e,t)})()}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}var ms="msal:initializeEnd",ys="msal:accountAdded",bs="msal:accountRemoved",ws="msal:activeAccountChanged",ks="msal:loginStart",Cs="msal:loginSuccess",Ss="msal:loginFailure",Is="msal:acquireTokenStart",Ps="msal:acquireTokenSuccess",Ts="msal:acquireTokenFailure",As="msal:acquireTokenByCodeFailure",Os="msal:handleRedirectEnd",xs="msal:popupOpened",Es="msal:logoutStart",_s="msal:logoutSuccess",Rs="msal:logoutFailure",js="msal:logoutEnd";function Ms(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}function Ns(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function zs(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Ns(i,n,o,a,c,"next",e)}function c(e){Ns(i,n,o,a,c,"throw",e)}a(void 0)})}}class Bs extends ar{constructor(e,t,r,n,o,i,a){super(e,r,n,o,a),this.cacheConfig=t,this.logger=n,this.internalStorage=new il,this.browserStorage=qs(e,t.cacheLocation,n,o),this.temporaryCacheStorage=qs(e,t.temporaryCacheLocation,n,o),this.cookieStorage=new as,this.eventHandler=i}initialize(e){var t=this;return zs(function*(){t.performanceClient.addFields({cacheLocation:t.cacheConfig.cacheLocation,cacheRetentionDays:t.cacheConfig.cacheRetentionDays},e),yield t.browserStorage.initialize(e),yield t.migrateExistingCache(e),t.trackVersionChanges(e)})()}migrateExistingCache(e){var t=this;return zs(function*(){var r=cs(t.browserStorage,0),n=ls(t.clientId,t.browserStorage,0);t.performanceClient.addFields({oldAccountCount:r.length,oldAccessCount:n.accessToken.length,oldIdCount:n.idToken.length,oldRefreshCount:n.refreshToken.length},e);var o=cs(t.browserStorage,1),i=ls(t.clientId,t.browserStorage,1);t.performanceClient.addFields({currAccountCount:o.length,currAccessCount:i.accessToken.length,currIdCount:i.idToken.length,currRefreshCount:i.refreshToken.length},e),yield Promise.all([t.updateV0ToCurrent(1,r,o,e),t.updateV0ToCurrent(1,n.idToken,i.idToken,e),t.updateV0ToCurrent(1,n.accessToken,i.accessToken,e),t.updateV0ToCurrent(1,n.refreshToken,i.refreshToken,e)]),r.length>0?t.browserStorage.setItem(Lc(0),JSON.stringify(r)):t.browserStorage.removeItem(Lc(0)),o.length>0?t.browserStorage.setItem(Lc(1),JSON.stringify(o)):t.browserStorage.removeItem(Lc(1)),t.setTokenKeys(n,e,0),t.setTokenKeys(i,e,1)})()}updateV0ToCurrent(e,t,r,n){var o=this;return zs(function*(){var i=[],a=function*(){var a=o.browserStorage.getItem(c),l=o.validateAndParseJson(a||"");if(!l)return Ms(t,c),0;l.lastUpdatedAt||(l.lastUpdatedAt=Date.now().toString(),o.setItem(c,JSON.stringify(l),n));var s,u,d,f,h=ss(l)?yield o.browserStorage.decryptData(c,l,n):l;if(h&&(xl(h)||El(h))&&(s=h.expiresOn),!h||(u=l.lastUpdatedAt,d=o.cacheConfig.cacheRetentionDays,f=Number(u)+24*d*60*60*1e3,Date.now()>f)||s&&Il(s,300))return o.browserStorage.removeItem(c),Ms(t,c),o.performanceClient.incrementFields({expiredCacheRemovedCount:1},n),0;if(o.cacheConfig.cacheLocation!==ho||ss(l)){var p="".concat(jc,".").concat(e).concat("-").concat(c),g=o.browserStorage.getItem(p);if(!g)return i.push(o.setUserData(p,JSON.stringify(h),n,l.lastUpdatedAt).then(()=>{r.push(p),o.performanceClient.incrementFields({upgradedCacheCount:1},n)})),0;var v=o.validateAndParseJson(g);if(Number(l.lastUpdatedAt)>Number(v.lastUpdatedAt))return i.push(o.setUserData(p,JSON.stringify(h),n,l.lastUpdatedAt).then(()=>{o.performanceClient.incrementFields({updatedCacheFromV0Count:1},n)})),0}};for(var c of[...t])yield*a();return Promise.all(i)})()}trackVersionChanges(e){var t=this.browserStorage.getItem(qc);t&&(this.logger.info("MSAL.js was last initialized by version: ".concat(t)),this.performanceClient.addFields({previousLibraryVersion:t},e)),t!==Rc&&this.setItem(qc,Rc,e)}validateAndParseJson(e){if(!e)return null;try{var t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch(e){return null}}setItem(e,t,r){for(var n=0,o=[],i=0;i<=20;i++)try{this.browserStorage.setItem(e,t),i>0&&(i<=n?this.removeAccessTokenKeys(o.slice(0,i),r,0):(this.removeAccessTokenKeys(o.slice(0,n),r,0),this.removeAccessTokenKeys(o.slice(n,i),r)));break}catch(s){var a=tr(s);if(!(a.errorCode===Xt&&i<20))throw a;if(!o.length){var c=e===Uc(this.clientId,0)?JSON.parse(t).accessToken:this.getTokenKeys(0).accessToken,l=e===Uc(this.clientId)?JSON.parse(t).accessToken:this.getTokenKeys().accessToken;o=[...c,...l],n=c.length}if(o.length<=i)throw a;this.removeAccessToken(o[i],r,!1)}}setUserData(e,t,r,n){var o=this;return zs(function*(){for(var i=0,a=[],c=0;c<=20;c++)try{yield ml(o.browserStorage.setUserData.bind(o.browserStorage),Pn,o.logger,o.performanceClient)(e,t,r,n),c>0&&(c<=i?o.removeAccessTokenKeys(a.slice(0,c),r,0):(o.removeAccessTokenKeys(a.slice(0,i),r,0),o.removeAccessTokenKeys(a.slice(i,c),r)));break}catch(e){var l=tr(e);if(!(l.errorCode===Xt&&c<20))throw l;if(!a.length){var s=o.getTokenKeys(0).accessToken,u=o.getTokenKeys().accessToken;a=[...s,...u],i=s.length}if(a.length<=c)throw l;o.removeAccessToken(a[c],r,!1)}})()}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");var r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,t),null;var n=this.validateAndParseJson(r);return n&&rs.isAccountEntity(n)?ar.toObject(new rs,n):null}setAccount(e,t){var r=this;return zs(function*(){r.logger.trace("BrowserCacheManager.setAccount called");var n=r.generateAccountKey(e.getAccountInfo()),o=Date.now().toString();e.lastUpdatedAt=o,yield r.setUserData(n,JSON.stringify(e),t,o);var i=r.addAccountKeyToMap(n,t);r.cacheConfig.cacheLocation===ho&&i&&r.eventHandler.emitEvent(ys,void 0,e.getAccountInfo())})()}getAccountKeys(){return cs(this.browserStorage)}addAccountKeyToMap(e,t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: ".concat(e));var r=this.getAccountKeys();return-1===r.indexOf(e)?(r.push(e),this.setItem(Lc(),JSON.stringify(r),t),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,t){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: ".concat(e));var r=this.getAccountKeys(),n=r.indexOf(e);if(n>-1){if(r.splice(n,1),0===r.length)return void this.removeItem(Lc());this.setItem(Lc(),JSON.stringify(r),t),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,t){var r=this.getActiveAccount(t);(null==r?void 0:r.homeAccountId)===e.homeAccountId&&(null==r?void 0:r.environment)===e.environment&&this.setActiveAccount(null,t),super.removeAccount(e,t),this.removeAccountKeyFromMap(this.generateAccountKey(e),t),this.browserStorage.getKeys().forEach(t=>{t.includes(e.homeAccountId)&&t.includes(e.environment)&&this.browserStorage.removeItem(t)}),this.cacheConfig.cacheLocation===ho&&this.eventHandler.emitEvent(bs,void 0,e)}removeIdToken(e,t){super.removeIdToken(e,t);var r=this.getTokenKeys(),n=r.idToken.indexOf(e);n>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(n,1),this.setTokenKeys(r,t))}removeAccessToken(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super.removeAccessToken(e,t),r&&this.removeAccessTokenKeys([e],t)}removeAccessTokenKeys(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.logger.trace("removeAccessTokenKey called");var n=this.getTokenKeys(r),o=0;if(e.forEach(e=>{var t=n.accessToken.indexOf(e);t>-1&&(n.accessToken.splice(t,1),o++)}),o>0)return this.logger.info("removed ".concat(o," accessToken keys from tokenKeys map")),void this.setTokenKeys(n,t,r)}removeRefreshToken(e,t){super.removeRefreshToken(e,t);var r=this.getTokenKeys(),n=r.refreshToken.indexOf(e);n>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(n,1),this.setTokenKeys(r,t))}getTokenKeys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return ls(this.clientId,this.browserStorage,e)}setTokenKeys(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;0!==e.idToken.length||0!==e.accessToken.length||0!==e.refreshToken.length?this.setItem(Uc(this.clientId,r),JSON.stringify(e),t):this.removeItem(Uc(this.clientId,r))}getIdTokenCredential(e,t){var r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,t),null;var n,o=this.validateAndParseJson(r);return o&&(n=o)&&Ol(n)&&n.hasOwnProperty("realm")&&n.credentialType===B.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),o):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)}setIdTokenCredential(e,t){var r=this;return zs(function*(){r.logger.trace("BrowserCacheManager.setIdTokenCredential called");var n=r.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,yield r.setUserData(n,JSON.stringify(e),t,o);var i=r.getTokenKeys();-1===i.idToken.indexOf(n)&&(r.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(n),r.setTokenKeys(i,t))})()}getAccessTokenCredential(e,t){var r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],t),null;var n=this.validateAndParseJson(r);return n&&xl(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)}setAccessTokenCredential(e,t){var r=this;return zs(function*(){r.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var n=r.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,yield r.setUserData(n,JSON.stringify(e),t,o);var i=r.getTokenKeys(),a=i.accessToken.indexOf(n);-1!==a&&i.accessToken.splice(a,1),r.logger.trace("access token ".concat(-1===a?"added to":"updated in"," map")),i.accessToken.push(n),r.setTokenKeys(i,t)})()}getRefreshTokenCredential(e,t){var r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,t),null;var n=this.validateAndParseJson(r);return n&&El(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)}setRefreshTokenCredential(e,t){var r=this;return zs(function*(){r.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var n=r.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,yield r.setUserData(n,JSON.stringify(e),t,o);var i=r.getTokenKeys();-1===i.refreshToken.indexOf(n)&&(r.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(n),r.setTokenKeys(i,t))})()}getAppMetadata(e){var t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var r,n=this.validateAndParseJson(t);return n&&((r=n)&&0===e.indexOf(q)&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)}setAppMetadata(e,t){this.logger.trace("BrowserCacheManager.setAppMetadata called");var r=function(e){var{environment:t,clientId:r}=e;return[q,t,r].join("-").toLowerCase()}(e);this.setItem(r,JSON.stringify(e),t)}getServerTelemetry(e){var t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var r,n,o,i=this.validateAndParseJson(t);return i&&(r=i,n=0===e.indexOf(K.CACHE_KEY),o=!0,r&&(o=r.hasOwnProperty("failedRequests")&&r.hasOwnProperty("errors")&&r.hasOwnProperty("cacheHits")),n&&o)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),i):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t),r)}getAuthorityMetadata(e){var t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&function(e,t){return!!t&&0===e.indexOf(F)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(e=>this.isAuthorityMetadata(e))}setWrapperMetadata(e,t){this.internalStorage.setItem(Io,e),this.internalStorage.setItem(Po,t)}getWrapperMetadata(){return[this.internalStorage.getItem(Io)||g.EMPTY_STRING,this.internalStorage.getItem(Po)||g.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(e){var t=this.generateCacheKey(I),r=this.browserStorage.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;var n=this.validateAndParseJson(r);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,t){var r=this.generateCacheKey(I);if(e){this.logger.verbose("setActiveAccount: Active account set");var n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:kl().toString()};this.setItem(r,JSON.stringify(n),t)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(ws)}getThrottlingCache(e){var t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&function(e,t){var r=!1;e&&(r=0===e.indexOf(G));var n=!0;return t&&(n=t.hasOwnProperty("throttleTime")),r&&n}(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t),r)}getTemporaryCache(e,t){var r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var n=this.cookieStorage.getItem(r);if(n)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),n}var o=this.temporaryCacheStorage.getItem(r);if(!o){if(this.cacheConfig.cacheLocation===ho){var i=this.browserStorage.getItem(r);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o}setTemporaryCache(e,t,r){var n=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(n,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(n,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(e=>{-1===e.indexOf(jc)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{-1===e.indexOf(jc)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(Cn,e);var t=this.getTokenKeys(),r=0;t.accessToken.forEach(t=>{var n=this.getAccessTokenCredential(t,e);null!=n&&n.requestedClaimsHash&&t.includes(n.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(t,e),r++)}),r>0&&this.logger.warning("".concat(r," access tokens with claims in the cache keys have been removed from the cache."))}generateCacheKey(e){return At.startsWith(e,jc)?e:"".concat(jc,".").concat(this.clientId,".").concat(e)}generateCredentialKey(e){var t=e.credentialType===B.REFRESH_TOKEN&&e.familyId||e.clientId,r=e.tokenType&&e.tokenType.toLowerCase()!==V.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return["".concat(jc,".").concat(1),e.homeAccountId,e.environment,e.credentialType,t,e.realm||"",e.target||"",e.requestedClaimsHash||"",r].join("-").toLowerCase()}generateAccountKey(e){var t=e.homeAccountId.split(".")[1];return["".concat(jc,".").concat(1),e.homeAccountId,e.environment,t||e.tenantId||""].join("-").toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(wo)),this.removeTemporaryItem(this.generateCacheKey(ko)),this.removeTemporaryItem(this.generateCacheKey(yo)),this.removeTemporaryItem(this.generateCacheKey(bo)),this.removeTemporaryItem(this.generateCacheKey(So)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");var r=Pa(JSON.stringify(e));if(this.setTemporaryCache(wo,r,!0),t){var n=Pa(t);this.setTemporaryCache(ko,n,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");var e=this.getTemporaryCache(wo,!0);if(!e)throw Ri(ti);var t,r=this.getTemporaryCache(ko,!0),n="";try{t=JSON.parse(Aa(e)),r&&(n=Aa(r))}catch(t){throw this.logger.errorPii("Attempted to parse: ".concat(e)),this.logger.error("Parsing cached token request threw with error: ".concat(t)),Ri(ri)}return[t,n]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var e=this.getTemporaryCache(So,!0);return e?this.validateAndParseJson(e)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)}isInteractionInProgress(e){var t,r=null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId;return e?r===this.clientId:!!r}getInteractionInProgress(){var e="".concat(jc,".").concat(Co),t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch(t){return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),wc(window),null}}setInteractionInProgress(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vo,n="".concat(jc,".").concat(Co);if(e){if(this.getInteractionInProgress())throw Ri(Uo);this.setTemporaryCache(n,JSON.stringify({clientId:this.clientId,type:r}),!1)}else e||(null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId)!==this.clientId||this.removeTemporaryItem(n)}hydrateCache(e,t){var r=this;return zs(function*(){var n,o,i,a,c=Pl(null===(n=e.account)||void 0===n?void 0:n.homeAccountId,null===(o=e.account)||void 0===o?void 0:o.environment,e.idToken,r.clientId,e.tenantId);t.claims&&(a=yield r.cryptoImpl.hashString(t.claims));var l={idToken:c,accessToken:Tl(null===(i=e.account)||void 0===i?void 0:i.homeAccountId,e.account.environment,e.accessToken,r.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Cl(e.expiresOn):0,e.extExpiresOn?Cl(e.extExpiresOn):0,Aa,void 0,e.tokenType,void 0,t.sshKid,t.claims,a)};return r.saveCacheRecord(l,e.correlationId)})()}saveCacheRecord(e,t,r){var n=()=>super.saveCacheRecord,o=this;return zs(function*(){try{yield n().call(o,e,t,r)}catch(e){if(e instanceof er&&o.performanceClient&&t)try{var i=o.getTokenKeys();o.performanceClient.addFields({cacheRtCount:i.refreshToken.length,cacheIdCount:i.idToken.length,cacheAtCount:i.accessToken.length},t)}catch(e){}throw e}})()}}function qs(e,t,r,n){try{switch(t){case ho:return new hs(e,r,n);case po:return new vs}}catch(e){r.error(e)}return new il}class Ds{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Q({}),"undefined"!=typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,r){if("undefined"!=typeof window){var n=r||Ka();return this.eventCallbacks.has(n)?(this.logger.error("Event callback with id: ".concat(n," is already registered. Please provide a unique id or remove the existing callback and try again.")),null):(this.eventCallbacks.set(n,[e,t||[]]),this.logger.verbose("Event callback registered with id: ".concat(n)),n)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback ".concat(e," removed."))}emitEvent(e,t,r,n){var o,i={eventType:e,interactionType:t||null,payload:r||null,error:n||null,timestamp:Date.now()};switch(e){case ys:case bs:case ws:null===(o=this.broadcastChannel)||void 0===o||o.postMessage(i);break;default:this.invokeCallbacks(i)}}invokeCallbacks(e){this.eventCallbacks.forEach((t,r)=>{var[n,o]=t;(0===o.length||o.includes(e.eventType))&&(this.logger.verbose("Emitting event to callback ".concat(r,": ").concat(e.eventType)),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){var t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}var Fs="home_account_id",Ls="UPN";function Us(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Hs(e,t,r,n,o,i,a){return Ws.apply(this,arguments)}function Ws(){var e;return e=function*(e,t,r,n,o,i,a){null==a||a.addQueueMeasurement(cn,i);var c=Fl.transformCIAMAuthority(Ll(e)),l=new Fl(c,t,r,n,o,i,a);try{return yield ml(l.resolveEndpointsAsync.bind(l),ln,o,a,i)(),l}catch(e){throw Je(ce)}},Ws=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Us(i,n,o,a,c,"next",e)}function c(e){Us(i,n,o,a,c,"throw",e)}a(void 0)})},Ws.apply(this,arguments)}class Ks extends te{constructor(e,t,r,n,o){super(e,t,r),this.name="ServerError",this.errorNo=n,this.status=o,Object.setPrototypeOf(this,Ks.prototype)}}class Vs{static generateThrottlingStorageKey(e){return"".concat(G,".").concat(JSON.stringify(e))}static preProcess(e,t,r){var n=Vs.generateThrottlingStorageKey(t),o=e.getThrottlingCache(n);if(o){var i;if(o.throttleTime<Date.now())return void e.removeItem(n,r);throw new Ks((null===(i=o.errorCodes)||void 0===i?void 0:i.join(" "))||g.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,t,r,n){if(Vs.checkResponseStatus(r)||Vs.checkResponseForRetryAfter(r)){var o={throttleTime:Vs.calculateThrottleTime(parseInt(r.headers[w])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(Vs.generateThrottlingStorageKey(t),o,n)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&e.headers.hasOwnProperty(w)&&(e.status<200||e.status>=300)}static calculateThrottleTime(e){var t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(t||60),r+3600))}static removeThrottle(e,t,r,n){var o=ns(t,r,n),i=this.generateThrottlingStorageKey(o);e.removeItem(i,r.correlationId)}}function Gs(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Qs(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Gs(i,n,o,a,c,"next",e)}function c(e){Gs(i,n,o,a,c,"throw",e)}a(void 0)})}}class Js{constructor(e,t){this.config=function(e){var t,{authOptions:r,systemOptions:n,loggerOptions:o,cacheOptions:i,storageInterface:a,networkInterface:c,cryptoInterface:l,clientCredentials:s,libraryInfo:u,telemetry:d,serverTelemetryManager:f,persistencePlugin:h,serializableCache:p}=e,g=Wn(Wn({},Jn),o);return{authOptions:(t=r,Wn({clientCapabilities:[],azureCloudOptions:eo,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1},t)),systemOptions:Wn(Wn({},Qn),n),loggerOptions:g,cacheOptions:Wn(Wn({},Yn),i),storageInterface:a||new cr(r.clientId,$e,new Q(g),new Un),networkInterface:c||Xn,cryptoInterface:l||$e,clientCredentials:s||Zn,libraryInfo:Wn(Wn({},$n),u),telemetry:Wn(Wn({},to),d),serverTelemetryManager:f||null,persistencePlugin:h||null,serializableCache:p||null}}(e),this.logger=new Q(this.config.loggerOptions,Ze,et),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){var t={};if(t[b]=g.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Fs:try{var r=es(e.credential);t[k]="Oid:".concat(r.uid,"@").concat(r.utid)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Ls:t[k]="UPN: ".concat(e.credential)}return t}executePostToTokenEndpoint(e,t,r,n,o,i){var a=this;return Qs(function*(){var c;i&&(null===(c=a.performanceClient)||void 0===c||c.addQueueMeasurement(i,o));var l=yield a.sendPostRequest(n,e,{body:t,headers:r},o);return a.config.serverTelemetryManager&&l.status<500&&429!==l.status&&a.config.serverTelemetryManager.clearTelemetryCache(),l})()}sendPostRequest(e,t,r,n){var o=this;return Qs(function*(){var i;Vs.preProcess(o.cacheManager,e,n);try{var a,c,l=(i=yield ml(o.networkClient.sendPostRequestAsync.bind(o.networkClient),Cr,o.logger,o.performanceClient,n)(t,r)).headers||{};null===(a=o.performanceClient)||void 0===a||a.addFields({refreshTokenSize:(null===(c=i.body.refresh_token)||void 0===c?void 0:c.length)||0,httpVerToken:l[S]||"",requestId:l[C]||""},n)}catch(e){if(e instanceof Mi){var s,u=e.responseHeaders;throw u&&(null===(s=o.performanceClient)||void 0===s||s.addFields({httpVerToken:u[S]||"",requestId:u[C]||"",contentTypeHeader:u[b]||void 0,contentLengthHeader:u["Content-Length"]||void 0,httpStatus:e.httpStatus},n)),e.error}throw e instanceof te?e:Je(le)}return Vs.postProcess(o.cacheManager,e,i,n),i})()}updateAuthority(e,t){var r=this;return Qs(function*(){var n;null===(n=r.performanceClient)||void 0===n||n.addQueueMeasurement($r,t);var o="https://".concat(e,"/").concat(r.authority.tenant,"/"),i=yield Hs(o,r.networkClient,r.cacheManager,r.authority.options,r.logger,t,r.performanceClient);r.authority=i})()}createTokenQueryParameters(e){var t=new Map;return e.embeddedClientId&&Ca(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&ma(t,e.tokenQueryParameters),aa(t,e.correlationId),Yi(t,e.correlationId,this.performanceClient),Ht(t)}}class Ys{static setRequestState(e,t,r){var n=Ys.generateLibraryState(e,r);return t?"".concat(n).concat(g.RESOURCE_DELIM).concat(t):n}static generateLibraryState(e,t){if(!e)throw Je(_e);var r={id:e.createNewGuid()};t&&(r.meta=t);var n=JSON.stringify(r);return e.base64Encode(n)}static parseRequestState(e,t){if(!e)throw Je(_e);if(!t)throw Je(de);try{var r=t.split(g.RESOURCE_DELIM),n=r[0],o=r.length>1?r.slice(1).join(g.RESOURCE_DELIM):g.EMPTY_STRING,i=e.base64Decode(n),a=JSON.parse(i);return{userRequestState:o||g.EMPTY_STRING,libraryState:a}}catch(e){throw Je(de)}}}function Xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $s(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zs(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function eu(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Zs(i,n,o,a,c,"next",e)}function c(e){Zs(i,n,o,a,c,"throw",e)}a(void 0)})}}class tu{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}generateCnf(e,t){var r=this;return eu(function*(){var n;null===(n=r.performanceClient)||void 0===n||n.addQueueMeasurement(rn,e.correlationId);var o=yield ml(r.generateKid.bind(r),rn,t,r.performanceClient,e.correlationId)(e),i=r.cryptoUtils.base64UrlEncode(JSON.stringify(o));return{kid:o.kid,reqCnfString:i}})()}generateKid(e){var t=this;return eu(function*(){var r;return null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(nn,e.correlationId),{kid:yield t.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:"sw"}})()}signPopToken(e,t,r){var n=this;return eu(function*(){return n.signPayload(e,t,r)})()}signPayload(e,t,r,n){var o=this;return eu(function*(){var{resourceRequestMethod:i,resourceRequestUri:a,shrClaims:c,shrNonce:l,shrOptions:s}=r,u=a?new Kt(a):void 0,d=null==u?void 0:u.getUrlComponents();return o.cryptoUtils.signJwt(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(r),!0).forEach(function(t){$s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({at:e,ts:kl(),m:null==i?void 0:i.toUpperCase(),u:null==d?void 0:d.HostNameAndPort,nonce:l||o.cryptoUtils.createNewGuid(),p:null==d?void 0:d.AbsolutePath,q:null!=d&&d.QueryString?[[],d.QueryString]:void 0,client_claims:c||void 0},n),t,s,r.correlationId)})()}}class ru{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}function nu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ou(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){nu(i,n,o,a,c,"next",e)}function c(e){nu(i,n,o,a,c,"throw",e)}a(void 0)})}}class iu{constructor(e,t,r,n,o,i,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=n,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=a}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){var r,n="Error(s): ".concat(e.error_codes||g.NOT_AVAILABLE," - Timestamp: ").concat(e.timestamp||g.NOT_AVAILABLE," - Description: ").concat(e.error_description||g.NOT_AVAILABLE," - Correlation ID: ").concat(e.correlation_id||g.NOT_AVAILABLE," - Trace ID: ").concat(e.trace_id||g.NOT_AVAILABLE),o=null!==(r=e.error_codes)&&void 0!==r&&r.length?e.error_codes[0]:void 0,i=new Ks(e.error,n,e.suberror,o,e.status);if(t&&e.status&&e.status>=500&&e.status<=599)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n".concat(i));if(t&&e.status&&e.status>=400&&e.status<=499)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n".concat(i));if(Xl(e.error,e.error_description,e.suberror))throw new Yl(e.error,e.error_description,e.suberror,e.timestamp||g.EMPTY_STRING,e.trace_id||g.EMPTY_STRING,e.correlation_id||g.EMPTY_STRING,e.claims||g.EMPTY_STRING,o);throw i}}handleServerTokenResponse(e,t,r,n,o,i,a,c,l){var s=this;return ou(function*(){var u,d,f;if(null===(u=s.performanceClient)||void 0===u||u.addQueueMeasurement(on,e.correlation_id),e.id_token){if(d=qt(e.id_token||g.EMPTY_STRING,s.cryptoObj.base64Decode),o&&o.nonce&&d.nonce!==o.nonce)throw Je(pe);if(n.maxAge||0===n.maxAge){var h=d.auth_time;if(!h)throw Je(ge);Dt(h,n.maxAge)}}s.homeAccountIdentifier=rs.generateHomeAccountId(e.client_info||g.EMPTY_STRING,t.authorityType,s.logger,s.cryptoObj,d),o&&o.state&&(f=Ys.parseRequestState(s.cryptoObj,o.state)),e.key_id=e.key_id||n.sshKid||void 0;var p,v=s.generateCacheRecord(e,t,r,n,d,i,o);try{if(s.persistencePlugin&&s.serializableCache&&(s.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new ru(s.serializableCache,!0),yield s.persistencePlugin.beforeCacheAccess(p)),a&&!c&&v.account){var m=s.cacheStorage.generateAccountKey(v.account.getAccountInfo());if(!s.cacheStorage.getAccount(m,n.correlationId))return s.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield iu.generateAuthenticationResult(s.cryptoObj,t,v,!1,n,d,f,void 0,l)}yield s.cacheStorage.saveCacheRecord(v,n.correlationId,n.storeInCache)}finally{s.persistencePlugin&&s.serializableCache&&p&&(s.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield s.persistencePlugin.afterCacheAccess(p))}return iu.generateAuthenticationResult(s.cryptoObj,t,v,!1,n,d,f,e,l)})()}generateCacheRecord(e,t,r,n,o,i,a){var c=t.getPreferredCache();if(!c)throw Je(xe);var l,s,u=ts(o);e.id_token&&o&&(l=Pl(this.homeAccountIdentifier,c,e.id_token,this.clientId,u||""),s=au(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,n.correlationId,o,e.client_info,c,u,a,void 0,this.logger));var d=null;if(e.access_token){var f=e.scope?Ot.fromString(e.scope):new Ot(n.scopes||[]),h=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,p=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,g=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,v=r+h,m=v+p,y=g&&g>0?r+g:void 0;d=Tl(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||t.tenant||"",f.printScopes(),v,m,this.cryptoObj.base64Decode,y,e.token_type,i,e.key_id,n.claims,n.requestedClaimsHash)}var b,w=null;e.refresh_token&&(e.refresh_token_expires_in&&(b=r+("string"==typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)),w=Al(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,i,b));var k=null;return e.foci&&(k={clientId:this.clientId,environment:c,familyId:e.foci}),{account:s,idToken:l,accessToken:d,refreshToken:w,appMetadata:k}}static generateAuthenticationResult(e,t,r,n,o,i,a,c,l){return ou(function*(){var s,u,d,f,h,p,v,m=g.EMPTY_STRING,y=[],b=null,w=g.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType!==V.POP||o.popKid)m=r.accessToken.secret;else{var k=new tu(e),{secret:C,keyId:S}=r.accessToken;if(!S)throw Je(Le);m=yield k.signPopToken(C,S,o)}y=Ot.fromString(r.accessToken.target).asArray(),b=Sl(r.accessToken.expiresOn),p=Sl(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(v=Sl(r.accessToken.refreshOn))}r.appMetadata&&(w=r.appMetadata.familyId===D?D:"");var I=(null==i?void 0:i.oid)||(null==i?void 0:i.sub)||"",P=(null==i?void 0:i.tid)||"";null!=c&&c.spa_accountid&&r.account&&(r.account.nativeAccountId=null==c?void 0:c.spa_accountid);var T=r.account?Bt(r.account.getAccountInfo(),void 0,i,null===(s=r.idToken)||void 0===s?void 0:s.secret):null;return{authority:t.canonicalAuthority,uniqueId:I,tenantId:P,scopes:y,account:T,idToken:(null==r||null===(u=r.idToken)||void 0===u?void 0:u.secret)||"",idTokenClaims:i||{},accessToken:m,fromCache:n,expiresOn:b,extExpiresOn:p,refreshOn:v,correlationId:o.correlationId,requestId:l||g.EMPTY_STRING,familyId:w,tokenType:(null===(d=r.accessToken)||void 0===d?void 0:d.tokenType)||g.EMPTY_STRING,state:a?a.userRequestState:g.EMPTY_STRING,cloudGraphHostName:(null===(f=r.account)||void 0===f?void 0:f.cloudGraphHostName)||g.EMPTY_STRING,msGraphHost:(null===(h=r.account)||void 0===h?void 0:h.msGraphHost)||g.EMPTY_STRING,code:null==c?void 0:c.spa_code,fromNativeBroker:!1}})()}}function au(e,t,r,n,o,i,a,c,l,s,u,d){null==d||d.verbose("setCachedAccount called");var f=e.getAccountKeys().find(e=>e.startsWith(r)),h=null;f&&(h=e.getAccount(f,o));var p=h||rs.createAccount({homeAccountId:r,idTokenClaims:i,clientInfo:a,environment:c,cloudGraphHostName:null==s?void 0:s.cloud_graph_host_name,msGraphHost:null==s?void 0:s.msgraph_host,nativeAccountId:u},t,n),g=p.tenantProfiles||[],v=l||p.realm;if(v&&!g.find(e=>e.tenantId===v)){var m=zt(r,p.localAccountId,v,i);g.push(m)}return p.tenantProfiles=g,p}function cu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function lu(e,t,r){return su.apply(this,arguments)}function su(){var e;return e=function*(e,t,r){return"string"==typeof e?e:e({clientId:t,tokenEndpoint:r})},su=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){cu(i,n,o,a,c,"next",e)}function c(e){cu(i,n,o,a,c,"throw",e)}a(void 0)})},su.apply(this,arguments)}function uu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function du(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){uu(i,n,o,a,c,"next",e)}function c(e){uu(i,n,o,a,c,"throw",e)}a(void 0)})}}class fu extends Js{constructor(e,t){var r;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=null===(r=this.config.authOptions.authority.options.OIDCOptions)||void 0===r?void 0:r.defaultScopes}acquireToken(e,t){var r=this;return du(function*(){var n,o;if(null===(n=r.performanceClient)||void 0===n||n.addQueueMeasurement(Zr,e.correlationId),!e.code)throw Je(we);var i=kl(),a=yield ml(r.executeTokenRequest.bind(r),en,r.logger,r.performanceClient,e.correlationId)(r.authority,e),c=null===(o=a.headers)||void 0===o?void 0:o[C],l=new iu(r.config.authOptions.clientId,r.cacheManager,r.cryptoUtils,r.logger,r.config.serializableCache,r.config.persistencePlugin,r.performanceClient);return l.validateTokenResponse(a.body),ml(l.handleServerTokenResponse.bind(l),on,r.logger,r.performanceClient,e.correlationId)(a.body,r.authority,i,e,t,void 0,void 0,void 0,c)})()}getLogoutUri(e){if(!e)throw Tt(st);var t=this.createLogoutUrlQueryString(e);return Kt.appendQueryString(this.authority.endSessionEndpoint,t)}executeTokenRequest(e,t){var r=this;return du(function*(){var n;null===(n=r.performanceClient)||void 0===n||n.addQueueMeasurement(en,t.correlationId);var o=r.createTokenQueryParameters(t),i=Kt.appendQueryString(e.tokenEndpoint,o),a=yield ml(r.createTokenRequestBody.bind(r),tn,r.logger,r.performanceClient,t.correlationId)(t),c=void 0;if(t.clientInfo)try{var l=Zl(t.clientInfo,r.cryptoUtils.base64Decode);c={credential:"".concat(l.uid).concat(".").concat(l.utid),type:Fs}}catch(e){r.logger.verbose("Could not parse client info for CCS Header: "+e)}var s=r.createTokenRequestHeaders(c||t.ccsCredential),u=ns(r.config.authOptions.clientId,t);return ml(r.executePostToTokenEndpoint.bind(r),Ir,r.logger,r.performanceClient,t.correlationId)(i,a,s,u,t.correlationId,Ir)})()}createTokenRequestBody(e){var t=this;return du(function*(){var r,n;null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(tn,e.correlationId);var o=new Map;if(Zi(o,e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Li])||t.config.authOptions.clientId),t.includeRedirectUri)ea(o,e.redirectUri);else if(!e.redirectUri)throw Tt(tt);if($i(o,e.scopes,!0,t.oidcDefaultScopes),function(e,t){e.set("code",t)}(o,e.code),ca(o,t.config.libraryInfo),la(o,t.config.telemetry.application),ka(o),t.serverTelemetryManager&&!ro(t.config)&&wa(o,t.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(o,e.codeVerifier),t.config.clientCredentials.clientSecret&&da(o,t.config.clientCredentials.clientSecret),t.config.clientCredentials.clientAssertion){var i=t.config.clientCredentials.clientAssertion;fa(o,yield lu(i.assertion,t.config.authOptions.clientId,e.resourceRequestUri)),ha(o,i.assertionType)}if(pa(o,"authorization_code"),ga(o),e.authenticationScheme===V.POP){var a=new tu(t.cryptoUtils,t.performanceClient);ya(o,e.popKid?t.cryptoUtils.encodeKid(e.popKid):(yield ml(a.generateCnf.bind(a),rn,t.logger,t.performanceClient,e.correlationId)(e,t.logger)).reqCnfString)}else if(e.authenticationScheme===V.SSH){if(!e.sshJwk)throw Tt(gt);ba(o,e.sshJwk)}(!At.isEmptyObj(e.claims)||t.config.authOptions.clientCapabilities&&t.config.authOptions.clientCapabilities.length>0)&&ia(o,e.claims,t.config.authOptions.clientCapabilities);var c=void 0;if(e.clientInfo)try{var l=Zl(e.clientInfo,t.cryptoUtils.base64Decode);c={credential:"".concat(l.uid).concat(".").concat(l.utid),type:Fs}}catch(e){t.logger.verbose("Could not parse client info for CCS Header: "+e)}else c=e.ccsCredential;if(t.config.systemOptions.preventCorsPreflight&&c)switch(c.type){case Fs:try{na(o,es(c.credential))}catch(e){t.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Ls:ra(o,c.credential)}return e.embeddedClientId&&Ca(o,t.config.authOptions.clientId,t.config.authOptions.redirectUri),e.tokenBodyParameters&&ma(o,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[Ki]||ma(o,{[Ki]:"1"}),Yi(o,e.correlationId,t.performanceClient),Ht(o)})()}createLogoutUrlQueryString(e){var t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&aa(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&sa(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&ma(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&va(t),Ht(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}class hu{constructor(e,t){this.cacheOutcome="0",this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||g.EMPTY_STRING,this.wrapperVer=e.wrapperVer||g.EMPTY_STRING,this.telemetryCacheKey=K.CACHE_KEY+"-"+e.clientId}generateCurrentRequestHeaderValue(){var e="".concat(this.apiId).concat(K.VALUE_SEPARATOR).concat(this.cacheOutcome),t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();null!=r&&r.length&&t.push("broker_error=".concat(r));var n=t.join(K.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(K.VALUE_SEPARATOR);return[K.SCHEMA_VERSION,o,n].join(K.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){var e=this.getLastRequests(),t=hu.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(K.VALUE_SEPARATOR),n=e.errors.slice(0,t).join(K.VALUE_SEPARATOR),o=e.errors.length,i=[o,t<o?K.OVERFLOW_TRUE:K.OVERFLOW_FALSE].join(K.VALUE_SEPARATOR);return[K.SCHEMA_VERSION,e.cacheHits,r,n,i].join(K.CATEGORY_SEPARATOR)}cacheFailedRequest(e){var t=this.getLastRequests();t.errors.length>=K.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof te?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(K.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}incrementCacheHits(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){var e=this.getLastRequests(),t=hu.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{var r={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}}static maxErrorsToSend(e){var t,r=0,n=0,o=e.errors.length;for(t=0;t<o;t++){var i=e.failedRequests[2*t]||g.EMPTY_STRING,a=e.failedRequests[2*t+1]||g.EMPTY_STRING,c=e.errors[t]||g.EMPTY_STRING;if(!((n+=i.toString().length+a.toString().length+c.length+3)<K.MAX_LAST_HEADER_BYTES))break;r+=1}return r}getRegionDiscoveryFields(){var e=[];return e.push(this.regionUsed||g.EMPTY_STRING),e.push(this.regionSource||g.EMPTY_STRING),e.push(this.regionOutcome||g.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){var t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){var e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return function(e){var{skus:t,libraryName:r,libraryVersion:n,extensionName:o,extensionVersion:i}=e,a=new Map([[0,[r,n]],[2,[o,i]]]),c=[];if(null!=t&&t.length){if((c=t.split(",")).length<4)return t}else c=Array.from({length:4},()=>"|");return a.forEach((e,t)=>{var r,n;2===e.length&&null!==(r=e[0])&&void 0!==r&&r.length&&null!==(n=e[1])&&void 0!==n&&n.length&&function(e){var{skuArr:t,index:r,skuName:n,skuVersion:o}=e;r>=t.length||(t[r]=[n,o].join("|"))}({skuArr:c,index:t,skuName:e[0],skuVersion:e[1]})}),c.join(",")}(e)}}function pu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function gu(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){pu(i,n,o,a,c,"next",e)}function c(e){pu(i,n,o,a,c,"throw",e)}a(void 0)})}}class vu{constructor(e,t,r,n,o,i,a,c,l){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.platformAuthProvider=c,this.correlationId=l||Ka(),this.logger=n.clone(co,Rc,this.correlationId),this.performanceClient=a}clearCacheOnLogout(e,t){var r=this;return gu(function*(){if(t)try{r.browserStorage.removeAccount(t,e),r.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(e){r.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{r.logger.verbose("No account provided in logout request, clearing all cache items.",r.correlationId),r.browserStorage.clear(e),yield r.browserCrypto.clearKeystore()}catch(e){r.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})()}getRedirectUri(e){this.logger.verbose("getRedirectUri called");var t=e||this.config.auth.redirectUri;return Kt.getAbsoluteUrl(t,Cc())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");var r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new hu(r,this.browserStorage)}getDiscoveredAuthority(e){var t=this;return gu(function*(){var{account:r}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;t.performanceClient.addQueueMeasurement(wr,t.correlationId);var o={protocolMode:t.config.auth.protocolMode,OIDCOptions:t.config.auth.OIDCOptions,knownAuthorities:t.config.auth.knownAuthorities,cloudDiscoveryMetadata:t.config.auth.cloudDiscoveryMetadata,authorityMetadata:t.config.auth.authorityMetadata,skipAuthorityMetadataCache:t.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||t.config.auth.authority,a=null!=n&&n.length?"true"===n:t.config.auth.instanceAware,c=r&&a?t.config.auth.authority.replace(Kt.getDomainFromUrl(i),r.environment):i,l=Fl.generateAuthority(c,e.requestAzureCloudOptions||t.config.auth.azureCloudOptions),s=yield ml(Hs,cn,t.logger,t.performanceClient,t.correlationId)(l,t.config.system.networkClient,t.browserStorage,o,t.logger,t.correlationId,t.performanceClient);if(r&&!s.isAlias(r.environment))throw Tt(kt);return s})()}}function mu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(r),!0).forEach(function(t){bu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bu(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ku(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){wu(i,n,o,a,c,"next",e)}function c(e){wu(i,n,o,a,c,"throw",e)}a(void 0)})}}function Cu(e,t,r,n){return Su.apply(this,arguments)}function Su(){return Su=ku(function*(e,t,r,n){r.addQueueMeasurement(Mr,e.correlationId);var o=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],a=yu(yu({},e),{},{correlationId:e.correlationId,authority:o,scopes:i});if(a.authenticationScheme){if(a.authenticationScheme===V.SSH){if(!e.sshJwk)throw Tt(gt);if(!e.sshKid)throw Tt(vt)}n.verbose('Authentication Scheme set to "'.concat(a.authenticationScheme,'" as configured in Auth request'))}else a.authenticationScheme=V.BEARER,n.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!At.isEmptyObj(e.claims)&&(a.requestedClaimsHash=yield fc(e.claims)),a}),Su.apply(this,arguments)}function Iu(e,t,r,n,o){return Pu.apply(this,arguments)}function Pu(){return Pu=ku(function*(e,t,r,n,o){n.addQueueMeasurement(Nr,e.correlationId);var i=yield ml(Cu,Mr,o,n,e.correlationId)(e,r,n,o);return yu(yu(yu({},e),i),{},{account:t,forceRefresh:e.forceRefresh||!1})}),Pu.apply(this,arguments)}function Tu(e,t){var r,n=e.httpMethod;if(t===Y){if((r=n||v)!==v)throw Tt(Ct)}else r=n||"GET";if(e.authorizePostBodyParameters&&r!==v)throw Tt(St);return r}function Au(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ou(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Au(i,n,o,a,c,"next",e)}function c(e){Au(i,n,o,a,c,"throw",e)}a(void 0)})}}function xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(r),!0).forEach(function(t){_u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _u(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ru extends vu{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",null==e?void 0:e.correlationId);var t=Eu({correlationId:this.correlationId||Ka()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Kt.getAbsoluteUrl(e.postLogoutRedirectUri,Cc())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Kt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Cc())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Kt.getAbsoluteUrl(Cc(),Cc())),t}getLogoutHintFromIdTokenClaims(e){var t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(e){var t=this;return Ou(function*(){t.performanceClient.addQueueMeasurement(Hr,t.correlationId);var r=yield ml(t.getClientConfiguration.bind(t),Wr,t.logger,t.performanceClient,t.correlationId)(e);return new fu(r,t.performanceClient)})()}getClientConfiguration(e){var t=this;return Ou(function*(){var{serverTelemetryManager:r,requestAuthority:n,requestAzureCloudOptions:o,requestExtraQueryParameters:i,account:a}=e;t.performanceClient.addQueueMeasurement(Wr,t.correlationId);var c=yield ml(t.getDiscoveredAuthority.bind(t),wr,t.logger,t.performanceClient,t.correlationId)({requestAuthority:n,requestAzureCloudOptions:o,requestExtraQueryParameters:i,account:a}),l=t.config.system.loggerOptions;return{authOptions:{clientId:t.config.auth.clientId,authority:c,clientCapabilities:t.config.auth.clientCapabilities,redirectUri:t.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:t.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:l.loggerCallback,piiLoggingEnabled:l.piiLoggingEnabled,logLevel:l.logLevel,correlationId:t.correlationId},cacheOptions:{claimsBasedCachingEnabled:t.config.cache.claimsBasedCachingEnabled},cryptoInterface:t.browserCrypto,networkInterface:t.networkClient,storageInterface:t.browserStorage,serverTelemetryManager:r,libraryInfo:{sku:co,version:Rc,cpu:g.EMPTY_STRING,os:g.EMPTY_STRING},telemetry:t.config.telemetry}})()}initializeAuthorizationRequest(e,t){var r=this;return Ou(function*(){r.performanceClient.addQueueMeasurement(Kr,r.correlationId);var n=r.getRedirectUri(e.redirectUri),o={interactionType:t},i=Ys.setRequestState(r.browserCrypto,e&&e.state||g.EMPTY_STRING,o),a=yield ml(Cu,Mr,r.logger,r.performanceClient,r.correlationId)(Eu(Eu({},e),{},{correlationId:r.correlationId}),r.config,r.performanceClient,r.logger),c=Eu(Eu({},a),{},{redirectUri:n,state:i,nonce:e.nonce||Ka(),responseMode:r.config.auth.OIDCOptions.serverResponseType}),l=Eu(Eu({},c),{},{httpMethod:Tu(c,r.config.auth.protocolMode)});if(e.loginHint||e.sid)return l;var s=e.account||r.browserStorage.getActiveAccount(r.correlationId);return s&&(r.logger.verbose("Setting validated request account",r.correlationId),r.logger.verbosePii("Setting validated request account: ".concat(s.homeAccountId),r.correlationId),l.account=s),l})()}}function ju(e,t,r){var n=Ut(e);if(!n)throw Lt(e)?(r.error("A ".concat(t," is present in the iframe but it does not contain known properties. It's likely that the ").concat(t," has been replaced by code running on the redirectUri page.")),r.errorPii("The ".concat(t," detected is: ").concat(e)),Ri(Do)):(r.error("The request has returned to the redirectUri but a ".concat(t," is not present. It's likely that the ").concat(t," has been removed or the page has been redirected by code running on the redirectUri page.")),Ri(Bo));return n}function Mu(e,t,r,n){var o=Ht(t,r,n);return Kt.appendQueryString(e.authorizationEndpoint,o)}function Nu(e,t){if(!e.state||!t)throw e.state?Je(he,"Cached State"):Je(he,"Server State");var r,n;try{r=decodeURIComponent(e.state)}catch(t){throw Je(de,e.state)}try{n=decodeURIComponent(t)}catch(t){throw Je(de,e.state)}if(r!==n)throw Je(fe);if(e.error||e.error_description||e.suberror){var o=function(e){var t,r,n="code=",o=null===(t=e.error_uri)||void 0===t?void 0:t.lastIndexOf(n);return o&&o>=0?null===(r=e.error_uri)||void 0===r?void 0:r.substring(o+5):void 0}(e);if(Xl(e.error,e.error_description,e.suberror))throw new Yl(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",o);throw new Ks(e.error||"",e.error_description,e.suberror,o)}}function zu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Bu(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){zu(i,n,o,a,c,"next",e)}function c(e){zu(i,n,o,a,c,"throw",e)}a(void 0)})}}class qu{constructor(e,t,r,n,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=n,this.performanceClient=o}handleCodeResponse(e,t){var r=this;return Bu(function*(){var n;r.performanceClient.addQueueMeasurement(Qr,t.correlationId);try{n=function(e,t){if(Nu(e,t),!e.code)throw Je(qe);return e}(e,t.state)}catch(e){throw e instanceof Ks&&e.subError===Ko?Ri(Ko):e}return ml(r.handleCodeResponseFromServer.bind(r),Gr,r.logger,r.performanceClient,t.correlationId)(n,t)})()}handleCodeResponseFromServer(e,t){var r=arguments,n=this;return Bu(function*(){var o=!(r.length>2&&void 0!==r[2])||r[2];if(n.performanceClient.addQueueMeasurement(Gr,t.correlationId),n.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),n.authCodeRequest.code=e.code,e.cloud_instance_host_name&&(yield ml(n.authModule.updateAuthority.bind(n.authModule),$r,n.logger,n.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId)),o&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)n.authCodeRequest.clientInfo=e.client_info;else{var i=n.createCcsCredentials(t);i&&(n.authCodeRequest.ccsCredential=i)}return yield ml(n.authModule.acquireToken.bind(n.authModule),Zr,n.logger,n.performanceClient,t.correlationId)(n.authCodeRequest,e)})()}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Fs}:e.loginHint?{credential:e.loginHint,type:Ls}:null}}var Du="user_switch",Fu={[Du]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Lu extends te{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,Lu.prototype),this.name="NativeAuthError",this.ext=r}}function Uu(e){if(e.ext&&e.ext.status&&"DISABLED"===e.ext.status)return!0;if(e.ext&&e.ext.error&&-2147186943===e.ext.error)return!0;switch(e.errorCode){case"ContentError":case"PageException":return!0;default:return!1}}function Hu(e,t,r){if(r&&r.status)switch(r.status){case"ACCOUNT_UNAVAILABLE":return $l(Hl);case"USER_INTERACTION_REQUIRED":return new Yl(e,t);case"USER_CANCEL":return Ri(Ko);case"NO_NETWORK":return Ri(ci);case"UX_NOT_ALLOWED":return $l(Kl)}return new Lu(e,Fu[e]||t,r)}function Wu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ku(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Wu(i,n,o,a,c,"next",e)}function c(e){Wu(i,n,o,a,c,"throw",e)}a(void 0)})}}class Vu extends Js{constructor(e,t){super(e,t)}acquireCachedToken(e){var t=this;return Ku(function*(){var r;null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(_r,e.correlationId);var n="0";if(e.forceRefresh||!t.config.cacheOptions.claimsBasedCachingEnabled&&!At.isEmptyObj(e.claims))throw t.setCacheOutcome("1",e.correlationId),Je(Ne);if(!e.account)throw Je(Ae);var o,i=e.account.tenantId||function(e){var t,r=null===(t=new Kt(e).getUrlComponents().PathSegments.slice(-1)[0])||void 0===t?void 0:t.toLowerCase();switch(r){case P:case T:case A:return;default:return r}}(e.authority),a=t.cacheManager.getTokenKeys(),c=t.cacheManager.getAccessToken(e.account,e,a,i);if(!c)throw t.setCacheOutcome("2",e.correlationId),Je(Ne);if(o=c.cachedAt,Number(o)>kl()||Il(c.expiresOn,t.config.systemOptions.tokenRenewalOffsetSeconds))throw t.setCacheOutcome("3",e.correlationId),Je(Ne);c.refreshOn&&Il(c.refreshOn,0)&&(n="4");var l=e.authority||t.authority.getPreferredCache(),s={account:t.cacheManager.getAccount(t.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:c,idToken:t.cacheManager.getIdToken(e.account,e.correlationId,a,i,t.performanceClient),refreshToken:null,appMetadata:t.cacheManager.readAppMetadataFromCache(l)};return t.setCacheOutcome(n,e.correlationId),t.config.serverTelemetryManager&&t.config.serverTelemetryManager.incrementCacheHits(),[yield ml(t.generateResultFromCacheRecord.bind(t),Rr,t.logger,t.performanceClient,e.correlationId)(s,e),n]})()}setCacheOutcome(e,t){var r,n;null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(e),null===(n=this.performanceClient)||void 0===n||n.addFields({cacheOutcome:e},t),"0"!==e&&this.logger.info("Token refresh is required due to cache outcome: ".concat(e))}generateResultFromCacheRecord(e,t){var r=this;return Ku(function*(){var n,o;if(null===(n=r.performanceClient)||void 0===n||n.addQueueMeasurement(Rr,t.correlationId),e.idToken&&(o=qt(e.idToken.secret,r.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){var i,a=null===(i=o)||void 0===i?void 0:i.auth_time;if(!a)throw Je(ge);Dt(a,t.maxAge)}return iu.generateAuthenticationResult(r.cryptoUtils,r.authority,e,!0,t,o)})()}}function Gu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}class Qu extends Ru{acquireToken(e){var t,r=this;return(t=function*(){r.performanceClient.addQueueMeasurement(vr,e.correlationId);var t=r.initializeServerTelemetryManager(61),n=yield ml(r.getClientConfiguration.bind(r),Wr,r.logger,r.performanceClient,r.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),o=new Vu(n,r.performanceClient);r.logger.verbose("Silent auth client created");try{var i=(yield ml(o.acquireCachedToken.bind(o),_r,r.logger,r.performanceClient,e.correlationId)(e))[0];return r.performanceClient.addFields({fromCache:!0},e.correlationId),i}catch(e){throw e instanceof _i&&e.errorCode===fi&&r.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),e}},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){Gu(i,n,o,a,c,"next",e)}function c(e){Gu(i,n,o,a,c,"throw",e)}a(void 0)})})()}logout(e){this.logger.verbose("logoutRedirect called");var t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t.correlationId,null==t?void 0:t.account)}}var Ju=["prompt"],Yu=["scopes"];function Xu(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$u.apply(null,arguments)}function Zu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ed(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Zu(i,n,o,a,c,"next",e)}function c(e){Zu(i,n,o,a,c,"throw",e)}a(void 0)})}}function td(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?td(Object(r),!0).forEach(function(t){nd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):td(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nd(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class od extends vu{constructor(e,t,r,n,o,i,a,c,l,s,u,d){super(e,t,r,n,o,i,c,l,d),this.apiId=a,this.accountId=s,this.platformAuthProvider=l,this.nativeStorageManager=u,this.silentCacheClient=new Qu(e,this.nativeStorageManager,r,n,o,i,c,l,d);var f=this.platformAuthProvider.getExtensionName();this.skus=hu.makeExtraSkuString({libraryName:co,libraryVersion:Rc,extensionName:f,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=rd(rd({},e.extraParameters),{},{[Vi]:this.skus})}acquireToken(e,t){var r=this;return ed(function*(){r.performanceClient.addQueueMeasurement(kr,r.correlationId),r.logger.trace("NativeInteractionClient - acquireToken called.");var n=r.performanceClient.startMeasurement(kr,r.correlationId),o=kl(),i=r.initializeServerTelemetryManager(r.apiId);try{var a=yield r.initializeNativeRequest(e);try{var c=yield r.acquireTokensFromCache(r.accountId,a);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(e){if(1===t)throw r.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),n.end({success:!1,brokerErrorCode:"cache_request_failed"}),e;r.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}var l=yield r.platformAuthProvider.sendMessage(a);return yield r.handleNativeResponse(l,a,o).then(e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),i.clearNativeBrokerErrorCode(),e)).catch(e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError}),e})}catch(e){throw e instanceof Lu&&i.setNativeBrokerErrorCode(e.errorCode),n.end({success:!1}),e}})()}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:Ot.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}acquireTokensFromCache(e,t){var r=this;return ed(function*(){if(!e)throw r.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Je(Ee);var n=r.browserStorage.getBaseAccountInfo({nativeAccountId:e},r.correlationId);if(!n)throw Je(Ee);try{var o=r.createSilentCacheRequest(t,n),i=yield r.silentCacheClient.acquireToken(o),a=rd(rd({},n),{},{idTokenClaims:null==i?void 0:i.idTokenClaims,idToken:null==i?void 0:i.idToken});return rd(rd({},i),{},{account:a})}catch(e){throw e}})()}acquireTokenRedirect(e,t){var r=this;return ed(function*(){r.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");var n=$u({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));delete n.onRedirectNavigate;var o=yield r.initializeNativeRequest(n);try{yield r.platformAuthProvider.sendMessage(o)}catch(e){if(e instanceof Lu&&(r.initializeServerTelemetryManager(r.apiId).setNativeBrokerErrorCode(e.errorCode),Uu(e)))throw e}r.browserStorage.setTemporaryCache(So,JSON.stringify(o),!0);var i={apiId:To,timeout:r.config.system.redirectNavigationTimeout,noHistory:!1},a=r.config.auth.navigateToLoginRequestUrl?window.location.href:r.getRedirectUri(e.redirectUri);t.end({success:!0}),yield r.navigationClient.navigateExternal(a,i)})()}handleRedirectPromise(e,t){var r=this;return ed(function*(){if(r.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!r.browserStorage.isInteractionInProgress(!0))return r.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;var n=r.browserStorage.getCachedNativeRequest();if(!n)return r.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(null==e||e.addFields({errorCode:"no_cached_request"},t)),null;var{prompt:o}=n,i=Xu(n,Ju);o&&r.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),r.browserStorage.removeItem(r.browserStorage.generateCacheKey(So));var a=kl();try{r.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");var c=yield r.platformAuthProvider.sendMessage(i),l=yield r.handleNativeResponse(c,i,a);return r.initializeServerTelemetryManager(r.apiId).clearNativeBrokerErrorCode(),e&&r.correlationId&&r.performanceClient.addFields({isNativeBroker:!0},r.correlationId),l}catch(e){throw e}})()}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(e,t,r){var n=this;return ed(function*(){var o,i;n.logger.trace("NativeInteractionClient - handleNativeResponse called.");var a=qt(e.id_token,Aa),c=n.createHomeAccountIdentifier(e,a),l=null===(o=n.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId},n.correlationId))||void 0===o?void 0:o.homeAccountId;if(null!==(i=t.extraParameters)&&void 0!==i&&i.child_client_id&&e.account.id!==t.accountId)n.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(c!==l&&e.account.id!==t.accountId)throw Hu(Du);var s=yield n.getDiscoveredAuthority({requestAuthority:t.authority}),u=au(n.browserStorage,s,c,Aa,n.correlationId,a,e.client_info,void 0,a.tid,void 0,e.account.id,n.logger);e.expires_in=Number(e.expires_in);var d=yield n.generateAuthenticationResult(e,t,a,u,s.canonicalAuthority,r);return yield n.cacheAccount(u,n.correlationId),yield n.cacheNativeTokens(e,t,c,a,e.access_token,d.tenantId,r),d})()}createHomeAccountIdentifier(e,t){return rs.generateHomeAccountId(e.client_info||g.EMPTY_STRING,0,this.logger,this.browserCrypto,t)}generateScopes(e,t){return t?Ot.fromString(t):Ot.fromString(e)}generatePopAccessToken(e,t){var r=this;return ed(function*(){if(t.tokenType===V.POP&&t.signPopToken){if(e.shr)return r.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;var n=new tu(r.browserCrypto),o={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw Je(Le);return n.signPopToken(e.access_token,t.keyId,o)}return e.access_token})()}generateAuthenticationResult(e,t,r,n,o,i){var a=this;return ed(function*(){var c=a.addTelemetryFromNativeResponse(e.properties.MATS),l=a.generateScopes(t.scope,e.scope),s=e.account.properties||{},u=s.UID||r.oid||r.sub||g.EMPTY_STRING,d=s.TenantId||r.tid||g.EMPTY_STRING,f=Bt(n.getAccountInfo(),void 0,r,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);var h=yield a.generatePopAccessToken(e,t),p=t.tokenType===V.POP?V.POP:V.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:l.asArray(),account:f,idToken:e.id_token,idTokenClaims:r,accessToken:h,fromCache:!!c&&a.isResponseFromCache(c),expiresOn:Sl(i+e.expires_in),tokenType:p,correlationId:a.correlationId,state:e.state,fromNativeBroker:!0}})()}cacheAccount(e,t){var r=this;return ed(function*(){yield r.browserStorage.setAccount(e,r.correlationId),r.browserStorage.removeAccountContext(e.getAccountInfo(),t)})()}cacheNativeTokens(e,t,r,n,o,i,a){var c=Pl(r,t.authority,e.id_token||"",t.clientId,n.tid||""),l=a+(t.tokenType===V.POP?g.SHR_NONCE_VALIDITY:("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),s=this.generateScopes(e.scope,t.scope),u={idToken:c,accessToken:Tl(r,t.authority,o,t.clientId,n.tid||i,s.printScopes(),l,0,Aa,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(u,this.correlationId,t.storeInCache)}getExpiresInValue(e,t){return e===V.POP?g.SHR_NONCE_VALIDITY:("string"==typeof t?parseInt(t,10):t)||0}addTelemetryFromNativeResponse(e){var t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch(e){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return void 0===e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}initializeNativeRequest(e){var t=this;return ed(function*(){t.logger.trace("NativeInteractionClient - initializeNativeRequest called");var r=yield t.getCanonicalAuthority(e),{scopes:n}=e,o=Xu(e,Yu),i=new Ot(n||[]);i.appendScopes(m);var a=rd(rd({},o),{},{accountId:t.accountId,clientId:t.config.auth.clientId,authority:r.urlString,scope:i.printScopes(),redirectUri:t.getRedirectUri(e.redirectUri),prompt:t.getPrompt(e.prompt),correlationId:t.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:rd(rd({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(a.signPopToken&&e.popKid)throw Ri(Ii);if(t.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry="MATS",e.authenticationScheme===V.POP){var c,l={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},s=new tu(t.browserCrypto);if(a.keyId)c=t.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{var u=yield ml(s.generateCnf.bind(s),rn,t.logger,t.performanceClient,t.correlationId)(l,t.logger);c=u.reqCnfString,a.keyId=u.kid,a.signPopToken=!0}a.reqCnf=c}return t.addRequestSKUs(a),a})()}getCanonicalAuthority(e){var t=this;return ed(function*(){var r=e.authority||t.config.auth.authority;e.account&&(yield t.getDiscoveredAuthority({requestAuthority:r,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}));var n=new Kt(r);return n.validateAsUri(),n})()}getPrompt(e){switch(this.apiId){case 863:case 61:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),j}if(e)switch(e){case j:case R:case E:case _:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace("initializeNativeRequest: prompt = ".concat(e," is not compatible with native flow")),Ri(Ci)}else this.logger.trace("initializeNativeRequest: prompt was not provided")}handleExtraBrokerParams(e){var t,r=e.extraParameters&&e.extraParameters.hasOwnProperty(Gi)&&e.extraParameters.hasOwnProperty(Qi)&&e.extraParameters.hasOwnProperty(Li);if(e.embeddedClientId||r){var n="",o=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Qi],n=e.extraParameters[Li]),e.extraParameters={child_client_id:n,child_redirect_uri:o},null===(t=this.performanceClient)||void 0===t||t.addFields({embeddedClientId:n,embeddedRedirectUri:o},this.correlationId)}}}function id(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?id(Object(r),!0).forEach(function(t){cd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):id(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cd(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ld(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function sd(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ld(i,n,o,a,c,"next",e)}function c(e){ld(i,n,o,a,c,"throw",e)}a(void 0)})}}function ud(e,t,r,n,o){return dd.apply(this,arguments)}function dd(){return dd=sd(function*(e,t,r,n,o){var i=function(e,t,r,n){var o,i,a,c=t.correlationId,l=new Map;if(Zi(l,t.embeddedClientId||(null===(o=t.extraQueryParameters)||void 0===o?void 0:o[Li])||e.clientId),$i(l,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,null===(i=e.authority.options.OIDCOptions)||void 0===i?void 0:i.defaultScopes),ea(l,t.redirectUri),aa(l,c),function(e,t){e.set("response_mode",t||"query")}(l,t.responseMode),ga(l),t.prompt&&(function(e,t){e.set("prompt",t)}(l,t.prompt),null==n||n.addFields({prompt:t.prompt},c)),t.domainHint&&(function(e,t){e.set("domain_hint",t)}(l,t.domainHint),null==n||n.addFields({domainHintFromRequest:!0},c)),t.prompt!==_)if(t.sid&&t.prompt===j)r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),oa(l,t.sid),null==n||n.addFields({sidFromRequest:!0},c);else if(t.account){var s=(null===(a=t.account.idTokenClaims)||void 0===a?void 0:a.sid)||null,u=(d=t.account).loginHint||(null===(f=d.idTokenClaims)||void 0===f?void 0:f.login_hint)||null;if(u&&t.domainHint&&(r.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),u=null),u){r.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),ta(l,u),null==n||n.addFields({loginHintFromClaim:!0},c);try{na(l,es(t.account.homeAccountId))}catch(e){r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(s&&t.prompt===j){r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),oa(l,s),null==n||n.addFields({sidFromClaim:!0},c);try{na(l,es(t.account.homeAccountId))}catch(e){r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)r.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),ta(l,t.loginHint),ra(l,t.loginHint),null==n||n.addFields({loginHintFromRequest:!0},c);else if(t.account.username){r.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),ta(l,t.account.username),null==n||n.addFields({loginHintFromUpn:!0},c);try{na(l,es(t.account.homeAccountId))}catch(e){r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(r.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),ta(l,t.loginHint),ra(l,t.loginHint),null==n||n.addFields({loginHintFromRequest:!0},c));else r.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");var d,f;return t.nonce&&function(e,t){e.set("nonce",t)}(l,t.nonce),t.state&&sa(l,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&ia(l,t.claims,e.clientCapabilities),t.embeddedClientId&&Ca(l,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(Ji)||va(l),l}(ad(ad({},e.auth),{},{authority:t}),r,n,o);if(ca(i,{sku:co,version:Rc,os:"",cpu:""}),e.auth.protocolMode!==J&&la(i,e.telemetry.application),r.platformBroker&&(function(e){e.set("nativebroker","1")}(i),o.addFields({isPlatformAuthorizeRequest:!0},r.correlationId),r.authenticationScheme===V.POP)){var a=new pl(n,o),c=new tu(a);ya(i,r.popKid?a.encodeKid(r.popKid):(yield ml(c.generateCnf.bind(c),rn,n,o,r.correlationId)(r,n)).reqCnfString)}return Yi(i,r.correlationId,o),i}),dd.apply(this,arguments)}function fd(e,t,r,n,o){return hd.apply(this,arguments)}function hd(){return hd=sd(function*(e,t,r,n,o){if(!r.codeChallenge)throw Tt(dt);var i=yield ml(ud,"getStandardParams",n,o,r.correlationId)(e,t,r,n,o);return Xi(i,M),ua(i,r.codeChallenge,g.S256_CODE_CHALLENGE_METHOD),ma(i,r.extraQueryParameters||{}),Mu(t,i,e.auth.encodeExtraQueryParams,r.extraQueryParameters)}),hd.apply(this,arguments)}function pd(e,t,r,n,o,i){return gd.apply(this,arguments)}function gd(){return gd=sd(function*(e,t,r,n,o,i){if(!n.earJwk)throw Ri(jo);var a=yield ud(t,r,n,o,i);Xi(a,"id_token token refresh_token"),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(a,n.earJwk);var c=new Map;return ma(c,n.extraQueryParameters||{}),yd(e,Mu(r,c,t.auth.encodeExtraQueryParams,n.extraQueryParameters),a)}),gd.apply(this,arguments)}function vd(e,t,r,n,o,i){return md.apply(this,arguments)}function md(){return md=sd(function*(e,t,r,n,o,i){var a=yield ud(t,r,n,o,i);Xi(a,M),ua(a,n.codeChallenge,n.codeChallengeMethod||g.S256_CODE_CHALLENGE_METHOD),function(e,t){Object.entries(t).forEach(t=>{var[r,n]=t;n&&e.set(r,n)})}(a,n.authorizePostBodyParameters||{});var c=new Map;return ma(c,n.extraQueryParameters||{}),yd(e,Mu(r,c,t.auth.encodeExtraQueryParams,n.extraQueryParameters),a)}),md.apply(this,arguments)}function yd(e,t,r){var n=e.createElement("form");return n.method="post",n.action=t,r.forEach((t,r)=>{var o=e.createElement("input");o.hidden=!0,o.name=r,o.value=t,n.appendChild(o)}),e.body.appendChild(n),n}function bd(e,t,r,n,o,i,a,c,l,s){return wd.apply(this,arguments)}function wd(){return wd=sd(function*(e,t,r,n,o,i,a,c,l,s){if(c.verbose("Account id found, calling WAM for token"),!s)throw Ri(wi);var u=new pl(c,l),d=new od(n,o,u,c,a,n.system.navigationClient,r,l,s,t,i,e.correlationId),{userRequestState:f}=Ys.parseRequestState(u,e.state);return ml(d.acquireToken.bind(d),kr,c,l,e.correlationId)(ad(ad({},e),{},{state:f,prompt:void 0}))}),wd.apply(this,arguments)}function kd(e,t,r,n,o,i,a,c,l,s,u,d){return Cd.apply(this,arguments)}function Cd(){return Cd=sd(function*(e,t,r,n,o,i,a,c,l,s,u,d){if(Vs.removeThrottle(a,o.auth.clientId,e),t.accountId)return ml(bd,Yr,s,u,e.correlationId)(e,t.accountId,n,o,a,c,l,s,u,d);var f=ad(ad({},e),{},{code:t.code||"",codeVerifier:r}),h=new qu(i,a,f,s,u);return yield ml(h.handleCodeResponse.bind(h),Qr,s,u,e.correlationId)(t,e)}),Cd.apply(this,arguments)}function Sd(e,t,r,n,o,i,a,c,l,s,u){return Id.apply(this,arguments)}function Id(){return Id=sd(function*(e,t,r,n,o,i,a,c,l,s,u){if(Vs.removeThrottle(i,n.auth.clientId,e),Nu(t,e.state),!t.ear_jwe)throw Ri(Mo);if(!e.earJwk)throw Ri(jo);var d=JSON.parse(yield ml(ec,Dn,l,s,e.correlationId)(e.earJwk,t.ear_jwe));if(d.accountId)return ml(bd,Yr,l,s,e.correlationId)(e,d.accountId,r,n,i,a,c,l,s,u);var f=new iu(n.auth.clientId,i,new pl(l,s),l,null,null,s);f.validateTokenResponse(d);var h={code:"",state:e.state,nonce:e.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return yield ml(f.handleServerTokenResponse.bind(f),on,l,s,e.correlationId)(d,o,kl(),e,h,void 0,void 0,void 0,void 0)}),Id.apply(this,arguments)}function Pd(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Td(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Pd(i,n,o,a,c,"next",e)}function c(e){Pd(i,n,o,a,c,"throw",e)}a(void 0)})}}function Ad(e,t,r){return Od.apply(this,arguments)}function Od(){return Od=Td(function*(e,t,r){e.addQueueMeasurement(An,r);var n=vl(xd,On,t,e,r)(e,t,r);return{verifier:n,challenge:yield ml(Ed,xn,t,e,r)(n,e,t,r)}}),Od.apply(this,arguments)}function xd(e,t,r){try{var n=new Uint8Array(32);return vl(Ha,_n,t,e,r)(n),Ia(n)}catch(e){throw Ri(Ro)}}function Ed(e,t,r,n){return _d.apply(this,arguments)}function _d(){return _d=Td(function*(e,t,r,n){t.addQueueMeasurement(xn,n);try{var o=yield ml(La,En,r,t,n)(e,t,n);return Ia(new Uint8Array(o))}catch(e){throw Ri(Ro)}}),_d.apply(this,arguments)}function Rd(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function jd(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Rd(i,n,o,a,c,"next",e)}function c(e){Rd(i,n,o,a,c,"throw",e)}a(void 0)})}}class Md{constructor(e,t,r,n){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=n,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(wn),this.platformAuthType="PlatformAuthExtensionHandler"}sendMessage(e){var t=this;return jd(function*(){t.logger.trace(t.platformAuthType+" - sendMessage called.");var r={method:"GetToken",request:e},n={channel:lo,extensionId:t.extensionId,responseId:Ka(),body:r};t.logger.trace(t.platformAuthType+" - Sending request to browser extension"),t.logger.tracePii(t.platformAuthType+" - Sending request to browser extension: ".concat(JSON.stringify(n))),t.messageChannel.port1.postMessage(n);var o=yield new Promise((e,r)=>{t.resolvers.set(n.responseId,{resolve:e,reject:r})});return t.validatePlatformBrokerResponse(o)})()}static createProvider(e,t,r){return jd(function*(){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{var n=new Md(e,t,r,so);return yield n.sendHandshakeRequest(),n}catch(n){var o=new Md(e,t,r);return yield o.sendHandshakeRequest(),o}})()}sendHandshakeRequest(){var e=this;return jd(function*(){e.logger.trace(e.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",e.windowListener,!1);var t={channel:lo,extensionId:e.extensionId,responseId:Ka(),body:{method:fo}};return e.handshakeEvent.add({extensionId:e.extensionId,extensionHandshakeTimeoutMs:e.handshakeTimeoutMs}),e.messageChannel.port1.onmessage=t=>{e.onChannelMessage(t)},window.postMessage(t,window.origin,[e.messageChannel.port2]),new Promise((r,n)=>{e.handshakeResolvers.set(t.responseId,{resolve:r,reject:n}),e.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",e.windowListener,!1),e.messageChannel.port1.close(),e.messageChannel.port2.close(),e.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(Ri(yi)),e.handshakeResolvers.delete(t.responseId)},e.handshakeTimeoutMs)})})()}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source===window){var t=e.data;if(t.channel&&t.channel===lo&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===fo){var r=this.handshakeResolvers.get(t.responseId);if(!r)return void this.logger.trace(this.platformAuthType+".onWindowMessage - resolver can't be found for request ".concat(t.responseId));this.logger.verbose(t.extensionId?"Extension with id: ".concat(t.extensionId," not installed"):"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(Ri(bi))}}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");var t=e.data,r=this.resolvers.get(t.responseId),n=this.handshakeResolvers.get(t.responseId);try{var o=t.body.method;if("Response"===o){if(!r)return;var i=t.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+" - Received response from browser extension: ".concat(JSON.stringify(i))),"Success"!==i.status)r.reject(Hu(i.code,i.description,i.ext));else{if(!i.result)throw re($,"Event does not contain result.");i.result.code&&i.result.description?r.reject(Hu(i.result.code,i.result.description,i.result.ext)):r.resolve(i.result)}this.resolvers.delete(t.responseId)}else if("HandshakeResponse"===o){if(!n)return void this.logger.trace(this.platformAuthType+".onChannelMessage - resolver can't be found for request ".concat(t.responseId));clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(this.platformAuthType+" - Received HandshakeResponse from extension: ".concat(this.extensionId)),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),n.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(t){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: ".concat(t)),this.logger.errorPii("Unable to parse ".concat(e)),r?r.reject(t):n&&n.reject(t)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw re($,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===so?"chrome":null!==(e=this.getExtensionId())&&void 0!==e&&e.length?"unknown":void 0}}var Nd=["accountId","clientId","authority","scope","redirectUri","correlationId","state","storeInCache","embeddedClientId","extraParameters"];function zd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(r),!0).forEach(function(t){qd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qd(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dd(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Fd(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Dd(i,n,o,a,c,"next",e)}function c(e){Dd(i,n,o,a,c,"throw",e)}a(void 0)})}}class Ld{constructor(e,t,r){this.logger=e,this.performanceClient=t,this.correlationId=r,this.platformAuthType="PlatformAuthDOMHandler"}static createProvider(e,t,r){return Fd(function*(){var n;if(e.trace("PlatformAuthDOMHandler: createProvider called"),null!==(n=window.navigator)&&void 0!==n&&n.platformAuthentication){var o=yield window.navigator.platformAuthentication.getSupportedContracts(uo);if(null!=o&&o.includes("get-token-and-sign-out"))return e.trace("Platform auth api available in DOM"),new Ld(e,t,r)}})()}getExtensionId(){return uo}getExtensionVersion(){return""}getExtensionName(){return"DOM API"}sendMessage(e){var t=this;return Fd(function*(){t.logger.trace(t.platformAuthType+" - Sending request to browser DOM API");try{var r=t.initializePlatformDOMRequest(e),n=yield window.navigator.platformAuthentication.executeGetToken(r);return t.validatePlatformBrokerResponse(n)}catch(e){throw t.logger.error(t.platformAuthType+" - executeGetToken DOM API error"),e}})()}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");var{accountId:t,clientId:r,authority:n,scope:o,redirectUri:i,correlationId:a,state:c,storeInCache:l,embeddedClientId:s,extraParameters:u}=e,d=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Nd),f=this.getDOMExtraParams(d);return{accountId:t,brokerId:this.getExtensionId(),authority:n,clientId:r,correlationId:a||this.correlationId,extraParameters:Bd(Bd({},u),f),isSecurityTokenService:!1,redirectUri:i,scope:o,state:c,storeInCache:l,embeddedClientId:s}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){var t=e;if(!1===t.isSuccess&&t.error&&t.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Hu(t.error.code,t.error.description,{error:parseInt(t.error.errorCode),protocol_error:t.error.protocolError,status:t.error.status,properties:t.error.properties})}}throw re($,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){var t;return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:null!==(t=e.extendedLifetimeToken)&&void 0!==t&&t,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return Bd({},Object.entries(e).reduce((e,t)=>{var[r,n]=t;return e[r]=String(n),e},{}))}}function Ud(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Hd(){return e=function*(e,t,r,n){e.trace("getPlatformAuthProvider called",r);var o,i=function(){try{var e;return"true"===(null===(e=window[po])||void 0===e?void 0:e.getItem(Bc))}catch(e){return!1}}();e.trace("Has client allowed platform auth via DOM API: "+i);try{i&&(o=yield Ld.createProvider(e,t,r)),o||(e.trace("Platform auth via DOM API not available, checking for extension"),o=yield Md.createProvider(e,n||2e3,t))}catch(t){e.trace("Platform auth not available",t)}return o},Hd=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Ud(i,n,o,a,c,"next",e)}function c(e){Ud(i,n,o,a,c,"throw",e)}a(void 0)})},Hd.apply(this,arguments);var e}function Wd(e,t,r,n){if(t.trace("isPlatformAuthAllowed called"),!e.system.allowPlatformBroker)return t.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!r)return t.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(n)switch(n){case V.BEARER:case V.POP:return t.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}function Kd(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Vd(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Kd(i,n,o,a,c,"next",e)}function c(e){Kd(i,n,o,a,c,"throw",e)}a(void 0)})}}function Gd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gd(Object(r),!0).forEach(function(t){Jd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jd(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Yd extends Ru{constructor(e,t,r,n,o,i,a,c,l,s){super(e,t,r,n,o,i,a,l,s),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=o}acquireToken(e,t){var r=void 0;try{var n;if(r={popupName:this.generatePopupName(e.scopes||m,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:null!==(n=e.popupWindowParent)&&void 0!==n?n:window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,t);var o=Qd(Qd({},e),{},{httpMethod:Tu(e,this.config.auth.protocolMode)});return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(o,r,t)}catch(e){return Promise.reject(e)}}logout(e){try{var t;this.logger.verbose("logoutPopup called");var r=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(r),popupWindowAttributes:(null==e?void 0:e.popupWindowAttributes)||{},popupWindowParent:null!==(t=null==e?void 0:e.popupWindowParent)&&void 0!==t?t:window},o=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,n,o,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(r,n,o,i))}catch(e){return Promise.reject(e)}}acquireTokenPopupAsync(e,t,r){var n=this;return Vd(function*(){n.logger.verbose("acquireTokenPopupAsync called");var o=yield ml(n.initializeAuthorizationRequest.bind(n),Kr,n.logger,n.performanceClient,n.correlationId)(e,no.Popup);t.popup&&Ac(o.authority);var i=Wd(n.config,n.logger,n.platformAuthProvider,e.authenticationScheme);return o.platformBroker=i,n.config.auth.protocolMode===Y?n.executeEarFlow(o,t):n.executeCodeFlow(o,t,r)})()}executeCodeFlow(e,t,r){var n=this;return Vd(function*(){var o=e.correlationId,i=n.initializeServerTelemetryManager(Ao),a=r||(yield ml(Ad,An,n.logger,n.performanceClient,o)(n.performanceClient,n.logger,o)),c=Qd(Qd({},e),{},{codeChallenge:a.challenge});try{var l=yield ml(n.createAuthCodeClient.bind(n),Hr,n.logger,n.performanceClient,o)({serverTelemetryManager:i,requestAuthority:c.authority,requestAzureCloudOptions:c.azureCloudOptions,requestExtraQueryParameters:c.extraQueryParameters,account:c.account});if(c.httpMethod===v)return yield n.executeCodeFlowWithPost(c,t,l,a.verifier);var s=yield ml(fd,Vr,n.logger,n.performanceClient,o)(n.config,l.authority,c,n.logger,n.performanceClient),u=n.initiateAuthRequest(s,t);n.eventHandler.emitEvent(xs,no.Popup,{popupWindow:u},null);var d=yield n.monitorPopupForHash(u,t.popupWindowParent),f=vl(ju,an,n.logger,n.performanceClient,n.correlationId)(d,n.config.auth.OIDCOptions.serverResponseType,n.logger);return yield ml(kd,Xr,n.logger,n.performanceClient,o)(e,f,a.verifier,Ao,n.config,l,n.browserStorage,n.nativeStorage,n.eventHandler,n.logger,n.performanceClient,n.platformAuthProvider)}catch(e){var h;throw null===(h=t.popup)||void 0===h||h.close(),e instanceof te&&(e.setCorrelationId(n.correlationId),i.cacheFailedRequest(e)),e}})()}executeEarFlow(e,t){var r=this;return Vd(function*(){var n=e.correlationId,o=yield ml(r.getDiscoveredAuthority.bind(r),wr,r.logger,r.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=yield ml(Xa,qn,r.logger,r.performanceClient,n)(),a=Qd(Qd({},e),{},{earJwk:i}),c=t.popup||r.openPopup("about:blank",t);(yield pd(c.document,r.config,o,a,r.logger,r.performanceClient)).submit();var l=yield ml(r.monitorPopupForHash.bind(r),Fr,r.logger,r.performanceClient,n)(c,t.popupWindowParent),s=vl(ju,an,r.logger,r.performanceClient,r.correlationId)(l,r.config.auth.OIDCOptions.serverResponseType,r.logger);return ml(Sd,Jr,r.logger,r.performanceClient,n)(a,s,Ao,r.config,o,r.browserStorage,r.nativeStorage,r.eventHandler,r.logger,r.performanceClient,r.platformAuthProvider)})()}executeCodeFlowWithPost(e,t,r,n){var o=this;return Vd(function*(){var i=e.correlationId,a=yield ml(o.getDiscoveredAuthority.bind(o),wr,o.logger,o.performanceClient,i)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),c=t.popup||o.openPopup("about:blank",t);(yield vd(c.document,o.config,a,e,o.logger,o.performanceClient)).submit();var l=yield ml(o.monitorPopupForHash.bind(o),Fr,o.logger,o.performanceClient,i)(c,t.popupWindowParent),s=vl(ju,an,o.logger,o.performanceClient,o.correlationId)(l,o.config.auth.OIDCOptions.serverResponseType,o.logger);return ml(kd,Xr,o.logger,o.performanceClient,i)(e,s,n,Ao,o.config,r,o.browserStorage,o.nativeStorage,o.eventHandler,o.logger,o.performanceClient,o.platformAuthProvider)})()}logoutPopupAsync(e,t,r,n){var o=this;return Vd(function*(){o.logger.verbose("logoutPopupAsync called"),o.eventHandler.emitEvent(Es,no.Popup,e);var i=o.initializeServerTelemetryManager(962);try{yield o.clearCacheOnLogout(o.correlationId,e.account);var a=yield ml(o.createAuthCodeClient.bind(o),Hr,o.logger,o.performanceClient,o.correlationId)({serverTelemetryManager:i,requestAuthority:r,account:e.account||void 0});try{a.authority.endSessionEndpoint}catch(r){var c;if(null!==(c=e.account)&&void 0!==c&&c.homeAccountId&&e.postLogoutRedirectUri&&a.authority.protocolMode===J){var l;if(o.eventHandler.emitEvent(_s,no.Popup,e),n){var s={apiId:962,timeout:o.config.system.redirectNavigationTimeout,noHistory:!1},u=Kt.getAbsoluteUrl(n,Cc());yield o.navigationClient.navigateInternal(u,s)}return void(null===(l=t.popup)||void 0===l||l.close())}}var d=a.getLogoutUri(e);o.eventHandler.emitEvent(_s,no.Popup,e);var f=o.openPopup(d,t);if(o.eventHandler.emitEvent(xs,no.Popup,{popupWindow:f},null),yield o.monitorPopupForHash(f,t.popupWindowParent).catch(()=>{}),n){var h={apiId:962,timeout:o.config.system.redirectNavigationTimeout,noHistory:!1},p=Kt.getAbsoluteUrl(n,Cc());o.logger.verbose("Redirecting main window to url specified in the request"),o.logger.verbosePii("Redirecting main window to: ".concat(p)),yield o.navigationClient.navigateInternal(p,h)}else o.logger.verbose("No main window navigation requested")}catch(e){var g;throw null===(g=t.popup)||void 0===g||g.close(),e instanceof te&&(e.setCorrelationId(o.correlationId),i.cacheFailedRequest(e)),o.eventHandler.emitEvent(Rs,no.Popup,null,e),o.eventHandler.emitEvent(js,no.Popup),e}o.eventHandler.emitEvent(js,no.Popup)})()}initiateAuthRequest(e,t){if(e)return this.logger.infoPii("Navigate to: ".concat(e)),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Ri(zo)}monitorPopupForHash(e,t){return new Promise((t,r)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var n=setInterval(()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(n),void r(Ri(Ko));var o="";try{o=e.location.href}catch(e){}if(o&&"about:blank"!==o){clearInterval(n);var i="",a=this.config.auth.OIDCOptions.serverResponseType;e&&(i=a===N?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{var r;if(t.popup?(r=t.popup,this.logger.verbosePii("Navigating popup window to: ".concat(e)),r.location.assign(e)):void 0===t.popup&&(this.logger.verbosePii("Opening popup window to: ".concat(e)),r=this.openSizedPopup(e,t)),!r)throw Ri(Wo);return r.focus&&r.focus(),this.currentWindow=r,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(e){throw this.logger.error("error opening popup "+e.message),Ri(Ho)}}openSizedPopup(e,t){var r,n,o,i,{popupName:a,popupWindowAttributes:c,popupWindowParent:l}=t,s=l.screenLeft?l.screenLeft:l.screenX,u=l.screenTop?l.screenTop:l.screenY,d=l.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=l.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,h=null===(r=c.popupSize)||void 0===r?void 0:r.width,p=null===(n=c.popupSize)||void 0===n?void 0:n.height,g=null===(o=c.popupPosition)||void 0===o?void 0:o.top,v=null===(i=c.popupPosition)||void 0===i?void 0:i.left;return(!h||h<0||h>d)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),h=483),(!p||p<0||p>f)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=600),(!g||g<0||g>f)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),g=Math.max(0,f/2-300+u)),(!v||v<0||v>d)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),v=Math.max(0,d/2-241.5+s)),l.open(e,a,"width=".concat(h,", height=").concat(p,", top=").concat(g,", left=").concat(v,", scrollbars=yes"))}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return"".concat(ao,".").concat(this.config.auth.clientId,".").concat(e.join("-"),".").concat(t,".").concat(this.correlationId)}generateLogoutPopupName(e){var t=e.account&&e.account.homeAccountId;return"".concat(ao,".").concat(this.config.auth.clientId,".").concat(t,".").concat(this.correlationId)}}function Xd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(r),!0).forEach(function(t){Zd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Zd(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ef(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function tf(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ef(i,n,o,a,c,"next",e)}function c(e){ef(i,n,o,a,c,"throw",e)}a(void 0)})}}class rf extends Ru{constructor(e,t,r,n,o,i,a,c,l,s){super(e,t,r,n,o,i,a,l,s),this.nativeStorage=c}acquireToken(e){var t=this;return tf(function*(){var r=yield ml(t.initializeAuthorizationRequest.bind(t),Kr,t.logger,t.performanceClient,t.correlationId)(e,no.Redirect);r.platformBroker=Wd(t.config,t.logger,t.platformAuthProvider,e.authenticationScheme);var n=e=>{e.persisted&&(t.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),t.browserStorage.resetRequestCache(),t.eventHandler.emitEvent("msal:restoreFromBFCache",no.Redirect))},o=t.getRedirectStartPage(e.redirectStartPage);t.logger.verbosePii("Redirect start page: ".concat(o)),t.browserStorage.setTemporaryCache(yo,o,!0),window.addEventListener("pageshow",n);try{t.config.auth.protocolMode===Y?yield t.executeEarFlow(r):yield t.executeCodeFlow(r,e.onRedirectNavigate)}catch(e){throw e instanceof te&&e.setCorrelationId(t.correlationId),window.removeEventListener("pageshow",n),e}})()}executeCodeFlow(e,t){var r=this;return tf(function*(){var n=e.correlationId,o=r.initializeServerTelemetryManager(To),i=yield ml(Ad,An,r.logger,r.performanceClient,n)(r.performanceClient,r.logger,n),a=$d($d({},e),{},{codeChallenge:i.challenge});r.browserStorage.cacheAuthorizeRequest(a,i.verifier);try{if(a.httpMethod===v)return yield r.executeCodeFlowWithPost(a);var c=yield ml(r.createAuthCodeClient.bind(r),Hr,r.logger,r.performanceClient,r.correlationId)({serverTelemetryManager:o,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),l=yield ml(fd,Vr,r.logger,r.performanceClient,e.correlationId)(r.config,c.authority,a,r.logger,r.performanceClient);return yield r.initiateAuthRequest(l,t)}catch(e){throw e instanceof te&&(e.setCorrelationId(r.correlationId),o.cacheFailedRequest(e)),e}})()}executeEarFlow(e){var t=this;return tf(function*(){var r=e.correlationId,n=yield ml(t.getDiscoveredAuthority.bind(t),wr,t.logger,t.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=yield ml(Xa,qn,t.logger,t.performanceClient,r)(),i=$d($d({},e),{},{earJwk:o});return t.browserStorage.cacheAuthorizeRequest(i),(yield pd(document,t.config,n,i,t.logger,t.performanceClient)).submit(),new Promise((e,r)=>{setTimeout(()=>{r(Ri(Oi,"failed_to_redirect"))},t.config.system.redirectNavigationTimeout)})})()}executeCodeFlowWithPost(e){var t=this;return tf(function*(){var r=e.correlationId,n=yield ml(t.getDiscoveredAuthority.bind(t),wr,t.logger,t.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return t.browserStorage.cacheAuthorizeRequest(e),(yield vd(document,t.config,n,e,t.logger,t.performanceClient)).submit(),new Promise((e,r)=>{setTimeout(()=>{r(Ri(Oi,"failed_to_redirect"))},t.config.system.redirectNavigationTimeout)})})()}handleRedirectPromise(){var e=arguments,t=this;return tf(function*(){var r,n,o=e.length>0&&void 0!==e[0]?e[0]:"",i=e.length>1?e[1]:void 0,a=e.length>2?e[2]:void 0,c=e.length>3?e[3]:void 0,l=t.initializeServerTelemetryManager(865);try{var[s,u]=t.getRedirectResponse(o||"");if(!s)return t.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),t.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.getEntriesByType){var e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return null==t?void 0:t.type}}()?c.event.errorCode="no_server_response":t.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;var d=t.browserStorage.getTemporaryCache(yo,!0)||g.EMPTY_STRING;if(Wt(d)===Wt(window.location.href)&&t.config.auth.navigateToLoginRequestUrl)return t.logger.verbose("Current page is loginRequestUrl, handling response"),d.indexOf("#")>-1&&((n=d.split("#")).shift(),window.location.hash=n.length>0?n.join("#"):""),yield t.handleResponse(s,i,a,l);if(!t.config.auth.navigateToLoginRequestUrl)return t.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield t.handleResponse(s,i,a,l);if(!kc()||t.config.system.allowRedirectInIframe){t.browserStorage.setTemporaryCache(bo,u,!0);var f={apiId:865,timeout:t.config.system.redirectNavigationTimeout,noHistory:!0},h=!0;if(d&&"null"!==d)t.logger.verbose("Navigating to loginRequestUrl: ".concat(d)),h=yield t.navigationClient.navigateInternal(d,f);else{var p=(r=new Kt(window.location.href).getUrlComponents(),"".concat(r.Protocol,"//").concat(r.HostNameAndPort,"/"));t.browserStorage.setTemporaryCache(yo,p,!0),t.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),h=yield t.navigationClient.navigateInternal(p,f)}if(!h)return yield t.handleResponse(s,i,a,l)}return null}catch(e){throw e instanceof te&&(e.setCorrelationId(t.correlationId),l.cacheFailedRequest(e)),e}})()}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");var t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===N?window.location.search:window.location.hash);var r=Ut(t);if(r){try{!function(e,t,r){if(!e.state)throw Ri(qo);var n=function(e,t){if(!t)return null;try{return Ys.parseRequestState(e,t).libraryState.meta}catch(e){throw Je(de)}}(t,e.state);if(!n)throw Ri(Fo);if(n.interactionType!==r)throw Ri(Lo)}(r,this.browserCrypto,no.Redirect)}catch(e){return e instanceof te&&this.logger.error("Interaction type validation failed due to ".concat(e.errorCode,": ").concat(e.errorMessage)),[null,""]}return wc(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}var n=this.browserStorage.getTemporaryCache(bo,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(bo)),n&&(r=Ut(n))?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,n]):[null,""]}handleResponse(e,t,r,n){var o=this;return tf(function*(){if(!e.state)throw Ri(qo);if(e.ear_jwe){var i=yield ml(o.getDiscoveredAuthority.bind(o),wr,o.logger,o.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return ml(Sd,Jr,o.logger,o.performanceClient,t.correlationId)(t,e,To,o.config,i,o.browserStorage,o.nativeStorage,o.eventHandler,o.logger,o.performanceClient,o.platformAuthProvider)}var a=yield ml(o.createAuthCodeClient.bind(o),Hr,o.logger,o.performanceClient,o.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority});return ml(kd,Xr,o.logger,o.performanceClient,t.correlationId)(t,e,r,To,o.config,a,o.browserStorage,o.nativeStorage,o.eventHandler,o.logger,o.performanceClient,o.platformAuthProvider)})()}initiateAuthRequest(e,t){var r=this;return tf(function*(){if(r.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){r.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: ".concat(e));var n={apiId:To,timeout:r.config.system.redirectNavigationTimeout,noHistory:!1},o=t||r.config.auth.onRedirectNavigate;return"function"==typeof o?(r.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1!==o(e)?(r.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void(yield r.navigationClient.navigateExternal(e,n))):void r.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")):(r.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void(yield r.navigationClient.navigateExternal(e,n)))}throw r.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Ri(zo)})()}logout(e){var t=this;return tf(function*(){t.logger.verbose("logoutRedirect called");var r=t.initializeLogoutRequest(e),n=t.initializeServerTelemetryManager(961);try{t.eventHandler.emitEvent(Es,no.Redirect,e),yield t.clearCacheOnLogout(t.correlationId,r.account);var o={apiId:961,timeout:t.config.system.redirectNavigationTimeout,noHistory:!1},i=yield ml(t.createAuthCodeClient.bind(t),Hr,t.logger,t.performanceClient,t.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:null==e?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(i.authority.protocolMode===J)try{i.authority.endSessionEndpoint}catch(e){var a;if(null!==(a=r.account)&&void 0!==a&&a.homeAccountId)return void t.eventHandler.emitEvent(_s,no.Redirect,r)}var c=i.getLogoutUri(r);if(t.eventHandler.emitEvent(_s,no.Redirect,r),!e||"function"!=typeof e.onRedirectNavigate)return t.browserStorage.getInteractionInProgress()||t.browserStorage.setInteractionInProgress(!0,mo),void(yield t.navigationClient.navigateExternal(c,o));if(!1!==e.onRedirectNavigate(c))return t.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),t.browserStorage.getInteractionInProgress()||t.browserStorage.setInteractionInProgress(!0,mo),void(yield t.navigationClient.navigateExternal(c,o));t.browserStorage.setInteractionInProgress(!1),t.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(e){throw e instanceof te&&(e.setCorrelationId(t.correlationId),n.cacheFailedRequest(e)),t.eventHandler.emitEvent(Rs,no.Redirect,null,e),t.eventHandler.emitEvent(js,no.Redirect),e}t.eventHandler.emitEvent(js,no.Redirect)})()}getRedirectStartPage(e){var t=e||window.location.href;return Kt.getAbsoluteUrl(t,Cc())}}function nf(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function of(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){nf(i,n,o,a,c,"next",e)}function c(e){nf(i,n,o,a,c,"throw",e)}a(void 0)})}}function af(e,t,r,n,o){return cf.apply(this,arguments)}function cf(){return cf=of(function*(e,t,r,n,o){if(t.addQueueMeasurement(Dr,n),!e)throw r.info("Navigate url is empty"),Ri(zo);return o?ml(pf,Lr,r,t,n)(e,o,t,n):vl(gf,Ur,r,t,n)(e)}),cf.apply(this,arguments)}function lf(e,t,r,n,o){return sf.apply(this,arguments)}function sf(){return sf=of(function*(e,t,r,n,o){var i=vf();if(!i.contentDocument)throw"No document associated with iframe!";return(yield vd(i.contentDocument,e,t,r,n,o)).submit(),i}),sf.apply(this,arguments)}function uf(e,t,r,n,o){return df.apply(this,arguments)}function df(){return df=of(function*(e,t,r,n,o){var i=vf();if(!i.contentDocument)throw"No document associated with iframe!";return(yield pd(i.contentDocument,e,t,r,n,o)).submit(),i}),df.apply(this,arguments)}function ff(e,t,r,n,o,i,a){return hf.apply(this,arguments)}function hf(){return hf=of(function*(e,t,r,n,o,i,a){return n.addQueueMeasurement(Fr,i),new Promise((n,i)=>{t<_c&&o.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower (".concat(t,"ms) than the default (").concat(_c,"ms). This may result in timeouts."));var c=window.setTimeout(()=>{window.clearInterval(l),i(Ri(Go))},t),l=window.setInterval(()=>{var t="",r=e.contentWindow;try{t=r?r.location.href:""}catch(e){}if(t&&"about:blank"!==t){var o="";r&&(o=a===N?r.location.search:r.location.hash),window.clearTimeout(c),window.clearInterval(l),n(o)}},r)}).finally(()=>{vl(mf,kn,o,n,i)(e)})}),hf.apply(this,arguments)}function pf(e,t,r,n){return r.addQueueMeasurement(Lr,n),new Promise((r,n)=>{var o=vf();window.setTimeout(()=>{o?(o.src=e,r(o)):n("Unable to load iframe")},t)})}function gf(e){var t=vf();return t.src=e,t}function vf(){var e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function mf(e){document.body===e.parentNode&&document.body.removeChild(e)}function yf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yf(Object(r),!0).forEach(function(t){wf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kf(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Cf(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){kf(i,n,o,a,c,"next",e)}function c(e){kf(i,n,o,a,c,"throw",e)}a(void 0)})}}class Sf extends Ru{constructor(e,t,r,n,o,i,a,c,l,s,u){super(e,t,r,n,o,i,c,s,u),this.apiId=a,this.nativeStorage=l}acquireToken(e){var t=this;return Cf(function*(){t.performanceClient.addQueueMeasurement(mr,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||t.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");var r=bf({},e);r.prompt?r.prompt!==j&&"no_session"!==r.prompt&&(t.logger.warning("SilentIframeClient. Replacing invalid prompt ".concat(r.prompt," with ").concat(j)),r.prompt=j):r.prompt=j;var n=yield ml(t.initializeAuthorizationRequest.bind(t),Kr,t.logger,t.performanceClient,e.correlationId)(r,no.Silent);return n.platformBroker=Wd(t.config,t.logger,t.platformAuthProvider,n.authenticationScheme),Ac(n.authority),t.config.auth.protocolMode===Y?t.executeEarFlow(n):t.executeCodeFlow(n)})()}executeCodeFlow(e){var t=this;return Cf(function*(){var r,n=t.initializeServerTelemetryManager(t.apiId);try{return r=yield ml(t.createAuthCodeClient.bind(t),Hr,t.logger,t.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),yield ml(t.silentTokenHelper.bind(t),qr,t.logger,t.performanceClient,e.correlationId)(r,e)}catch(o){if(o instanceof te&&(o.setCorrelationId(t.correlationId),n.cacheFailedRequest(o)),!(r&&o instanceof te&&o.errorCode===io))throw o;return t.performanceClient.addFields({retryError:o.errorCode},t.correlationId),yield ml(t.silentTokenHelper.bind(t),qr,t.logger,t.performanceClient,t.correlationId)(r,e)}})()}executeEarFlow(e){var t=this;return Cf(function*(){var r=e.correlationId,n=yield ml(t.getDiscoveredAuthority.bind(t),wr,t.logger,t.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=yield ml(Xa,qn,t.logger,t.performanceClient,r)(),i=bf(bf({},e),{},{earJwk:o}),a=yield ml(uf,Dr,t.logger,t.performanceClient,r)(t.config,n,i,t.logger,t.performanceClient),c=t.config.auth.OIDCOptions.serverResponseType,l=yield ml(ff,Fr,t.logger,t.performanceClient,r)(a,t.config.system.iframeHashTimeout,t.config.system.pollIntervalMilliseconds,t.performanceClient,t.logger,r,c),s=vl(ju,an,t.logger,t.performanceClient,r)(l,c,t.logger);return ml(Sd,Jr,t.logger,t.performanceClient,r)(i,s,t.apiId,t.config,n,t.browserStorage,t.nativeStorage,t.eventHandler,t.logger,t.performanceClient,t.platformAuthProvider)})()}logout(){return Promise.reject(Ri($o))}silentTokenHelper(e,t){var r=this;return Cf(function*(){var n=t.correlationId;r.performanceClient.addQueueMeasurement(qr,n);var o,i=yield ml(Ad,An,r.logger,r.performanceClient,n)(r.performanceClient,r.logger,n),a=bf(bf({},t),{},{codeChallenge:i.challenge});if(t.httpMethod===v)o=yield ml(lf,Dr,r.logger,r.performanceClient,n)(r.config,e.authority,a,r.logger,r.performanceClient);else{var c=yield ml(fd,Vr,r.logger,r.performanceClient,n)(r.config,e.authority,a,r.logger,r.performanceClient);o=yield ml(af,Dr,r.logger,r.performanceClient,n)(c,r.performanceClient,r.logger,n,r.config.system.navigateFrameWait)}var l=r.config.auth.OIDCOptions.serverResponseType,s=yield ml(ff,Fr,r.logger,r.performanceClient,n)(o,r.config.system.iframeHashTimeout,r.config.system.pollIntervalMilliseconds,r.performanceClient,r.logger,n,l),u=vl(ju,an,r.logger,r.performanceClient,n)(s,l,r.logger);return ml(kd,Xr,r.logger,r.performanceClient,n)(t,u,i.verifier,r.apiId,r.config,e,r.browserStorage,r.nativeStorage,r.eventHandler,r.logger,r.performanceClient,r.platformAuthProvider)})()}}function If(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?If(Object(r),!0).forEach(function(t){Tf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):If(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Tf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Af(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Of(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Af(i,n,o,a,c,"next",e)}function c(e){Af(i,n,o,a,c,"throw",e)}a(void 0)})}}class xf extends Js{constructor(e,t){super(e,t)}acquireToken(e){var t=this;return Of(function*(){var r,n;null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(Tr,e.correlationId);var o=kl(),i=yield ml(t.executeTokenRequest.bind(t),Pr,t.logger,t.performanceClient,e.correlationId)(e,t.authority),a=null===(n=i.headers)||void 0===n?void 0:n[C],c=new iu(t.config.authOptions.clientId,t.cacheManager,t.cryptoUtils,t.logger,t.config.serializableCache,t.config.persistencePlugin);return c.validateTokenResponse(i.body),ml(c.handleServerTokenResponse.bind(c),on,t.logger,t.performanceClient,e.correlationId)(i.body,t.authority,o,e,void 0,void 0,!0,e.forceCache,a)})()}acquireTokenByRefreshToken(e){var t=this;return Of(function*(){var r;if(!e)throw Tt(lt);if(null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(Or,e.correlationId),!e.account)throw Je(Ae);if(t.cacheManager.isAppMetadataFOCI(e.account.environment))try{return yield ml(t.acquireTokenWithCachedRefreshToken.bind(t),Ar,t.logger,t.performanceClient,e.correlationId)(e,!0)}catch(r){var n=r instanceof Yl&&r.errorCode===Ul,o=r instanceof Ks&&"invalid_grant"===r.errorCode&&"client_mismatch"===r.subError;if(n||o)return ml(t.acquireTokenWithCachedRefreshToken.bind(t),Ar,t.logger,t.performanceClient,e.correlationId)(e,!1);throw r}return ml(t.acquireTokenWithCachedRefreshToken.bind(t),Ar,t.logger,t.performanceClient,e.correlationId)(e,!1)})()}acquireTokenWithCachedRefreshToken(e,t){var r=this;return Of(function*(){var n;null===(n=r.performanceClient)||void 0===n||n.addQueueMeasurement(Ar,e.correlationId);var o,i=vl(r.cacheManager.getRefreshToken.bind(r.cacheManager),Sn,r.logger,r.performanceClient,e.correlationId)(e.account,t,e.correlationId,void 0,r.performanceClient);if(!i)throw $l(Ul);if(i.expiresOn&&Il(i.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw null===(o=r.performanceClient)||void 0===o||o.addFields({rtExpiresOnMs:Number(i.expiresOn)},e.correlationId),$l(Wl);var a=Pf(Pf({},e),{},{refreshToken:i.secret,authenticationScheme:e.authenticationScheme||V.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Fs}});try{return yield ml(r.acquireToken.bind(r),Tr,r.logger,r.performanceClient,e.correlationId)(a)}catch(t){var c;if(t instanceof Yl&&(null===(c=r.performanceClient)||void 0===c||c.addFields({rtExpiresOnMs:Number(i.expiresOn)},e.correlationId),t.subError===Vl)){r.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");var l=r.cacheManager.generateCredentialKey(i);r.cacheManager.removeRefreshToken(l,e.correlationId)}throw t}})()}executeTokenRequest(e,t){var r=this;return Of(function*(){var n;null===(n=r.performanceClient)||void 0===n||n.addQueueMeasurement(Pr,e.correlationId);var o=r.createTokenQueryParameters(e),i=Kt.appendQueryString(t.tokenEndpoint,o),a=yield ml(r.createTokenRequestBody.bind(r),xr,r.logger,r.performanceClient,e.correlationId)(e),c=r.createTokenRequestHeaders(e.ccsCredential),l=ns(r.config.authOptions.clientId,e);return ml(r.executePostToTokenEndpoint.bind(r),Sr,r.logger,r.performanceClient,e.correlationId)(i,a,c,l,e.correlationId,Sr)})()}createTokenRequestBody(e){var t=this;return Of(function*(){var r,n,o;null===(r=t.performanceClient)||void 0===r||r.addQueueMeasurement(xr,e.correlationId);var i=new Map;if(Zi(i,e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Li])||t.config.authOptions.clientId),e.redirectUri&&ea(i,e.redirectUri),$i(i,e.scopes,!0,null===(o=t.config.authOptions.authority.options.OIDCOptions)||void 0===o?void 0:o.defaultScopes),pa(i,"refresh_token"),ga(i),ca(i,t.config.libraryInfo),la(i,t.config.telemetry.application),ka(i),t.serverTelemetryManager&&!ro(t.config)&&wa(i,t.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(i,e.refreshToken),t.config.clientCredentials.clientSecret&&da(i,t.config.clientCredentials.clientSecret),t.config.clientCredentials.clientAssertion){var a=t.config.clientCredentials.clientAssertion;fa(i,yield lu(a.assertion,t.config.authOptions.clientId,e.resourceRequestUri)),ha(i,a.assertionType)}if(e.authenticationScheme===V.POP){var c=new tu(t.cryptoUtils,t.performanceClient);ya(i,e.popKid?t.cryptoUtils.encodeKid(e.popKid):(yield ml(c.generateCnf.bind(c),rn,t.logger,t.performanceClient,e.correlationId)(e,t.logger)).reqCnfString)}else if(e.authenticationScheme===V.SSH){if(!e.sshJwk)throw Tt(gt);ba(i,e.sshJwk)}if((!At.isEmptyObj(e.claims)||t.config.authOptions.clientCapabilities&&t.config.authOptions.clientCapabilities.length>0)&&ia(i,e.claims,t.config.authOptions.clientCapabilities),t.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Fs:try{na(i,es(e.ccsCredential.credential))}catch(e){t.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Ls:ra(i,e.ccsCredential.credential)}return e.embeddedClientId&&Ca(i,t.config.authOptions.clientId,t.config.authOptions.redirectUri),e.tokenBodyParameters&&ma(i,e.tokenBodyParameters),Yi(i,e.correlationId,t.performanceClient),Ht(i)})()}}function Ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ef(Object(r),!0).forEach(function(t){Rf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ef(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Rf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jf(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Mf(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){jf(i,n,o,a,c,"next",e)}function c(e){jf(i,n,o,a,c,"throw",e)}a(void 0)})}}class Nf extends Ru{acquireToken(e){var t=this;return Mf(function*(){t.performanceClient.addQueueMeasurement(yr,e.correlationId);var r=yield ml(Cu,Mr,t.logger,t.performanceClient,e.correlationId)(e,t.config,t.performanceClient,t.logger),n=_f(_f({},e),r);e.redirectUri&&(n.redirectUri=t.getRedirectUri(e.redirectUri));var o=t.initializeServerTelemetryManager(61),i=yield t.createRefreshTokenClient({serverTelemetryManager:o,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return ml(i.acquireTokenByRefreshToken.bind(i),Or,t.logger,t.performanceClient,e.correlationId)(n).catch(e=>{throw e.setCorrelationId(t.correlationId),o.cacheFailedRequest(e),e})})()}logout(){return Promise.reject(Ri($o))}createRefreshTokenClient(e){var t=this;return Mf(function*(){var r=yield ml(t.getClientConfiguration.bind(t),Wr,t.logger,t.performanceClient,t.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new xf(r,t.performanceClient)})()}}function zf(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Bf(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){zf(i,n,o,a,c,"next",e)}function c(e){zf(i,n,o,a,c,"throw",e)}a(void 0)})}}class qf{constructor(e,t,r,n){this.isBrowserEnvironment="undefined"!=typeof window,this.config=e,this.storage=t,this.logger=r,this.cryptoObj=n}loadExternalTokens(e,t,r){var n=this;return Bf(function*(){if(!n.isBrowserEnvironment)throw Ri(ii);var o=e.correlationId||Ka(),i=t.id_token?qt(t.id_token,Aa):void 0,a={protocolMode:n.config.auth.protocolMode,knownAuthorities:n.config.auth.knownAuthorities,cloudDiscoveryMetadata:n.config.auth.cloudDiscoveryMetadata,authorityMetadata:n.config.auth.authorityMetadata,skipAuthorityMetadataCache:n.config.auth.skipAuthorityMetadataCache},c=e.authority?new Fl(Fl.generateAuthority(e.authority,e.azureCloudOptions),n.config.system.networkClient,n.storage,a,n.logger,e.correlationId||Ka()):void 0,l=yield n.loadAccount(e,r.clientInfo||t.client_info||"",o,i,c),s=yield n.loadIdToken(t,l.homeAccountId,l.environment,l.realm,o),u=yield n.loadAccessToken(e,t,l.homeAccountId,l.environment,l.realm,r,o),d=yield n.loadRefreshToken(t,l.homeAccountId,l.environment,o);return n.generateAuthenticationResult(e,{account:l,idToken:s,accessToken:u,refreshToken:d},i,c)})()}loadAccount(e,t,r,n,o){var i=this;return Bf(function*(){if(i.logger.verbose("TokenCache - loading account"),e.account){var a=rs.createFromAccountInfo(e.account);return yield i.storage.setAccount(a,r),a}if(!o||!t&&!n)throw i.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Ri(di);var c=rs.generateHomeAccountId(t,o.authorityType,i.logger,i.cryptoObj,n),l=null==n?void 0:n.tid,s=au(i.storage,o,c,Aa,r,n,t,o.hostnameAndPort,l,void 0,void 0,i.logger);return yield i.storage.setAccount(s,r),s})()}loadIdToken(e,t,r,n,o){var i=this;return Bf(function*(){if(!e.id_token)return i.logger.verbose("TokenCache - no id token found in response"),null;i.logger.verbose("TokenCache - loading id token");var a=Pl(t,r,e.id_token,i.config.auth.clientId,n);return yield i.storage.setIdTokenCredential(a,o),a})()}loadAccessToken(e,t,r,n,o,i,a){var c=this;return Bf(function*(){if(!t.access_token)return c.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return c.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!(t.scope||e.scopes&&e.scopes.length))return c.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;c.logger.verbose("TokenCache - loading access token");var l=t.scope?Ot.fromString(t.scope):new Ot(e.scopes),s=i.expiresOn||t.expires_in+kl(),u=i.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+kl(),d=Tl(r,n,t.access_token,c.config.auth.clientId,o,l.printScopes(),s,u,Aa);return yield c.storage.setAccessTokenCredential(d,a),d})()}loadRefreshToken(e,t,r,n){var o=this;return Bf(function*(){if(!e.refresh_token)return o.logger.verbose("TokenCache - no refresh token found in response"),null;o.logger.verbose("TokenCache - loading refresh token");var i=Al(t,r,e.refresh_token,o.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return yield o.storage.setRefreshTokenCredential(i,n),i})()}generateAuthenticationResult(e,t,r,n){var o,i,a,c,l="",s=[],u=null;null!=t&&t.accessToken&&(l=t.accessToken.secret,s=Ot.fromString(t.accessToken.target).asArray(),u=Sl(t.accessToken.expiresOn),c=Sl(t.accessToken.extendedExpiresOn));var d=t.account;return{authority:n?n.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:d.getAccountInfo(),idToken:(null===(o=t.idToken)||void 0===o?void 0:o.secret)||"",idTokenClaims:r||{},accessToken:l,fromCache:!0,expiresOn:u,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:(null===(i=t.refreshToken)||void 0===i?void 0:i.familyId)||"",tokenType:(null==t||null===(a=t.accessToken)||void 0===a?void 0:a.tokenType)||"",state:e.state||"",cloudGraphHostName:d.cloudGraphHostName||"",msGraphHost:d.msGraphHost||"",fromNativeBroker:!1}}}class Df extends fu{constructor(e){super(e),this.includeRedirectUri=!1}}function Ff(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ff(Object(r),!0).forEach(function(t){Uf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ff(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Uf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hf(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}class Wf extends Ru{constructor(e,t,r,n,o,i,a,c,l,s){super(e,t,r,n,o,i,c,l,s),this.apiId=a}acquireToken(e){var t,r=this;return(t=function*(){if(!e.code)throw Ri(hi);var t=yield ml(r.initializeAuthorizationRequest.bind(r),Kr,r.logger,r.performanceClient,e.correlationId)(e,no.Silent),n=r.initializeServerTelemetryManager(r.apiId);try{var o=Lf(Lf({},t),{},{code:e.code}),i=yield ml(r.getClientConfiguration.bind(r),Wr,r.logger,r.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new Df(i);r.logger.verbose("Auth code client created");var c=new qu(a,r.browserStorage,o,r.logger,r.performanceClient);return yield ml(c.handleCodeResponseFromServer.bind(c),Gr,r.logger,r.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(e){throw e instanceof te&&(e.setCorrelationId(r.correlationId),n.cacheFailedRequest(e)),e}},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){Hf(i,n,o,a,c,"next",e)}function c(e){Hf(i,n,o,a,c,"throw",e)}a(void 0)})})()}logout(){return Promise.reject(Ri($o))}}function Kf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kf(Object(r),!0).forEach(function(t){Gf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qf(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Jf(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){Qf(i,n,o,a,c,"next",e)}function c(e){Qf(i,n,o,a,c,"throw",e)}a(void 0)})}}function Yf(e,t,r){try{Pc(e)}catch(e){throw t.end({success:!1},e,r),e}}class Xf{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new pl(this.logger,this.performanceClient):$e,this.eventHandler=new Ds(this.logger),this.browserStorage=this.isBrowserEnvironment?new Bs(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){var t=e.cloudDiscoveryMetadata,r=void 0;if(t)try{r=JSON.parse(t)}catch(e){throw Tt(ft)}return{canonicalAuthority:e.authority?Ll(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:r}}(this.config.auth)):((e,t,r,n)=>new Bs(e,{cacheLocation:go,cacheRetentionDays:5,temporaryCacheLocation:go,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},$e,t,r,n))(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);var t={cacheLocation:go,cacheRetentionDays:5,temporaryCacheLocation:go,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Bs(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new qf(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static createController(e,t){return Jf(function*(){var r=new Xf(e);return yield r.initialize(t),r})()}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}initialize(e,t){var r=this;return Jf(function*(){if(r.logger.trace("initialize called"),r.initialized)r.logger.info("initialize has already been called, exiting early.");else{if(!r.isBrowserEnvironment)return r.logger.info("in non-browser environment, exiting early."),r.initialized=!0,void r.eventHandler.emitEvent(ms);var n=(null==e?void 0:e.correlationId)||r.getRequestCorrelationId(),o=r.config.system.allowPlatformBroker,i=r.performanceClient.startMeasurement(zr,n);if(r.eventHandler.emitEvent("msal:initializeStart"),!t)try{r.logMultipleInstances(i)}catch(e){}if(yield ml(r.browserStorage.initialize.bind(r.browserStorage),Br,r.logger,r.performanceClient,n)(n),o)try{r.platformAuthProvider=yield function(e,t,r,n){return Hd.apply(this,arguments)}(r.logger,r.performanceClient,n,r.config.system.nativeBrokerHandshakeTimeout)}catch(e){r.logger.verbose(e)}r.config.cache.claimsBasedCachingEnabled||(r.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),vl(r.browserStorage.clearTokensAndKeysWithClaims.bind(r.browserStorage),Cn,r.logger,r.performanceClient,n)(n)),r.config.system.asyncPopups&&(yield r.preGeneratePkceCodes(n)),r.initialized=!0,r.eventHandler.emitEvent(ms),i.end({allowPlatformBroker:o,success:!0})}})()}handleRedirectPromise(e){var t=this;return Jf(function*(){if(t.logger.verbose("handleRedirectPromise called"),Ic(t.initialized),t.isBrowserEnvironment){var r=e||"",n=t.redirectResponse.get(r);return void 0===n?(n=t.handleRedirectPromiseInternal(e),t.redirectResponse.set(r,n),t.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):t.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return t.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})()}handleRedirectPromiseInternal(e){var t=this;return Jf(function*(){var r;if(!t.browserStorage.isInteractionInProgress(!0))return t.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if((null===(r=t.browserStorage.getInteractionInProgress())||void 0===r?void 0:r.type)===mo)return t.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),t.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);var n,o,i=t.getAllAccounts(),a=t.browserStorage.getCachedNativeRequest(),c=a&&t.platformAuthProvider&&!e;t.eventHandler.emitEvent("msal:handleRedirectStart",no.Redirect);try{if(c&&t.platformAuthProvider){n=t.performanceClient.startMeasurement(hr,(null==a?void 0:a.correlationId)||""),t.logger.trace("handleRedirectPromise - acquiring token from native platform"),n.add({isPlatformBrokerRequest:!0});var l=new od(t.config,t.browserStorage,t.browserCrypto,t.logger,t.eventHandler,t.navigationClient,865,t.performanceClient,t.platformAuthProvider,a.accountId,t.nativeInternalStorage,a.correlationId);o=ml(l.handleRedirectPromise.bind(l),bn,t.logger,t.performanceClient,n.event.correlationId)(t.performanceClient,n.event.correlationId)}else{var[s,u]=t.browserStorage.getCachedRequest(),d=s.correlationId;n=t.performanceClient.startMeasurement(hr,d),t.logger.trace("handleRedirectPromise - acquiring token from web flow");var f=t.createRedirectClient(d);o=ml(f.handleRedirectPromise.bind(f),yn,t.logger,t.performanceClient,n.event.correlationId)(e,s,u,n)}}catch(e){throw t.browserStorage.resetRequestCache(),e}return o.then(e=>(e?(t.browserStorage.resetRequestCache(),i.length<t.getAllAccounts().length?(t.eventHandler.emitEvent(Cs,no.Redirect,e),t.logger.verbose("handleRedirectResponse returned result, login success")):(t.eventHandler.emitEvent(Ps,no.Redirect,e),t.logger.verbose("handleRedirectResponse returned result, acquire token success")),n.end({success:!0},void 0,e.account)):n.event.errorCode?n.end({success:!1},void 0):n.discard(),t.eventHandler.emitEvent(Os,no.Redirect),e)).catch(e=>{t.browserStorage.resetRequestCache();var r=e;throw i.length>0?t.eventHandler.emitEvent(Ts,no.Redirect,null,r):t.eventHandler.emitEvent(Ss,no.Redirect,null,r),t.eventHandler.emitEvent(Os,no.Redirect),n.end({success:!1},r),e})})()}acquireTokenRedirect(e){var t=this;return Jf(function*(){var r=t.getRequestCorrelationId(e);t.logger.verbose("acquireTokenRedirect called",r);var n=t.performanceClient.startMeasurement("acquireTokenPreRedirect",r);n.add({scenarioId:e.scenarioId});var o=e.onRedirectNavigate;if(o)e.onRedirectNavigate=t=>{var r="function"==typeof o?o(t):void 0;return n.add({navigateCallbackResult:!1!==r}),n.event=n.end({success:!0},void 0,e.account)||n.event,r};else{var i=t.config.auth.onRedirectNavigate;t.config.auth.onRedirectNavigate=t=>{var r="function"==typeof i?i(t):void 0;return n.add({navigateCallbackResult:!1!==r}),n.event=n.end({success:!0},void 0,e.account)||n.event,r}}var a=t.getAllAccounts().length>0;try{var c;return Tc(t.initialized,t.config),t.browserStorage.setInteractionInProgress(!0,vo),a?t.eventHandler.emitEvent(Is,no.Redirect,e):t.eventHandler.emitEvent(ks,no.Redirect,e),c=t.platformAuthProvider&&t.canUsePlatformBroker(e)?new od(t.config,t.browserStorage,t.browserCrypto,t.logger,t.eventHandler,t.navigationClient,To,t.performanceClient,t.platformAuthProvider,t.getNativeAccountId(e),t.nativeInternalStorage,r).acquireTokenRedirect(e,n).catch(o=>{if(n.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o instanceof Lu&&Uu(o))return t.platformAuthProvider=void 0,t.createRedirectClient(r).acquireToken(e);if(o instanceof Yl)return t.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),t.createRedirectClient(r).acquireToken(e);throw o}):t.createRedirectClient(r).acquireToken(e),yield c}catch(o){throw t.browserStorage.resetRequestCache(),2===n.event.status?t.performanceClient.startMeasurement(hr,r).end({success:!1},o,e.account):n.end({success:!1},o,e.account),a?t.eventHandler.emitEvent(Ts,no.Redirect,null,o):t.eventHandler.emitEvent(Ss,no.Redirect,null,o),o}})()}acquireTokenPopup(e){var t=this,r=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(fr,r);n.add({scenarioId:e.scenarioId});try{this.logger.verbose("acquireTokenPopup called",r),Yf(this.initialized,n,e.account),this.browserStorage.setInteractionInProgress(!0,vo)}catch(e){return Promise.reject(e)}var o,i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(Is,no.Popup,e):this.eventHandler.emitEvent(ks,no.Popup,e);var a=this.getPreGeneratedPkceCodes(r);return this.canUsePlatformBroker(e)?(n.add({isPlatformBrokerRequest:!0}),o=this.acquireTokenNative(Vf(Vf({},e),{},{correlationId:r}),Ao).then(e=>(n.end({success:!0},void 0,e.account),e)).catch(t=>{if(n.add({brokerErrorName:t.name,brokerErrorCode:t.errorCode}),t instanceof Lu&&Uu(t))return this.platformAuthProvider=void 0,this.createPopupClient(r).acquireToken(e,a);if(t instanceof Yl)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(r).acquireToken(e,a);throw t})):o=this.createPopupClient(r).acquireToken(e,a),o.then(e=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Cs,no.Popup,e):this.eventHandler.emitEvent(Ps,no.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length},void 0,e.account),e)).catch(t=>(i.length>0?this.eventHandler.emitEvent(Ts,no.Popup,null,t):this.eventHandler.emitEvent(Ss,no.Popup,null,t),n.end({success:!1},t,e.account),Promise.reject(t))).finally(Jf(function*(){t.browserStorage.setInteractionInProgress(!1),t.config.system.asyncPopups&&(yield t.preGeneratePkceCodes(r))}))}trackPageVisibilityWithMeasurement(){var e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}ssoSilent(e){var t=this;return Jf(function*(){var r,n,o,i,a=t.getRequestCorrelationId(e),c=Vf(Vf({},e),{},{prompt:e.prompt,correlationId:a});return t.ssoSilentMeasurement=t.performanceClient.startMeasurement(br,a),null===(r=t.ssoSilentMeasurement)||void 0===r||r.add({scenarioId:e.scenarioId}),Yf(t.initialized,t.ssoSilentMeasurement,e.account),null===(n=t.ssoSilentMeasurement)||void 0===n||n.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",t.trackPageVisibilityWithMeasurement),t.logger.verbose("ssoSilent called",a),t.eventHandler.emitEvent("msal:ssoSilentStart",no.Silent,c),t.canUsePlatformBroker(c)?(null===(i=t.ssoSilentMeasurement)||void 0===i||i.add({isPlatformBrokerRequest:!0}),o=t.acquireTokenNative(c,863).catch(e=>{var r;if(null===(r=t.ssoSilentMeasurement)||void 0===r||r.add({brokerErrorName:e.name,brokerErrorCode:e.errorCode}),e instanceof Lu&&Uu(e))return t.platformAuthProvider=void 0,t.createSilentIframeClient(c.correlationId).acquireToken(c);throw e})):o=t.createSilentIframeClient(c.correlationId).acquireToken(c),o.then(e=>{var r;return t.eventHandler.emitEvent("msal:ssoSilentSuccess",no.Silent,e),null===(r=t.ssoSilentMeasurement)||void 0===r||r.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length},void 0,e.account),e}).catch(r=>{var n;throw t.eventHandler.emitEvent("msal:ssoSilentFailure",no.Silent,null,r),null===(n=t.ssoSilentMeasurement)||void 0===n||n.end({success:!1},r,e.account),r}).finally(()=>{document.removeEventListener("visibilitychange",t.trackPageVisibilityWithMeasurement)})})()}acquireTokenByCode(e){var t=this;return Jf(function*(){var r=t.getRequestCorrelationId(e);t.logger.trace("acquireTokenByCode called",r);var n=t.performanceClient.startMeasurement(lr,r);Yf(t.initialized,n),t.eventHandler.emitEvent("msal:acquireTokenByCodeStart",no.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Ri(gi);if(e.code){var o=e.code,i=t.hybridAuthCodeResponses.get(o);return i?(t.logger.verbose("Existing acquireTokenByCode request found",r),n.discard()):(t.logger.verbose("Initiating new acquireTokenByCode request",r),i=t.acquireTokenByCodeAsync(Vf(Vf({},e),{},{correlationId:r})).then(e=>(t.eventHandler.emitEvent("msal:acquireTokenByCodeSuccess",no.Silent,e),t.hybridAuthCodeResponses.delete(o),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length},void 0,e.account),e)).catch(e=>{throw t.hybridAuthCodeResponses.delete(o),t.eventHandler.emitEvent(As,no.Silent,null,e),n.end({success:!1},e),e}),t.hybridAuthCodeResponses.set(o,i)),yield i}if(e.nativeAccountId){if(t.canUsePlatformBroker(e,e.nativeAccountId)){n.add({isPlatformBrokerRequest:!0});var a=yield t.acquireTokenNative(Vf(Vf({},e),{},{correlationId:r}),866,e.nativeAccountId).catch(e=>{throw e instanceof Lu&&Uu(e)&&(t.platformAuthProvider=void 0),n.add({brokerErrorName:e.name,brokerErrorCode:e.errorCode}),e});return n.end({success:!0},void 0,a.account),a}throw Ri(mi)}throw Ri(pi)}catch(e){throw t.eventHandler.emitEvent(As,no.Silent,null,e),n.end({success:!1},e),e}})()}acquireTokenByCodeAsync(e){var t=this;return Jf(function*(){var r;t.logger.trace("acquireTokenByCodeAsync called",e.correlationId),t.acquireTokenByCodeAsyncMeasurement=t.performanceClient.startMeasurement(mn,e.correlationId),null===(r=t.acquireTokenByCodeAsyncMeasurement)||void 0===r||r.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",t.trackPageVisibilityWithMeasurement);var n=t.createSilentAuthCodeClient(e.correlationId);return yield n.acquireToken(e).then(e=>{var r;return null===(r=t.acquireTokenByCodeAsyncMeasurement)||void 0===r||r.end({success:!0,fromCache:e.fromCache}),e}).catch(e=>{var r;throw null===(r=t.acquireTokenByCodeAsyncMeasurement)||void 0===r||r.end({success:!1},e),e}).finally(()=>{document.removeEventListener("visibilitychange",t.trackPageVisibilityWithMeasurement)})})()}acquireTokenFromCache(e,t){var r=this;return Jf(function*(){switch(r.performanceClient.addQueueMeasurement(Er,e.correlationId),t){case 0:case 1:case 2:var n=r.createSilentCacheClient(e.correlationId);return ml(n.acquireToken.bind(n),vr,r.logger,r.performanceClient,e.correlationId)(e);default:throw Je(Ne)}})()}acquireTokenByRefreshToken(e,t){var r=this;return Jf(function*(){switch(r.performanceClient.addQueueMeasurement(sr,e.correlationId),t){case 0:case 2:case 3:case 4:var n=r.createSilentRefreshClient(e.correlationId);return ml(n.acquireToken.bind(n),yr,r.logger,r.performanceClient,e.correlationId)(e);default:throw Je(Ne)}})()}acquireTokenBySilentIframe(e){var t=this;return Jf(function*(){t.performanceClient.addQueueMeasurement(jr,e.correlationId);var r=t.createSilentIframeClient(e.correlationId);return ml(r.acquireToken.bind(r),mr,t.logger,t.performanceClient,e.correlationId)(e)})()}logout(e){var t=this;return Jf(function*(){var r=t.getRequestCorrelationId(e);return t.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",r),t.logoutRedirect(Vf({correlationId:r},e))})()}logoutRedirect(e){var t=this;return Jf(function*(){var r=t.getRequestCorrelationId(e);return Tc(t.initialized,t.config),t.browserStorage.setInteractionInProgress(!0,mo),t.createRedirectClient(r).logout(e)})()}logoutPopup(e){try{var t=this.getRequestCorrelationId(e);return Pc(this.initialized),this.browserStorage.setInteractionInProgress(!0,mo),this.createPopupClient(t).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(e){return Promise.reject(e)}}clearCache(e){var t=this;return Jf(function*(){if(t.isBrowserEnvironment){var r=t.getRequestCorrelationId(e);return t.createSilentCacheClient(r).logout(e)}t.logger.info("in non-browser environment, returning early.")})()}getAllAccounts(e){var t=this.getRequestCorrelationId();return function(e,t,r,n,o){return e.verbose("getAllAccounts called"),r?t.getAllAccounts(o||{},n):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,t,e)}getAccount(e){var t=this.getRequestCorrelationId();return function(e,t,r,n){var o=r.getAccountInfoFilteredBy(e,n);return o?(t.verbose("getAccount: Account matching provided filter found, returning"),o):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}getAccountByUsername(e){var t=this.getRequestCorrelationId();return function(e,t,r,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;var o=r.getAccountInfoFilteredBy({username:e},n);return o?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: ".concat(e)),o):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}getAccountByHomeId(e){var t=this.getRequestCorrelationId();return function(e,t,r,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;var o=r.getAccountInfoFilteredBy({homeAccountId:e},n);return o?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ".concat(e)),o):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}getAccountByLocalId(e){var t=this.getRequestCorrelationId();return function(e,t,r,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;var o=r.getAccountInfoFilteredBy({localAccountId:e},n);return o?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: ".concat(e)),o):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}setActiveAccount(e){var t=this.getRequestCorrelationId();!function(e,t,r){t.setActiveAccount(e,r)}(e,this.browserStorage,t)}getActiveAccount(){var e=this.getRequestCorrelationId();return function(e,t){return e.getActiveAccount(t)}(this.browserStorage,e)}hydrateCache(e,t){var r=this;return Jf(function*(){r.logger.verbose("hydrateCache called");var n=rs.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return yield r.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(r.logger.verbose("Response was from native broker, storing in-memory"),r.nativeInternalStorage.hydrateCache(e,t)):r.browserStorage.hydrateCache(e,t)})()}acquireTokenNative(e,t,r,n){var o=this;return Jf(function*(){if(o.logger.trace("acquireTokenNative called"),!o.platformAuthProvider)throw Ri(wi);return new od(o.config,o.browserStorage,o.browserCrypto,o.logger,o.eventHandler,o.navigationClient,t,o.performanceClient,o.platformAuthProvider,r||o.getNativeAccountId(e),o.nativeInternalStorage,e.correlationId).acquireToken(e,n)})()}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Wd(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case j:case R:case E:case _:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace("canUsePlatformBroker: prompt = ".concat(e.prompt," is not compatible with platform broker flow, returning false")),!1}return!(!t&&!this.getNativeAccountId(e)&&(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),1))}getNativeAccountId(e){var t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Yd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new rf(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new Sf(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,863,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new Qu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new Nf(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new Wf(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,866,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Sc(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===ho?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===ho?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return null!=e&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Ka():g.EMPTY_STRING}loginRedirect(e){var t=this;return Jf(function*(){var r=t.getRequestCorrelationId(e);return t.logger.verbose("loginRedirect called",r),t.acquireTokenRedirect(Vf({correlationId:r},e||Oo))})()}loginPopup(e){var t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(Vf({correlationId:t},e||Oo))}acquireTokenSilent(e){var t=this;return Jf(function*(){var r=t.getRequestCorrelationId(e),n=t.performanceClient.startMeasurement(ur,r);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Yf(t.initialized,n,e.account),t.logger.verbose("acquireTokenSilent called",r);var o=e.account||t.getActiveAccount();if(!o)throw Ri(Zo);return t.acquireTokenSilentDeduped(e,o,r).then(t=>(n.end({success:!0,fromCache:t.fromCache,accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length},void 0,t.account),Vf(Vf({},t),{},{state:e.state,correlationId:r}))).catch(e=>{throw e instanceof te&&e.setCorrelationId(r),n.end({success:!1},e,o),e})})()}acquireTokenSilentDeduped(e,t,r){var n=this;return Jf(function*(){var o=ns(n.config.auth.clientId,Vf(Vf({},e),{},{authority:e.authority||n.config.auth.authority,correlationId:r}),t.homeAccountId),i=JSON.stringify(o),a=n.activeSilentTokenRequests.get(i);if(void 0===a){n.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),n.performanceClient.addFields({deduped:!1},r);var c=ml(n.acquireTokenSilentAsync.bind(n),dr,n.logger,n.performanceClient,r)(Vf(Vf({},e),{},{correlationId:r}),t);return n.activeSilentTokenRequests.set(i,c),c.finally(()=>{n.activeSilentTokenRequests.delete(i)})}return n.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),n.performanceClient.addFields({deduped:!0},r),a})()}acquireTokenSilentAsync(e,t){var r=this;return Jf(function*(){var n=()=>r.trackPageVisibility(e.correlationId);r.performanceClient.addQueueMeasurement(dr,e.correlationId),r.eventHandler.emitEvent(Is,no.Silent,e),e.correlationId&&r.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);var o=yield ml(Iu,Nr,r.logger,r.performanceClient,e.correlationId)(e,t,r.config,r.performanceClient,r.logger),i=e.cacheLookupPolicy||0,a=r.acquireTokenSilentNoIframe(o,i).catch(function(){var e=Jf(function*(e){var t=function(e,t){var r=!(e instanceof Yl&&e.subError!==Vl),n=e.errorCode===io||e.errorCode===Ne,o=r&&n||e.errorCode===Ul||e.errorCode===Wl,i=_o.includes(t);return o&&i}(e,i);if(t){if(r.activeIframeRequest){if(5!==i){var[n,a]=r.activeIframeRequest;r.logger.verbose("Iframe request is already in progress, awaiting resolution for request with correlationId: ".concat(a),o.correlationId);var c=r.performanceClient.startMeasurement("awaitConcurrentIframe",o.correlationId);c.add({awaitIframeCorrelationId:a});var l=yield n;if(c.end({success:l}),l)return r.logger.verbose("Parallel iframe request with correlationId: ".concat(a," succeeded. Retrying cache and/or RT redemption"),o.correlationId),r.acquireTokenSilentNoIframe(o,i);throw r.logger.info("Iframe request with correlationId: ".concat(a," failed. Interaction is required.")),e}return r.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",o.correlationId),ml(r.acquireTokenBySilentIframe.bind(r),jr,r.logger,r.performanceClient,o.correlationId)(o)}var s;return r.activeIframeRequest=[new Promise(e=>{s=e}),o.correlationId],r.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",o.correlationId),ml(r.acquireTokenBySilentIframe.bind(r),jr,r.logger,r.performanceClient,o.correlationId)(o).then(e=>(s(!0),e)).catch(e=>{throw s(!1),e}).finally(()=>{r.activeIframeRequest=void 0})}throw e});return function(t){return e.apply(this,arguments)}}());return a.then(t=>(r.eventHandler.emitEvent(Ps,no.Silent,t),r.performanceClient.addFields({fromCache:t.fromCache},e.correlationId),t)).catch(e=>{throw r.eventHandler.emitEvent(Ts,no.Silent,null,e),e}).finally(()=>{document.removeEventListener("visibilitychange",n)})})()}acquireTokenSilentNoIframe(e,t){var r=this;return Jf(function*(){return Wd(r.config,r.logger,r.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(r.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),r.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),r.acquireTokenNative(e,61,e.account.nativeAccountId,t).catch(function(){var t=Jf(function*(t){if(r.performanceClient.addFields({brokerErrorName:t.name,brokerErrorCode:t.errorCode},e.correlationId),t instanceof Lu&&Uu(t))throw r.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),r.platformAuthProvider=void 0,Je(Ne);throw t});return function(e){return t.apply(this,arguments)}}())):(r.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),1===t&&r.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),ml(r.acquireTokenFromCache.bind(r),Er,r.logger,r.performanceClient,e.correlationId)(e,t).catch(n=>{if(1===t)throw n;return r.eventHandler.emitEvent("msal:acquireTokenFromNetworkStart",no.Silent,e),ml(r.acquireTokenByRefreshToken.bind(r),sr,r.logger,r.performanceClient,e.correlationId)(e,t)}))})()}preGeneratePkceCodes(e){var t=this;return Jf(function*(){return t.logger.verbose("Generating new PKCE codes"),t.pkceCode=yield ml(Ad,An,t.logger,t.performanceClient,e)(t.performanceClient,t.logger,e),Promise.resolve()})()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");var t=this.pkceCode?Vf({},this.pkceCode):void 0;return this.pkceCode=void 0,this.logger.verbose("".concat(t?"Found":"Did not find"," pre-generated PKCE codes")),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){var t=this.config.auth.clientId;window&&(window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),function(e,t,r){var n,o=(null===(n=window.msal)||void 0===n?void 0:n.clientIds)||[],i=o.length,a=o.filter(t=>t===e).length;a>1&&r.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:i,sameClientIdInstanceCount:a})}(t,e,this.logger))}}function $f(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Zf(){return(e=function*(e,t){var r=new Gc(e);return yield r.initialize(),Xf.createController(r,t)},Zf=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){$f(i,n,o,a,c,"next",e)}function c(e){$f(i,n,o,a,c,"throw",e)}a(void 0)})}).apply(this,arguments);var e}function eh(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function th(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){eh(i,n,o,a,c,"next",e)}function c(e){eh(i,n,o,a,c,"throw",e)}a(void 0)})}}class rh{static createPublicClientApplication(e){return th(function*(){var t=yield function(e,t){return Zf.apply(this,arguments)}(e);return new rh(e,t)})()}constructor(e,t){this.isBroker=!1,this.controller=t||new Xf(new Gc(e))}initialize(e){var t=this;return th(function*(){return t.controller.initialize(e,t.isBroker)})()}acquireTokenPopup(e){var t=this;return th(function*(){return t.controller.acquireTokenPopup(e)})()}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(e,t){var r=this;return th(function*(){return r.controller.hydrateCache(e,t)})()}clearCache(e){return this.controller.clearCache(e)}}var nh="170c98e1-d486-4355-bcbe-170454e0207c",oh="a221a95e-6abc-4434-aecc-e48338a1b2f2",ih="https://spaarkedev1.crm.dynamics.com",ah={auth:{clientId:nh,authority:"https://login.microsoftonline.com/".concat(oh),redirectUri:ih,navigateToLoginRequestUrl:!1},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(e,t,r)=>{if(!r)switch(e){case u.Error:console.error("[MSAL] ".concat(t));break;case u.Warning:console.warn("[MSAL] ".concat(t));break;case u.Info:console.info("[MSAL] ".concat(t));break;case u.Verbose:console.debug("[MSAL] ".concat(t))}},logLevel:u.Warning}}},ch=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,c)}l((n=n.apply(e,t||[])).next())})};class lh{constructor(){this.msalInstance=null,this.currentAccount=null,this.isInitialized=!1,this.refreshPromises=new Map}static getInstance(){return lh.instance||(lh.instance=new lh),lh.instance}initialize(){return ch(this,void 0,void 0,function*(){if(this.isInitialized)console.warn("[MsalAuthProvider] Already initialized, skipping");else{console.info("[MsalAuthProvider] Initializing MSAL...");try{!function(){if(nh.includes("YOUR_CLIENT_ID"))throw new Error("[MSAL Config] CLIENT_ID not set. Update msalConfig.ts with actual Azure App Registration Client ID. Find at: Azure Portal  App registrations  SDAP  Overview  Application (client) ID");if(oh.includes("YOUR_TENANT_ID"))throw new Error("[MSAL Config] TENANT_ID not set. Update msalConfig.ts with actual Azure AD Tenant ID. Find at: Azure Portal  App registrations  SDAP  Overview  Directory (tenant) ID");if(ih.includes("your-org"))throw new Error("[MSAL Config] REDIRECT_URI not set. Update msalConfig.ts with actual Dataverse environment URL. Format: https://<your-org>.crm.dynamics.com Must match: Azure Portal  App registrations  SDAP  Authentication  Redirect URIs");var e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;if(!e.test(nh))throw new Error('[MSAL Config] CLIENT_ID has invalid GUID format: "'.concat(nh,'". ')+"Expected format: 12345678-1234-1234-1234-123456789abc");if(!e.test(oh))throw new Error('[MSAL Config] TENANT_ID has invalid GUID format: "'.concat(oh,'". ')+"Expected format: 12345678-1234-1234-1234-123456789abc");if(!ih.startsWith("https://")||!ih.includes(".dynamics.com"))throw new Error('[MSAL Config] REDIRECT_URI has invalid format: "'.concat(ih,'". ')+"Expected format: https://<org>.crm.dynamics.com (or .crm2, .crm3, etc.)");console.info("[MSAL Config] Configuration validation passed ")}(),console.info("[MsalAuthProvider] Configuration validated "),this.msalInstance=new rh(ah),console.info("[MsalAuthProvider] PublicClientApplication created "),yield this.msalInstance.initialize(),console.info("[MsalAuthProvider] MSAL instance initialized ");var e=yield this.msalInstance.handleRedirectPromise();if(e&&(console.info("[MsalAuthProvider] Redirect response processed, user authenticated via redirect "),this.currentAccount=e.account),!this.currentAccount){var t=this.msalInstance.getAllAccounts();t.length>0?(this.currentAccount=t[0],console.info("[MsalAuthProvider] Active account found: ".concat(this.currentAccount.username," "))):console.info("[MsalAuthProvider] No active account found (user not logged in)")}this.isInitialized=!0,console.info("[MsalAuthProvider] Initialization complete ")}catch(e){throw console.error("[MsalAuthProvider] Initialization failed ",e),new Error("MSAL initialization failed: ".concat(e))}}})}isAuthenticated(){return null!==this.currentAccount}getToken(e){return ch(this,void 0,void 0,function*(){if(!this.isInitialized||!this.msalInstance)throw new Error("MSAL not initialized. Call initialize() first.");if(!e||0===e.length)throw new Error("Scopes parameter is required and must not be empty.");var t=this.getCachedToken(e);if(t)return t;console.info("[MsalAuthProvider] Acquiring token for scopes: ".concat(e.join(", ")));try{var r=yield this.acquireTokenSilent(e);return console.info("[MsalAuthProvider] Token acquired successfully via silent flow "),console.debug("[MsalAuthProvider] Token expires:",r.expiresOn),r.expiresOn&&this.setCachedToken(r.accessToken,r.expiresOn,e),r.accessToken}catch(t){if(t instanceof Yl){console.warn("[MsalAuthProvider] Silent token acquisition failed, user interaction required. Falling back to popup login...");try{var n=yield this.acquireTokenPopup(e);return console.info("[MsalAuthProvider] Token acquired successfully via popup "),console.debug("[MsalAuthProvider] Token expires:",n.expiresOn),n.expiresOn&&this.setCachedToken(n.accessToken,n.expiresOn,e),n.accessToken}catch(e){throw console.error("[MsalAuthProvider] Popup token acquisition failed ",e),new Error("Failed to acquire token via popup: ".concat(e instanceof Error?e.message:"Unknown error"))}}throw console.error("[MsalAuthProvider] Token acquisition failed ",t),new Error("Failed to acquire token: ".concat(t instanceof Error?t.message:"Unknown error"))}})}clearCache(){console.info("[MsalAuthProvider] Clearing token cache"),this.refreshPromises.size>0&&(console.debug("[MsalAuthProvider] Cancelling ".concat(this.refreshPromises.size," ongoing refresh operations")),this.refreshPromises.clear());try{for(var e=[],t=0;t<sessionStorage.length;t++){var r=sessionStorage.key(t);r&&r.startsWith(lh.CACHE_KEY_PREFIX)&&e.push(r)}e.forEach(e=>sessionStorage.removeItem(e)),console.debug("[MsalAuthProvider] Removed ".concat(e.length," cached tokens from sessionStorage"))}catch(e){console.warn("[MsalAuthProvider] Failed to clear sessionStorage cache",e)}this.msalInstance&&"clearCache"in this.msalInstance&&"function"==typeof this.msalInstance.clearCache&&this.msalInstance.clearCache(),this.currentAccount=null,console.info("[MsalAuthProvider] Token cache cleared ")}acquireTokenSilent(e){return ch(this,void 0,void 0,function*(){if(!this.msalInstance)throw new Error("MSAL instance not initialized");if(this.currentAccount){console.debug("[MsalAuthProvider] Using acquireTokenSilent with account: ".concat(this.currentAccount.username));var t={scopes:e,account:this.currentAccount};try{var r=yield this.msalInstance.acquireTokenSilent(t);return console.debug("[MsalAuthProvider] acquireTokenSilent succeeded "),r}catch(e){console.debug("[MsalAuthProvider] acquireTokenSilent failed, trying ssoSilent as fallback")}}console.debug("[MsalAuthProvider] Using ssoSilent to discover account from browser session");var n={scopes:e},o=yield this.msalInstance.ssoSilent(n);return o.account&&(this.currentAccount=o.account,console.debug("[MsalAuthProvider] Account discovered via ssoSilent: ".concat(this.currentAccount.username," "))),console.debug("[MsalAuthProvider] ssoSilent succeeded "),o})}acquireTokenPopup(e){return ch(this,void 0,void 0,function*(){var t;if(!this.msalInstance)throw new Error("MSAL instance not initialized");console.info("[MsalAuthProvider] Opening popup for user authentication...");var r={scopes:e,loginHint:null===(t=this.currentAccount)||void 0===t?void 0:t.username};try{var n=yield this.msalInstance.acquireTokenPopup(r);return n.account&&(this.currentAccount=n.account,console.info("[MsalAuthProvider] User authenticated via popup: ".concat(this.currentAccount.username," "))),n}catch(e){if(e instanceof Error){if(e.message.includes("user_cancelled")||e.message.includes("popup_window_closed"))throw console.warn("[MsalAuthProvider] User cancelled popup authentication"),new Error("Authentication cancelled by user");if(e.message.includes("popup_window_error")||e.message.includes("BrowserAuthError"))throw console.error("[MsalAuthProvider] Popup window blocked by browser"),new Error("Popup blocked. Please allow popups for this site and try again.")}throw console.error("[MsalAuthProvider] Popup authentication failed",e),e}})}getCachedToken(e){try{var t=this.getCacheKey(e),r=sessionStorage.getItem(t);if(!r)return console.debug("[MsalAuthProvider] No cached token found for scopes:",e),null;var n=JSON.parse(r),o=Date.now(),i=n.expiresAt,a=i-lh.EXPIRATION_BUFFER_MS;if(o>=a)return console.debug("[MsalAuthProvider] Cached token expired or past expiration buffer. "+"Expires: ".concat(new Date(i).toISOString(),", Now: ").concat(new Date(o).toISOString())),this.removeCachedToken(e),null;if(o>=a-(a-o)/2){var c=Math.round((i-o)/1e3/60);console.info("[MsalAuthProvider] Token nearing expiration (".concat(c," min remaining), ")+"triggering background refresh..."),this.refreshTokenInBackground(e)}if(!this.scopesMatch(n.scopes,e))return console.debug("[MsalAuthProvider] Cached token scopes don't match requested scopes"),null;var l=Math.round((i-o)/1e3/60);return console.debug("[MsalAuthProvider] Using cached token  (expires in ".concat(l," minutes)")),n.token}catch(e){return console.warn("[MsalAuthProvider] Failed to read cached token, will reacquire",e),null}}setCachedToken(e,t,r){try{var n=this.getCacheKey(r),o={token:e,expiresAt:t.getTime(),scopes:r};sessionStorage.setItem(n,JSON.stringify(o)),console.debug("[MsalAuthProvider] Token cached  "+"(expires: ".concat(t.toISOString(),")"))}catch(e){console.warn("[MsalAuthProvider] Failed to cache token (will continue without cache)",e)}}removeCachedToken(e){try{var t=this.getCacheKey(e);sessionStorage.removeItem(t),console.debug("[MsalAuthProvider] Cached token removed")}catch(e){console.warn("[MsalAuthProvider] Failed to remove cached token",e)}}getCacheKey(e){var t=e.slice().sort();return lh.CACHE_KEY_PREFIX+t.join(",")}scopesMatch(e,t){if(e.length!==t.length)return!1;var r=e.slice().sort(),n=t.slice().sort();return r.every((e,t)=>e===n[t])}refreshTokenInBackground(e){var t=this.getCacheKey(e);if(this.refreshPromises.has(t))console.debug("[MsalAuthProvider] Token refresh already in progress for scopes:",e);else{console.info("[MsalAuthProvider] Starting background token refresh for scopes:",e);var r=(()=>ch(this,void 0,void 0,function*(){try{var r=yield this.acquireTokenSilent(e);console.info("[MsalAuthProvider] Background token refresh succeeded "),r.expiresOn&&this.setCachedToken(r.accessToken,r.expiresOn,e)}catch(t){console.warn("[MsalAuthProvider] Background token refresh failed (will retry on next call)",t),this.removeCachedToken(e)}finally{this.refreshPromises.delete(t)}}))();this.refreshPromises.set(t,r)}}getCurrentAccount(){return this.currentAccount}isInitializedState(){return this.isInitialized}getAccountDebugInfo(){return this.currentAccount?{username:this.currentAccount.username,name:this.currentAccount.name,tenantId:this.currentAccount.tenantId,homeAccountId:this.currentAccount.homeAccountId,environment:this.currentAccount.environment}:null}}lh.CACHE_KEY_PREFIX="msal.token.",lh.EXPIRATION_BUFFER_MS=3e5;class sh{constructor(e){this.fileUploadService=e}uploadFiles(e,t){return r=this,n=void 0,i=function*(){var r,{files:n,containerId:o}=e;f("MultiFileUploadService","Starting upload of ".concat(n.length," files to container: ").concat(o));for(var i=[],a=[],c=yield Promise.allSettled(n.map(e=>this.fileUploadService.uploadFile({file:e,driveId:o}))),l=0;l<n.length;l++){var s=n[l],u=c[l];try{if(null==t||t({current:l+1,total:n.length,currentFileName:s.name,status:"uploading"}),"rejected"===u.status)throw new Error((null===(r=u.reason)||void 0===r?void 0:r.message)||"Upload failed");var d=u.value;if(!d.success||!d.data)throw new Error(d.error||"Upload failed");a.push(d.data),null==t||t({current:l+1,total:n.length,currentFileName:s.name,status:"complete"})}catch(e){var h=e instanceof Error?e.message:"Unknown error";i.push({fileName:s.name,error:h}),p("MultiFileUploadService","Failed to upload: ".concat(s.name),e),null==t||t({current:l+1,total:n.length,currentFileName:s.name,status:"failed",error:h})}}var g={success:a.length>0,totalFiles:n.length,successCount:a.length,failureCount:i.length,uploadedFiles:a,errors:i};return f("MultiFileUploadService","Upload complete: ".concat(g.successCount,"/").concat(g.totalFiles," successful")),g},new((o=void 0)||(o=Promise))(function(e,t){function a(e){try{l(i.next(e))}catch(e){t(e)}}function c(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o(function(e){e(r)})).then(a,c)}l((i=i.apply(r,n||[])).next())});var r,n,o,i}}var uh={sprk_matter:{entityName:"sprk_matter",lookupFieldName:"sprk_matter",containerIdField:"sprk_containerid",displayNameField:"sprk_matternumber",entitySetName:"sprk_matters"},sprk_project:{entityName:"sprk_project",lookupFieldName:"sprk_project",containerIdField:"sprk_containerid",displayNameField:"sprk_projectname",entitySetName:"sprk_projects"},sprk_invoice:{entityName:"sprk_invoice",lookupFieldName:"sprk_invoice",containerIdField:"sprk_containerid",displayNameField:"sprk_invoicenumber",entitySetName:"sprk_invoices"},account:{entityName:"account",lookupFieldName:"sprk_account",containerIdField:"sprk_containerid",displayNameField:"name",entitySetName:"accounts"},contact:{entityName:"contact",lookupFieldName:"sprk_contact",containerIdField:"sprk_containerid",displayNameField:"fullname",entitySetName:"contacts"}};function dh(e){return uh[e]||null}var fh=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,c)}l((n=n.apply(e,t||[])).next())})};class hh{createDocuments(e,t,r){return fh(this,void 0,void 0,function*(){f("DocumentRecordService","Creating ".concat(e.length," Document records"));var n=[];for(var o of e){var i=yield this.createSingleDocument(o,t,r);n.push(i)}var a=n.filter(e=>e.success).length,c=n.filter(e=>!e.success).length;return f("DocumentRecordService","Created ".concat(a," records, ").concat(c," failures")),n})}createSingleDocument(e,t,r){return fh(this,void 0,void 0,function*(){try{var n=dh(t.parentEntityName);if(!n)throw new Error("Unsupported entity type: ".concat(t.parentEntityName));var o=this.buildRecordPayload(e,t,r,n.lookupFieldName,n.entitySetName);f("DocumentRecordService","Creating Document: ".concat(e.name));var i=yield Xrm.WebApi.createRecord("sprk_document",o);return f("DocumentRecordService","Created Document record: ".concat(i.id)),{success:!0,fileName:e.name,recordId:i.id}}catch(t){return p("DocumentRecordService","Failed to create Document for ".concat(e.name),t),{success:!1,fileName:e.name,error:t.message||"Unknown error occurred"}}})}buildRecordPayload(e,t,r,n,o){return{sprk_documentname:r.documentName||e.name,sprk_filename:e.name,sprk_filesize:e.size,sprk_graphitemid:e.id,sprk_graphdriveid:t.containerId,sprk_description:r.description||null,["".concat(n,"@odata.bind")]:"/".concat(o,"(").concat(t.parentRecordId,")")}}static isAvailable(){return"undefined"!=typeof Xrm&&void 0!==Xrm.WebApi}}class ph{constructor(e){this.apiClient=e}uploadFile(e){return t=this,r=void 0,o=function*(){try{if(d.info("FileUploadService","Starting file upload",{fileName:e.file.name,fileSize:e.file.size,driveId:e.driveId}),!e.file)return{success:!1,error:"No file provided"};if(!e.driveId)return{success:!1,error:"No drive ID provided"};var t=yield this.apiClient.uploadFile({file:e.file,driveId:e.driveId,fileName:e.fileName||e.file.name}),r=Object.assign(Object.assign({},t),{driveItemId:t.id,fileName:t.name,sharePointUrl:t.webUrl||"",fileSize:t.size});return d.info("FileUploadService","File uploaded successfully",{fileName:r.fileName,driveItemId:r.driveItemId,sharePointUrl:r.sharePointUrl}),{success:!0,data:r}}catch(e){return d.error("FileUploadService","File upload failed",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred during file upload"}}},new((n=void 0)||(n=Promise))(function(e,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(e){e(r)})).then(a,c)}l((o=o.apply(t,r||[])).next())});var t,r,n,o}}var gh=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,c)}l((n=n.apply(e,t||[])).next())})};class vh{constructor(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5;this.baseUrl=e.endsWith("/")?e.slice(0,-1):e,this.getAccessToken=t,this.timeout=r,d.info("SdapApiClient","Initialized",{baseUrl:this.baseUrl,timeout:this.timeout})}uploadFile(e){return gh(this,void 0,void 0,function*(){d.info("SdapApiClient","Uploading file",{fileName:e.fileName,fileSize:e.file.size,containerId:e.driveId});try{var t=yield this.getAccessToken(),r="".concat(this.baseUrl,"/obo/containers/").concat(encodeURIComponent(e.driveId),"/files/").concat(encodeURIComponent(e.fileName)),n=yield this.fetchWithTimeout(r,{method:"PUT",headers:{Authorization:"Bearer ".concat(t)},body:e.file}),o=yield this.handleResponse(n);return d.info("SdapApiClient","File uploaded successfully",o),o}catch(e){throw d.error("SdapApiClient","File upload failed",e),this.enhanceError(e,"File upload failed")}})}downloadFile(e){return gh(this,void 0,void 0,function*(){d.info("SdapApiClient","Downloading file",{driveId:e.driveId,itemId:e.itemId});try{var t=yield this.getAccessToken(),r="".concat(this.baseUrl,"/obo/drives/").concat(encodeURIComponent(e.driveId),"/items/").concat(encodeURIComponent(e.itemId),"/content"),n=yield this.fetchWithTimeout(r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});if(!n.ok){var o=yield n.text();throw new Error("Download failed: ".concat(n.status," ").concat(o))}var i=yield n.blob();return d.info("SdapApiClient","File downloaded successfully",{size:i.size,type:i.type}),i}catch(e){throw d.error("SdapApiClient","File download failed",e),this.enhanceError(e,"File download failed")}})}deleteFile(e){return gh(this,void 0,void 0,function*(){d.info("SdapApiClient","Deleting file",{driveId:e.driveId,itemId:e.itemId});try{var t=yield this.getAccessToken(),r="".concat(this.baseUrl,"/obo/drives/").concat(encodeURIComponent(e.driveId),"/items/").concat(encodeURIComponent(e.itemId)),n=yield this.fetchWithTimeout(r,{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});yield this.handleResponse(n),d.info("SdapApiClient","File deleted successfully")}catch(e){throw d.error("SdapApiClient","File delete failed",e),this.enhanceError(e,"File delete failed")}})}replaceFile(e){return gh(this,void 0,void 0,function*(){d.info("SdapApiClient","Replacing file",{fileName:e.fileName,fileSize:e.file.size,driveId:e.driveId,itemId:e.itemId});try{yield this.deleteFile({driveId:e.driveId,itemId:e.itemId}),d.info("SdapApiClient","Old file deleted, uploading new file");var t=yield this.uploadFile({file:e.file,driveId:e.driveId,fileName:e.fileName});return d.info("SdapApiClient","File replaced successfully",t),t}catch(e){throw d.error("SdapApiClient","File replace failed",e),this.enhanceError(e,"File replace failed")}})}fetchWithTimeout(e,t){return gh(this,void 0,void 0,function*(){for(var r,n=this,o=0,i=function*(){o++;var r=new AbortController,i=setTimeout(()=>r.abort(),n.timeout);try{var a=yield fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));if(clearTimeout(i),a.ok||2===o)return{v:a};if(401===a.status&&o<2){d.warn("SdapApiClient","401 Unauthorized response - clearing token cache and retrying",{url:e,attempt:o,maxAttempts:2}),lh.getInstance().clearCache();var c=yield n.getAccessToken();return t.headers&&(t.headers.Authorization="Bearer ".concat(c)),d.info("SdapApiClient","Retrying request with fresh token"),0}return{v:a}}catch(e){if(clearTimeout(i),e instanceof Error&&"AbortError"===e.name)throw new Error("Request timeout after ".concat(n.timeout,"ms"));throw e}};o<2;)if(0!==(r=yield*i())&&r)return r.v;throw new Error("Unexpected error in fetchWithTimeout retry logic")})}handleResponse(e){return gh(this,void 0,void 0,function*(){if(!e.ok){var t="HTTP ".concat(e.status,": ").concat(e.statusText),r="";try{var n=yield e.json();t=n.error||t,r=n.details||""}catch(t){try{r=yield e.text()}catch(e){}}var o=this.getUserFriendlyErrorMessage(e.status,t),i=new Error(o);throw i.details=r,i.status=e.status,i.originalMessage=t,i}if(204!==e.status&&"0"!==e.headers.get("content-length"))try{return yield e.json()}catch(i){throw d.error("SdapApiClient","Failed to parse response JSON",i),new Error("Invalid JSON response from server")}})}getUserFriendlyErrorMessage(e,t){switch(e){case 401:return"Authentication failed. Your session may have expired. Please refresh the page and try again.";case 403:return"Access denied. You do not have permission to perform this operation. Please contact your administrator.";case 404:return"The requested file was not found. It may have been deleted or moved.";case 408:case 504:return"Request timeout. The server took too long to respond. Please try again.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:return"Server error occurred. Please try again later. If the problem persists, contact your administrator.";case 502:case 503:return"The service is temporarily unavailable. Please try again in a few minutes.";default:return t}}enhanceError(e,t){return e instanceof Error?(e.message="".concat(t,": ").concat(e.message),e):new Error("".concat(t,": ").concat(String(e)))}}var mh=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,c)}l((n=n.apply(e,t||[])).next())})};class yh{static create(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e5;return d.info("SdapApiClientFactory","Creating SDAP API client with MSAL auth",{baseUrl:e,timeout:t}),new vh(e,()=>mh(this,void 0,void 0,function*(){try{d.debug("SdapApiClientFactory","Retrieving access token via MSAL");var e=lh.getInstance();e.isInitializedState()||(d.info("SdapApiClientFactory","MSAL not yet initialized, waiting..."),yield e.initialize(),d.info("SdapApiClientFactory","MSAL initialization complete"));var t=yield e.getToken(yh.SPE_BFF_API_SCOPES);return d.debug("SdapApiClientFactory","Access token retrieved successfully"),t}catch(e){throw d.error("SdapApiClientFactory","Failed to retrieve access token",e),new Error("Failed to retrieve user access token via MSAL")}}),t)}static createForTesting(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5;return d.info("SdapApiClientFactory","Creating SDAP API client for testing",{baseUrl:e,timeout:r}),new vh(e,()=>mh(this,void 0,void 0,function*(){return d.debug("SdapApiClientFactory","Using static token for testing"),t}),r)}}yh.SPE_BFF_API_SCOPES=["api://1e40baad-e065-4aea-a8d4-4b7ab273458c/user_impersonation","https://graph.microsoft.com/FileStorageContainer.Selected","https://graph.microsoft.com/Files.Read.All"];var bh=()=>{var e={};return function(t,r){void 0===e[t.id]&&(t.insertCSSRules(r),e[t.id]=!0)}};function wh(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}function kh(e){return e.reduce(function(e,t){var r=t[0],n=t[1];return e[r]=n,e[n]=r,e},{})}function Ch(e){return"number"==typeof e}function Sh(e,t){return-1!==e.indexOf(t)}function Ih(e,t,r,n){return t+(o=r,0===parseFloat(o)?o:"-"===o[0]?o.slice(1):"-"+o)+n;var o}function Ph(e){return e.replace(/ +/g," ").split(" ").map(function(e){return e.trim()}).filter(Boolean).reduce(function(e,t){var r=e.list,n=e.state,o=(t.match(/\(/g)||[]).length,i=(t.match(/\)/g)||[]).length;return n.parensDepth>0?r[r.length-1]=r[r.length-1]+" "+t:r.push(t),n.parensDepth+=o-i,{list:r,state:n}},{list:[],state:{parensDepth:0}}).list}function Th(e){var t=Ph(e);if(t.length<=3||t.length>4)return e;var r=t[0],n=t[1],o=t[2];return[r,t[3],o,n].join(" ")}var Ah={padding:function(e){var t=e.value;return Ch(t)?t:Th(t)},textShadow:function(e){return function(e){for(var t=[],r=0,n=0,o=!1;n<e.length;)o||","!==e[n]?"("===e[n]?(o=!0,n++):")"===e[n]?(o=!1,n++):n++:(t.push(e.substring(r,n).trim()),r=++n);return r!=n&&t.push(e.substring(r,n+1)),t}(e.value).map(function(e){return e.replace(/(^|\s)(-*)([.|\d]+)/,function(e,t,r,n){return"0"===n?e:t+(""===r?"-":"")+n})}).join(",")},borderColor:function(e){return Th(e.value)},borderRadius:function(e){var t=e.value;if(Ch(t))return t;if(Sh(t,"/")){var r=t.split("/"),n=r[0],o=r[1];return Ah.borderRadius({value:n.trim()})+" / "+Ah.borderRadius({value:o.trim()})}var i=Ph(t);switch(i.length){case 2:return i.reverse().join(" ");case 4:var a=i[0],c=i[1],l=i[2];return[c,a,i[3],l].join(" ");default:return t}},background:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,o=e.bgImgDirectionRegex,i=e.bgPosDirectionRegex;if(Ch(t))return t;var a=t.replace(/(url\(.*?\))|(rgba?\(.*?\))|(hsl\(.*?\))|(#[a-fA-F0-9]+)|((^| )(\D)+( |$))/g,"").trim();return t=t.replace(a,Ah.backgroundPosition({value:a,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:i})),Ah.backgroundImage({value:t,valuesToConvert:r,bgImgDirectionRegex:o})},backgroundImage:function(e){var t=e.value,r=e.valuesToConvert,n=e.bgImgDirectionRegex;return Sh(t,"url(")||Sh(t,"linear-gradient(")?t.replace(n,function(e,t,n){return e.replace(n,r[n])}):t},backgroundPosition:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,o=e.bgPosDirectionRegex;return t.replace(n?/^((-|\d|\.)+%)/:null,function(e,t){return function(e){var t=e.indexOf(".");if(-1===t)e=100-parseFloat(e)+"%";else{var r=e.length-t-2;e=(e=100-parseFloat(e)).toFixed(r)+"%"}return e}(t)}).replace(o,function(e){return r[e]})},backgroundPositionX:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,o=e.bgPosDirectionRegex;return Ch(t)?t:Ah.backgroundPosition({value:t,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:o})},transition:function(e){var t=e.value,r=e.propertiesToConvert;return t.split(/,\s*/g).map(function(e){var t=e.split(" ");return t[0]=r[t[0]]||t[0],t.join(" ")}).join(", ")},transitionProperty:function(e){var t=e.value,r=e.propertiesToConvert;return t.split(/,\s*/g).map(function(e){return r[e]||e}).join(", ")},transform:function(e){var t=e.value,r="[^\\u0020-\\u007e]",n="(?:(?:(?:\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",o="((?:-?(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|-?(?:[_a-z]|"+r+"|"+n+")(?:[_a-z0-9-]|"+r+"|"+n+")*)?)|(?:inherit|auto))",i=new RegExp("(translateX\\s*\\(\\s*)"+o+"(\\s*\\))","gi"),a=new RegExp("(translate\\s*\\(\\s*)"+o+"((?:\\s*,\\s*"+o+"){0,1}\\s*\\))","gi"),c=new RegExp("(translate3d\\s*\\(\\s*)"+o+"((?:\\s*,\\s*"+o+"){0,2}\\s*\\))","gi"),l=new RegExp("(rotate[ZY]?\\s*\\(\\s*)"+o+"(\\s*\\))","gi");return t.replace(i,Ih).replace(a,Ih).replace(c,Ih).replace(l,Ih)}};Ah.objectPosition=Ah.backgroundPosition,Ah.margin=Ah.padding,Ah.borderWidth=Ah.padding,Ah.boxShadow=Ah.textShadow,Ah.webkitBoxShadow=Ah.boxShadow,Ah.mozBoxShadow=Ah.boxShadow,Ah.WebkitBoxShadow=Ah.boxShadow,Ah.MozBoxShadow=Ah.boxShadow,Ah.borderStyle=Ah.borderColor,Ah.webkitTransform=Ah.transform,Ah.mozTransform=Ah.transform,Ah.WebkitTransform=Ah.transform,Ah.MozTransform=Ah.transform,Ah.transformOrigin=Ah.backgroundPosition,Ah.webkitTransformOrigin=Ah.transformOrigin,Ah.mozTransformOrigin=Ah.transformOrigin,Ah.WebkitTransformOrigin=Ah.transformOrigin,Ah.MozTransformOrigin=Ah.transformOrigin,Ah.webkitTransition=Ah.transition,Ah.mozTransition=Ah.transition,Ah.WebkitTransition=Ah.transition,Ah.MozTransition=Ah.transition,Ah.webkitTransitionProperty=Ah.transitionProperty,Ah.mozTransitionProperty=Ah.transitionProperty,Ah.WebkitTransitionProperty=Ah.transitionProperty,Ah.MozTransitionProperty=Ah.transitionProperty,Ah["text-shadow"]=Ah.textShadow,Ah["border-color"]=Ah.borderColor,Ah["border-radius"]=Ah.borderRadius,Ah["background-image"]=Ah.backgroundImage,Ah["background-position"]=Ah.backgroundPosition,Ah["background-position-x"]=Ah.backgroundPositionX,Ah["object-position"]=Ah.objectPosition,Ah["border-width"]=Ah.padding,Ah["box-shadow"]=Ah.textShadow,Ah["-webkit-box-shadow"]=Ah.textShadow,Ah["-moz-box-shadow"]=Ah.textShadow,Ah["border-style"]=Ah.borderColor,Ah["-webkit-transform"]=Ah.transform,Ah["-moz-transform"]=Ah.transform,Ah["transform-origin"]=Ah.transformOrigin,Ah["-webkit-transform-origin"]=Ah.transformOrigin,Ah["-moz-transform-origin"]=Ah.transformOrigin,Ah["-webkit-transition"]=Ah.transition,Ah["-moz-transition"]=Ah.transition,Ah["transition-property"]=Ah.transitionProperty,Ah["-webkit-transition-property"]=Ah.transitionProperty,Ah["-moz-transition-property"]=Ah.transitionProperty;var Oh=kh([["paddingLeft","paddingRight"],["marginLeft","marginRight"],["left","right"],["borderLeft","borderRight"],["borderLeftColor","borderRightColor"],["borderLeftStyle","borderRightStyle"],["borderLeftWidth","borderRightWidth"],["borderTopLeftRadius","borderTopRightRadius"],["borderBottomLeftRadius","borderBottomRightRadius"],["padding-left","padding-right"],["margin-left","margin-right"],["border-left","border-right"],["border-left-color","border-right-color"],["border-left-style","border-right-style"],["border-left-width","border-right-width"],["border-top-left-radius","border-top-right-radius"],["border-bottom-left-radius","border-bottom-right-radius"]]),xh=["content"],Eh=kh([["ltr","rtl"],["left","right"],["w-resize","e-resize"],["sw-resize","se-resize"],["nw-resize","ne-resize"]]),_h=new RegExp("(^|\\W|_)((ltr)|(rtl)|(left)|(right))(\\W|_|$)","g"),Rh=new RegExp("(left)|(right)");function jh(e){return Object.keys(e).reduce(function(t,r){var n=e[r];if("string"==typeof n&&(n=n.trim()),Sh(xh,r))return t[r]=n,t;var o=Mh(r,n),i=o.key,a=o.value;return t[i]=a,t},Array.isArray(e)?[]:{})}function Mh(e,t){var r,n=/\/\*\s?@noflip\s?\*\//.test(t),o=n?e:Oh[r=e]||r,i=n?t:function(e,t){if(!function(e){return!("boolean"==typeof e||function(e){return null==e}(e))}(t))return t;if((r=t)&&"object"==typeof r)return jh(t);var r,n,o=Ch(t),i=function(e){return"function"==typeof e}(t),a=o||i?t:t.replace(/ !important.*?$/,""),c=!o&&a.length!==t.length,l=Ah[e];return n=l?l({value:a,valuesToConvert:Eh,propertiesToConvert:Oh,isRtl:!0,bgImgDirectionRegex:_h,bgPosDirectionRegex:Rh}):Eh[a]||a,c?n+" !important":n}(o,t);return{key:o,value:i}}var Nh="undefined"==typeof window?o.g:window,zh="@griffel/";function Bh(e,t){return Nh[Symbol.for(zh+e)]||(Nh[Symbol.for(zh+e)]=t),Nh[Symbol.for(zh+e)]}var qh=Bh("DEFINITION_LOOKUP_TABLE",{}),Dh="data-make-styles-bucket",Fh={all:1,borderColor:1,borderStyle:1,borderWidth:1,borderBlock:1,borderBlockEnd:1,borderBlockStart:1,borderInline:1,borderInlineEnd:1,borderInlineStart:1},Lh="DO_NOT_USE_DIRECTLY: @griffel/reset-value",Uh=/[A-Z]/g,Hh=/^ms-/,Wh={};function Kh(e){return"-"+e.toLowerCase()}function Vh(e){if(Object.prototype.hasOwnProperty.call(Wh,e))return Wh[e];if("--"===e.substr(0,2))return e;var t=e.replace(Uh,Kh);return Wh[e]=Hh.test(t)?"-"+t:t}function Gh(e){return"&"===e.charAt(0)?e.slice(1):e}var Qh="-moz-",Jh="-webkit-",Yh="comm",Xh="rule",$h="decl",Zh="@layer",ep=Math.abs,tp=String.fromCharCode,rp=Object.assign;function np(e){return e.trim()}function op(e,t){return(e=t.exec(e))?e[0]:e}function ip(e,t,r){return e.replace(t,r)}function ap(e,t,r){return e.indexOf(t,r)}function cp(e,t){return 0|e.charCodeAt(t)}function lp(e,t,r){return e.slice(t,r)}function sp(e){return e.length}function up(e){return e.length}function dp(e,t){return t.push(e),e}function fp(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function hp(e,t,r,n){switch(e.type){case Zh:if(e.children.length)break;case"@import":case"@namespace":case $h:return e.return=e.return||e.value;case Yh:return"";case"@keyframes":return e.return=e.value+"{"+fp(e.children,n)+"}";case Xh:if(!sp(e.value=e.props.join(",")))return""}return sp(r=fp(e.children,n))?e.return=e.value+"{"+r+"}":""}var pp=1,gp=1,vp=0,mp=0,yp=0,bp="";function wp(e,t,r,n,o,i,a,c){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:pp,column:gp,length:a,return:"",siblings:c}}function kp(e,t){return rp(wp("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Cp(){return yp=mp>0?cp(bp,--mp):0,gp--,10===yp&&(gp=1,pp--),yp}function Sp(){return yp=mp<vp?cp(bp,mp++):0,gp++,10===yp&&(gp=1,pp++),yp}function Ip(){return cp(bp,mp)}function Pp(){return mp}function Tp(e,t){return lp(bp,e,t)}function Ap(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Op(e){return pp=gp=1,vp=sp(bp=e),mp=0,[]}function xp(e){return bp="",e}function Ep(e){return np(Tp(mp-1,jp(91===e?e+2:40===e?e+1:e)))}function _p(e){for(;(yp=Ip())&&yp<33;)Sp();return Ap(e)>2||Ap(yp)>3?"":" "}function Rp(e,t){for(;--t&&Sp()&&!(yp<48||yp>102||yp>57&&yp<65||yp>70&&yp<97););return Tp(e,Pp()+(t<6&&32==Ip()&&32==Sp()))}function jp(e){for(;Sp();)switch(yp){case e:return mp;case 34:case 39:34!==e&&39!==e&&jp(yp);break;case 40:41===e&&jp(e);break;case 92:Sp()}return mp}function Mp(e,t){for(;Sp()&&e+yp!==57&&(e+yp!==84||47!==Ip()););return"/*"+Tp(t,mp-1)+"*"+tp(47===e?e:Sp())}function Np(e){for(;!Ap(Ip());)Sp();return Tp(e,mp)}function zp(e){return xp(Bp("",null,null,null,[""],e=Op(e),0,[0],e))}function Bp(e,t,r,n,o,i,a,c,l){for(var s=0,u=0,d=a,f=0,h=0,p=0,g=1,v=1,m=1,y=0,b="",w=o,k=i,C=n,S=b;v;)switch(p=y,y=Sp()){case 40:if(108!=p&&58==cp(S,d-1)){-1!=ap(S+=ip(Ep(y),"&","&\f"),"&\f",ep(s?c[s-1]:0))&&(m=-1);break}case 34:case 39:case 91:S+=Ep(y);break;case 9:case 10:case 13:case 32:S+=_p(p);break;case 92:S+=Rp(Pp()-1,7);continue;case 47:switch(Ip()){case 42:case 47:dp(Dp(Mp(Sp(),Pp()),t,r,l),l),5!=Ap(p||1)&&5!=Ap(Ip()||1)||!sp(S)||" "===lp(S,-1,void 0)||(S+=" ");break;default:S+="/"}break;case 123*g:c[s++]=sp(S)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:-1==m&&(S=ip(S,/\f/g,"")),h>0&&(sp(S)-d||0===g&&47===p)&&dp(h>32?Fp(S+";",n,r,d-1,l):Fp(ip(S," ","")+";",n,r,d-2,l),l);break;case 59:S+=";";default:if(dp(C=qp(S,t,r,s,u,o,c,b,w=[],k=[],d,i),i),123===y)if(0===u)Bp(S,t,C,C,w,i,d,c,k);else{switch(f){case 99:if(110===cp(S,3))break;case 108:if(97===cp(S,2))break;default:u=0;case 100:case 109:case 115:}u?Bp(e,C,C,n&&dp(qp(e,C,C,0,0,o,c,b,o,w=[],d,k),k),o,k,d,c,n?w:k):Bp(S,C,C,C,[""],k,0,c,k)}}s=u=h=0,g=m=1,b=S="",d=a;break;case 58:d=1+sp(S),h=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==Cp())continue;switch(S+=tp(y),y*g){case 38:m=u>0?1:(S+="\f",-1);break;case 44:c[s++]=(sp(S)-1)*m,m=1;break;case 64:45===Ip()&&(S+=Ep(Sp())),f=Ip(),u=d=sp(b=S+=Np(Pp())),y++;break;case 45:45===p&&2==sp(S)&&(g=0)}}return i}function qp(e,t,r,n,o,i,a,c,l,s,u,d){for(var f=o-1,h=0===o?i:[""],p=up(h),g=0,v=0,m=0;g<n;++g)for(var y=0,b=lp(e,f+1,f=ep(v=a[g])),w=e;y<p;++y)(w=np(v>0?h[y]+" "+b:ip(b,/&\f/g,h[y])))&&(l[m++]=w);return wp(e,t,r,0===o?Xh:c,l,s,u,d)}function Dp(e,t,r,n){return wp(e,t,r,Yh,tp(yp),lp(e,2,-2),0,n)}function Fp(e,t,r,n,o){return wp(e,t,r,$h,lp(e,0,n),lp(e,n+1,-1),n,o)}function Lp(e){var t=up(e);return function(r,n,o,i){for(var a="",c=0;c<t;c++)a+=e[c](r,n,o,i)||"";return a}}function Up(e){return function(t){t.root||(t=t.return)&&e(t)}}var Hp=e=>{if(e.type===Xh){if("string"==typeof e.props)return;e.props=e.props.map(e=>-1===e.indexOf(":global(")?e:function(e){return xp(function(e){for(;Sp();)switch(Ap(yp)){case 0:dp(Np(mp-1),e);break;case 2:dp(Ep(yp),e);break;default:dp(tp(yp),e)}return e}(Op(e)))}(e).reduce((e,t,r,n)=>{if(""===t)return e;if(":"===t&&"global"===n[r+1]){var o=n[r+2].slice(1,-1)+" ";return e.unshift(o),n[r+1]="",n[r+2]="",e}return e.push(t),e},[]).join(""))}};function Wp(e,t,r){switch(function(e,t){return 45^cp(e,0)?(((t<<2^cp(e,0))<<2^cp(e,1))<<2^cp(e,2))<<2^cp(e,3):0}(e,t)){case 5103:return Jh+"print-"+e+e;case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:return Jh+e+e;case 4215:if(102===cp(e,9))return Jh+e+e;if(116===cp(e,t+1))return Jh+e+e;break;case 4789:return Qh+e+e;case 5349:case 4246:case 6968:return Jh+e+Qh+e+e;case 6187:if(!op(e,/grab/))return ip(ip(ip(e,/(zoom-|grab)/,Jh+"$1"),/(image-set)/,Jh+"$1"),e,"")+e;case 5495:case 3959:return ip(e,/(image-set\([^]*)/,Jh+"$1$`$1");case 4095:case 3583:case 4068:case 2532:return ip(e,/(.+)-inline(.+)/,Jh+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(sp(e)-1-t>6)switch(cp(e,t+1)){case 102:if(108===cp(e,t+3))return ip(e,/(.+:)(.+)-([^]+)/,"$1"+Jh+"$2-$3$1"+Qh+(108==cp(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ap(e,"stretch")?Wp(ip(e,"stretch","fill-available"),t)+e:e}}return e}function Kp(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case $h:return void(e.return=Wp(e.value,e.length));case Xh:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(op(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fp([kp(e,{props:[ip(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return fp([kp(e,{props:[ip(t,/:(plac\w+)/,":"+Jh+"input-$1")]}),kp(e,{props:[ip(t,/:(plac\w+)/,":-moz-$1")]})],n)}return""})}}var Vp=e=>{(function(e){switch(e.type){case"@container":case"@media":case"@supports":case Zh:return!0}return!1})(e)&&Array.isArray(e.children)&&e.children.sort((e,t)=>e.props[0]>t.props[0]?1:-1)};var Gp=/,( *[^ &])/g;function Qp(e,t,r){var n=t;return r.length>0&&(n=r.reduceRight((e,t)=>{return"".concat((r=t,"&"+Gh(r.replace(Gp,",&$1")))," { ").concat(e," }");var r},t)),"".concat(e,"{").concat(n,"}")}function Jp(e,t){var r,{className:n,selectors:o,property:i,rtlClassName:a,rtlProperty:c,rtlValue:l,value:s}=e,{container:u,layer:d,media:f,supports:h}=t,p=Qp(".".concat(n),Array.isArray(s)?"".concat(s.map(e=>"".concat(Vh(i),": ").concat(e)).join(";"),";"):"".concat(Vh(i),": ").concat(s,";"),o);return c&&a&&(p+=Qp(".".concat(a),Array.isArray(l)?"".concat(l.map(e=>"".concat(Vh(c),": ").concat(e)).join(";"),";"):"".concat(Vh(c),": ").concat(l,";"),o)),f&&(p="@media ".concat(f," { ").concat(p," }")),d&&(p="@layer ".concat(d," { ").concat(p," }")),h&&(p="@supports ".concat(h," { ").concat(p," }")),u&&(p="@container ".concat(u," { ").concat(p," }")),r=[],fp(zp(p),Lp([Hp,Vp,Kp,hp,Up(e=>r.push(e))])),r}function Yp(e){var t="";for(var r in e){var n=e[r];if("string"!=typeof n&&"number"!=typeof n){if(Array.isArray(n))for(var o of n)t+=Vh(r)+":"+o+";"}else t+=Vh(r)+":"+n+";"}return t}function Xp(e){var t="";for(var r in e)t+="".concat(r,"{").concat(Yp(e[r]),"}");return t}function $p(e,t){var r="@keyframes ".concat(e," {").concat(t,"}"),n=[];return fp(zp(r),Lp([hp,Kp,Up(e=>n.push(e))])),n}var Zp={animation:[-1,["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimeline","animationTimingFunction"]],animationRange:[-1,["animationRangeEnd","animationRangeStart"]],background:[-2,["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"]],backgroundPosition:[-1,["backgroundPositionX","backgroundPositionY"]],border:[-2,["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderTop","borderTopColor","borderTopStyle","borderTopWidth"]],borderBottom:[-1,["borderBottomColor","borderBottomStyle","borderBottomWidth"]],borderImage:[-1,["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"]],borderLeft:[-1,["borderLeftColor","borderLeftStyle","borderLeftWidth"]],borderRadius:[-1,["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"]],borderRight:[-1,["borderRightColor","borderRightStyle","borderRightWidth"]],borderTop:[-1,["borderTopColor","borderTopStyle","borderTopWidth"]],caret:[-1,["caretColor","caretShape"]],columnRule:[-1,["columnRuleColor","columnRuleStyle","columnRuleWidth"]],columns:[-1,["columnCount","columnWidth"]],containIntrinsicSize:[-1,["containIntrinsicHeight","containIntrinsicWidth"]],container:[-1,["containerName","containerType"]],flex:[-1,["flexBasis","flexGrow","flexShrink"]],flexFlow:[-1,["flexDirection","flexWrap"]],font:[-1,["fontFamily","fontSize","fontStretch","fontStyle","fontVariant","fontWeight","lineHeight"]],gap:[-1,["columnGap","rowGap"]],grid:[-1,["columnGap","gridAutoColumns","gridAutoFlow","gridAutoRows","gridColumnGap","gridRowGap","gridTemplateAreas","gridTemplateColumns","gridTemplateRows","rowGap"]],gridArea:[-1,["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"]],gridColumn:[-1,["gridColumnEnd","gridColumnStart"]],gridRow:[-1,["gridRowEnd","gridRowStart"]],gridTemplate:[-1,["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"]],inset:[-1,["bottom","left","right","top"]],insetBlock:[-1,["insetBlockEnd","insetBlockStart"]],insetInline:[-1,["insetInlineEnd","insetInlineStart"]],listStyle:[-1,["listStyleImage","listStylePosition","listStyleType"]],margin:[-1,["marginBottom","marginLeft","marginRight","marginTop"]],marginBlock:[-1,["marginBlockEnd","marginBlockStart"]],marginInline:[-1,["marginInlineEnd","marginInlineStart"]],mask:[-1,["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPosition","maskRepeat","maskSize"]],maskBorder:[-1,["maskBorderMode","maskBorderOutset","maskBorderRepeat","maskBorderSlice","maskBorderSource","maskBorderWidth"]],offset:[-1,["offsetAnchor","offsetDistance","offsetPath","offsetPosition","offsetRotate"]],outline:[-1,["outlineColor","outlineStyle","outlineWidth"]],overflow:[-1,["overflowX","overflowY"]],overscrollBehavior:[-1,["overscrollBehaviorX","overscrollBehaviorY"]],padding:[-1,["paddingBottom","paddingLeft","paddingRight","paddingTop"]],paddingBlock:[-1,["paddingBlockEnd","paddingBlockStart"]],paddingInline:[-1,["paddingInlineEnd","paddingInlineStart"]],placeContent:[-1,["alignContent","justifyContent"]],placeItems:[-1,["alignItems","justifyItems"]],placeSelf:[-1,["alignSelf","justifySelf"]],scrollMargin:[-1,["scrollMarginBottom","scrollMarginLeft","scrollMarginRight","scrollMarginTop"]],scrollMarginBlock:[-1,["scrollMarginBlockEnd","scrollMarginBlockStart"]],scrollMarginInline:[-1,["scrollMarginInlineEnd","scrollMarginInlineStart"]],scrollPadding:[-1,["scrollPaddingBottom","scrollPaddingLeft","scrollPaddingRight","scrollPaddingTop"]],scrollPaddingBlock:[-1,["scrollPaddingBlockEnd","scrollPaddingBlockStart"]],scrollPaddingInline:[-1,["scrollPaddingInlineEnd","scrollPaddingInlineStart"]],scrollTimeline:[-1,["scrollTimelineAxis","scrollTimelineName"]],textDecoration:[-1,["textDecorationColor","textDecorationLine","textDecorationStyle","textDecorationThickness"]],textEmphasis:[-1,["textEmphasisColor","textEmphasisStyle"]],transition:[-1,["transitionBehavior","transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]],viewTimeline:[-1,["viewTimelineAxis","viewTimelineName"]]};function eg(e,t){return 0===e.length?t:"".concat(e," and ").concat(t)}var tg=/^(:|\[|>|&)/,rg={"us-w":"w","us-v":"i",nk:"l",si:"v",cu:"f",ve:"h",ti:"a"};function ng(e,t){if(t.media)return"m";if(t.layer||t.supports)return"t";if(t.container)return"c";if(e.length>0){var r=e[0].trim();if(58===r.charCodeAt(0))return rg[r.slice(4,8)]||rg[r.slice(3,5)]||"d"}return"d"}function og(e,t){return e?t+e:e}function ig(e){return og(e.container,"c")+og(e.media,"m")+og(e.layer,"l")+og(e.supports,"s")}function ag(e,t,r){var n=wh(e+ig(r)+t),o=n.charCodeAt(0);return o>=48&&o<=57?String.fromCharCode(o+17)+n.slice(1):n}function cg(e,t){var{property:r,selector:n,salt:o,value:i}=e;return"f"+wh(o+n+ig(t)+r+i.trim())}function lg(e){return e.replace(/>\s+/g,">")}function sg(e){return Zp[e]}function ug(e){var t;return null!==(t=null==e?void 0:e[0])&&void 0!==t?t:0}function dg(e,t,r,n){e[t]=n?[r,n]:r}function fg(e,t){return t.length>0?[e,Object.fromEntries(t)]:e}function hg(e,t,r,n,o,i){var a,c=[];0!==i&&c.push(["p",i]),"m"===t&&o&&c.push(["m",o]),null!==(a=e[t])&&void 0!==a||(e[t]=[]),r&&e[t].push(fg(r,c)),n&&e[t].push(fg(n,c))}function pg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{container:"",layer:"",media:"",supports:""},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6?arguments[6]:void 0,c=function(c){if(Fh.hasOwnProperty(c))return e[c],0;var l,s=e[c];if(null==s)return 0;if(function(e){return e===Lh}(s)){var u=ag(lg(r.join("")),c,n);return dg(o,u,0,void 0),0}if("string"==typeof s||"number"==typeof s){var d=lg(r.join("")),f=sg(c);if(f){var h=f[1],p=Object.fromEntries(h.map(e=>[e,Lh]));pg(p,t,r,n,o,i)}var g=ag(d,c,n),v=cg({value:s.toString(),salt:t,selector:d,property:c},n),m=a&&{key:c,value:a}||Mh(c,s),y=m.key!==c||m.value!==s,b=y?cg({value:m.value.toString(),property:m.key,salt:t,selector:d},n):void 0,w=y?{rtlClassName:b,rtlProperty:m.key,rtlValue:m.value}:void 0,k=ng(r,n),[C,S]=Jp(Object.assign({className:v,selectors:r,property:c,value:s},w),n);dg(o,g,v,b),hg(i,k,C,S,n.media,ug(f))}else if("animationName"===c){var I=Array.isArray(s)?s:[s],P=[],T=[];for(var A of I){var O=Xp(A),x=Xp(jh(A)),E="f"+wh(O),_=void 0,R=$p(E,O),j=[];O===x?_=E:j=$p(_="f"+wh(x),x);for(var M=0;M<R.length;M++)hg(i,"k",R[M],j[M],n.media,0);P.push(E),T.push(_)}pg({animationName:P.join(", ")},t,r,n,o,i,T.join(", "))}else if(Array.isArray(s)){if(0===s.length)return 0;var N=lg(r.join("")),z=sg(c);if(z){var B=z[1],q=Object.fromEntries(B.map(e=>[e,Lh]));pg(q,t,r,n,o,i)}var D=ag(N,c,n),F=cg({value:s.map(e=>(null!=e?e:"").toString()).join(";"),salt:t,selector:N,property:c},n),L=s.map(e=>Mh(c,e));if(L.some(e=>e.key!==L[0].key))return 0;var U=L[0].key!==c||L.some((e,t)=>e.value!==s[t]),H=U?cg({value:L.map(e=>{var t;return(null!==(t=null==e?void 0:e.value)&&void 0!==t?t:"").toString()}).join(";"),salt:t,property:L[0].key,selector:N},n):void 0,W=U?{rtlClassName:H,rtlProperty:L[0].key,rtlValue:L.map(e=>e.value)}:void 0,K=ng(r,n),[V,G]=Jp(Object.assign({className:F,selectors:r,property:c,value:s},W),n);dg(o,D,F,H),hg(i,K,V,G,n.media,ug(z))}else if(null!=(l=s)&&"object"==typeof l&&!1===Array.isArray(l))if(function(e){return tg.test(e)}(c))pg(s,t,r.concat(Gh(c)),n,o,i);else if(function(e){return"@media"===e.substr(0,6)}(c)){var Q=eg(n.media,c.slice(6).trim());pg(s,t,r,Object.assign({},n,{media:Q}),o,i)}else if(function(e){return"@layer"===e.substr(0,6)}(c)){var J=(n.layer?"".concat(n.layer,"."):"")+c.slice(6).trim();pg(s,t,r,Object.assign({},n,{layer:J}),o,i)}else if(function(e){return"@supports"===e.substr(0,9)}(c)){var Y=eg(n.supports,c.slice(9).trim());pg(s,t,r,Object.assign({},n,{supports:Y}),o,i)}else if(function(e){return"@container"===e.substring(0,10)}(c)){var X=c.slice(10).trim();pg(s,t,r,Object.assign({},n,{container:X}),o,i)}};for(var l in e)c(l);return[o,i]}function gg(e,t){return"___"+function(e){var t=e.length;if(7===t)return e;for(var r=t;r<7;r++)e+="0";return e}(wh(e+t))}function vg(e,t){var r="",n="";for(var o in e){var i=e[o];if(0!==i){var a=Array.isArray(i),c="rtl"===t?(a?i[1]:i)+" ":(a?i[0]:i)+" ";r+=c,n+=c}else n+=o+" "}return[r.slice(0,-1),n.slice(0,-1)]}function mg(e,t){var r={};for(var n in e){var[o,i]=vg(e[n],t);if(""!==i){var a=gg(i,t),c=a+(""===o?"":" "+o);qh[a]=[e[n],t],r[n]=c}else r[n]=""}return r}function yg(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:bh)(),r=null,n=null,o=null,i=null;return function(a){var{dir:c,renderer:l}=a;null===r&&([r,n]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={},n={},o=function(){var o=e[i],[a,c]=pg(o,t);r[i]=a,Object.keys(c).forEach(e=>{n[e]=(n[e]||[]).concat(c[e])})};for(var i in e)o();return[r,n]}(e,l.classNameHashSalt));var s="ltr"===c;return s?null===o&&(o=mg(r,c)):null===i&&(i=mg(r,c)),t(l,n),s?o:i}}var bg=l.useInsertionEffect?l.useInsertionEffect:void 0,wg=()=>{var e={};return function(t,r){bg&&"undefined"!=typeof window&&window.document&&window.document.createElement?bg(()=>{t.insertCSSRules(r)},[t,r]):void 0===e[t.id]&&(t.insertCSSRules(r),e[t.id]=!0)}};function kg(e){return Array.isArray(e)?e:[e]}var Cg=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"].reduce((e,t,r)=>(e[t]=r,e),{});function Sg(e,t,r,n){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c="m"===e,l=null!==(o=a.m)&&void 0!==o?o:"0",s=null!==(i=a.p)&&void 0!==i?i:0,u=function(e,t,r){return("m"===e?e+t:e)+r}(e,l,s);if(!n.stylesheets[u]){var d=t&&t.createElement("style"),f=function(e,t,r,n){var o=[];if(n[Dh]=t,n["data-priority"]=String(r),e)for(var i in n)e.setAttribute(i,n[i]);return{elementAttributes:n,insertRule:function(t){return(null==e?void 0:e.sheet)?e.sheet.insertRule(t,e.sheet.cssRules.length):o.push(t)},element:e,bucketName:t,cssRules:()=>(null==e?void 0:e.sheet)?Array.from(e.sheet.cssRules).map(e=>e.cssText):o}}(d,e,s,Object.assign({},n.styleElementAttributes,c&&{media:l}));n.stylesheets[u]=f,(null==t?void 0:t.head)&&d&&t.head.insertBefore(d,function(e,t,r,n){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=Cg[r],l=null!==(o=a.m)&&void 0!==o?o:"",s=null!==(i=a.p)&&void 0!==i?i:0,u=e=>c-Cg[e.getAttribute(Dh)],d=e.head.querySelectorAll("[".concat(Dh,"]"));if("m"===r){var f=e.head.querySelectorAll("[".concat(Dh,'="').concat(r,'"]'));f.length&&(d=f,u=e=>n.compareMediaQueries(l,e.media))}for(var h=e=>function(e,t,r){var n,o;return t+(null!==(n=r.m)&&void 0!==n?n:"")===e.getAttribute(Dh)+(null!==(o=e.media)&&void 0!==o?o:"")}(e,r,a)?s-Number(e.getAttribute("data-priority")):u(e),p=d.length,g=p-1;g>=0;){var v=d.item(g);if(h(v)>0)return v.nextSibling;g--}return p>0?d.item(0):t?t.nextSibling:null}(t,r,e,n,a))}return n.stylesheets[u]}function Ig(e,t){try{e.insertRule(t)}catch(e){}}":(".concat(["-moz-placeholder","-moz-focus-inner","-moz-focusring","-ms-input-placeholder","-moz-read-write","-moz-read-only"].join("|"),")");var Pg=0,Tg=(e,t)=>e<t?-1:e>t?1:0;function Ag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof document?void 0:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{classNameHashSalt:r,unstable_filterCSSRule:n,insertionPoint:o,styleElementAttributes:i,compareMediaQueries:a=Tg}=t,c={classNameHashSalt:r,insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(i),compareMediaQueries:a,id:"d".concat(Pg++),insertCSSRules(t){for(var r in t)for(var i=t[r],a=0,l=i.length;a<l;a++){var[s,u]=kg(i[a]),d=Sg(r,e,o||null,c,u);c.insertionCache[s]||(c.insertionCache[s]=r,n?n(s)&&Ig(d,s):Ig(d,s))}}};return c}var Og=c.createContext(Ag());function xg(){return c.useContext(Og)}var Eg=c.createContext("ltr");function _g(){return c.useContext(Eg)}function Rg(e){var t=yg(e,wg);return function(){var e=_g(),r=xg();return t({dir:e,renderer:r})}}var jg="var(--colorNeutralForeground1)",Mg="var(--colorNeutralForeground3)",Ng="var(--colorNeutralBackground1)",zg="var(--colorNeutralStroke1)",Bg="var(--colorPaletteRedForeground1)",qg="var(--fontSizeBase200)",Dg="var(--fontSizeBase300)",Fg="var(--fontWeightSemibold)",Lg="var(--spacingHorizontalM)",Ug="var(--spacingHorizontalXL)",Hg="var(--spacingVerticalS)",Wg="var(--spacingVerticalM)",Kg=Symbol.for("fui.slotRenderFunction"),Vg=Symbol.for("fui.slotElementType"),Gg=Symbol.for("fui.slotClassNameProp");function Qg(e){return Boolean(null==e?void 0:e.hasOwnProperty(Vg))}function Jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jg(Object(r),!0).forEach(function(t){Xg(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Xg(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $g(e,t){return function(r,n,o,i,a){return Qg(n)?t(function(e,t){return Yg(Yg({},t),{},{[Vg]:e})}(r,n),null,o,i,a):Qg(r)?t(r,n,o,i,a):e(r,n,o,i,a)}}function Zg(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function ev(e){var{as:t,[Gg]:r,[Vg]:n,[Kg]:o}=e,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["as",Gg,Vg,Kg].map(Zg)),a="string"==typeof n&&null!=t?t:n;return"string"!=typeof a&&t&&(i.as=t),{elementType:a,props:i,renderFunction:o}}o(176);var tv=o(809),rv=o.t(tv,2);function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ov(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(t){iv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iv(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function av(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?av(Object(r),!0).forEach(function(t){lv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lv(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sv=$g(rv.jsx,(e,t,r)=>{var{elementType:n,renderFunction:o,props:i}=ev(e),a=ov(ov({},i),t);return o?rv.jsx(c.Fragment,{children:o(n,a)},r):rv.jsx(n,a,r)}),uv=$g(rv.jsxs,(e,t,r)=>{var{elementType:n,renderFunction:o,props:i}=ev(e),a=cv(cv({},i),t);return o?rv.jsx(c.Fragment,{children:o(n,cv(cv({},a),{},{children:rv.jsxs(c.Fragment,{children:a.children},void 0)}))},r):rv.jsxs(n,a,r)}),dv="Enter",fv=" ",hv="undefined"!=typeof window&&window.document&&window.document.createElement?c.useLayoutEffect:c.useEffect,pv=e=>{var t=c.useRef(()=>{throw new Error("Cannot call an event handler while rendering")});return hv(()=>{t.current=e},[e]),c.useCallback(function(){return(0,t.current)(...arguments)},[t])},gv=["disabled","disabledFocusable","aria-disabled","onClick","onKeyDown","onKeyUp"];function vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vv(Object(r),!0).forEach(function(t){yv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yv(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bv(e,t){var r=null!=t?t:{},{disabled:n,disabledFocusable:o=!1,"aria-disabled":i,onClick:a,onKeyDown:c,onKeyUp:l}=r,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,gv),u="string"==typeof i?"true"===i:i,d=n||o||u,f=pv(e=>{d?(e.preventDefault(),e.stopPropagation()):null==a||a(e)}),h=pv(e=>{if(null==c||c(e),!e.isDefaultPrevented()){var t=e.key;if(d&&(t===dv||t===fv))return e.preventDefault(),void e.stopPropagation();t!==fv?t===dv&&(e.preventDefault(),e.currentTarget.click()):e.preventDefault()}}),p=pv(e=>{if(null==l||l(e),!e.isDefaultPrevented()){var t=e.key;if(d&&(t===dv||t===fv))return e.preventDefault(),void e.stopPropagation();t===fv&&(e.preventDefault(),e.currentTarget.click())}});if("button"===e||void 0===e)return mv(mv({},s),{},{disabled:n&&!o,"aria-disabled":!!o||u,onClick:o?void 0:f,onKeyUp:o?void 0:l,onKeyDown:o?void 0:c});var g=!!s.href,v=g?void 0:"button";!v&&d&&(v="link");var m=mv(mv({role:v,tabIndex:o||!g&&!n?0:void 0},s),{},{onClick:f,onKeyUp:p,onKeyDown:h,"aria-disabled":d});return"a"===e&&d&&(m.href=void 0),m}function wv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wv(Object(r),!0).forEach(function(t){Cv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Cv(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sv(e,t){var{defaultProps:r,elementType:n}=t,o=function(e){return"string"==typeof e||"number"==typeof e||Pv(e)||c.isValidElement(e)?{children:e}:e}(e),i=kv(kv(kv({},r),o),{},{[Vg]:n,[Gg]:null==o?void 0:o.className});return o&&"function"==typeof o.children&&(i[Kg]=o.children,i.children=null==r?void 0:r.children),i}function Iv(e,t){if(null!==e&&(void 0!==e||t.renderByDefault))return Sv(e,t)}var Pv=e=>"object"==typeof e&&null!==e&&Symbol.iterator in e,Tv=function(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var o of r){var i=Array.isArray(o)?o:Object.keys(o);for(var a of i)e[a]=1}return e},Av=Tv(["onAuxClick","onAnimationEnd","onAnimationStart","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),Ov=Tv(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),xv=Tv(["itemID","itemProp","itemRef","itemScope","itemType"]),Ev=Tv(Ov,Av,xv),_v=Tv(Ev,["form"]),Rv=Tv(Ev,["height","loop","muted","preload","src","width"]),jv=Tv(Rv,["poster"]),Mv=Tv(Ev,["start"]),Nv=Tv(Ev,["value"]),zv=Tv(Ev,["download","href","hrefLang","media","rel","target","type"]),Bv=Tv(Ev,["dateTime"]),qv=Tv(Ev,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),Dv={label:_v,audio:Rv,video:jv,ol:Mv,li:Nv,a:zv,button:qv,input:Tv(qv,["accept","alt","autoCorrect","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),textarea:Tv(qv,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),select:Tv(qv,["form","multiple","required"]),option:Tv(Ev,["selected","value"]),table:Tv(Ev,["cellPadding","cellSpacing"]),tr:Ev,th:Tv(Ev,["colSpan","rowSpan","scope"]),td:Tv(Ev,["colSpan","headers","rowSpan","scope"]),colGroup:Tv(Ev,["span"]),col:Tv(Ev,["span"]),fieldset:Tv(Ev,["disabled","form"]),form:Tv(Ev,["acceptCharset","action","encType","encType","method","noValidate","target"]),iframe:Tv(Ev,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),img:Tv(Ev,["alt","crossOrigin","height","src","srcSet","useMap","width"]),time:Bv,dialog:Tv(Ev,["open","onCancel","onClose"])};function Fv(e,t,r){var n=e&&Dv[e]||Ev;return n.as=1,function(e,t,r){var n=Array.isArray(t),o={},i=Object.keys(e);for(var a of i)!(!n&&t[a]||n&&t.indexOf(a)>=0||0===a.indexOf("data-")||0===a.indexOf("aria-"))||r&&-1!==(null==r?void 0:r.indexOf(a))||(o[a]=e[a]);return o}(t,n,r)}var Lv=e=>{var{primarySlotTagName:t,props:r,excludedPropNames:n}=e;return{root:{style:r.style,className:r.className},primary:Fv(t,r,[...n||[],"style","className"])}},Uv=(e,t,r)=>{var n;return Fv(null!==(n=t.as)&&void 0!==n?n:e,t,r)},Hv=c.createContext(void 0),Wv={},Kv=(Hv.Provider,(e,t)=>{var r,{size:n}=null!==(r=c.useContext(Hv))&&void 0!==r?r:Wv,{appearance:o="secondary",as:i="button",disabled:a=!1,disabledFocusable:l=!1,icon:s,iconPosition:u="before",shape:d="rounded",size:f=(null!=n?n:"medium")}=e,h=Iv(s,{elementType:"span"});return{appearance:o,disabled:a,disabledFocusable:l,iconPosition:u,shape:d,size:f,iconOnly:Boolean((null==h?void 0:h.children)&&!e.children),components:{root:"button",icon:"span"},root:Sv(Uv(i,bv(e.as,e)),{elementType:"button",defaultProps:{ref:t,type:"button"===i?"button":void 0}}),icon:h}});function Vv(e,t,r){var n=function(e,t,r){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:bh)();return function(o){var{dir:i,renderer:a}=o,c="ltr"===i?e:t||e;return n(a,Array.isArray(r)?{r}:r),c}}(e,t,r,wg);return function(){var e=_g(),t=xg();return n({dir:e,renderer:t})}}function Gv(e,t){var r=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:bh)(),n=null,o=null;return function(i){var{dir:a,renderer:c}=i,l="ltr"===a;return l?null===n&&(n=mg(e,a)):null===o&&(o=mg(e,a)),r(c,t),l?n:o}}(e,t,wg);return function(){var e=_g(),t=xg();return r({dir:e,renderer:t})}}var Qv={};function Jv(){for(var e=arguments,t=null,r="",n="",o=new Array(arguments.length),i=function(){var t=e[a];if("string"==typeof t&&""!==t){var i=t.indexOf("___");if(-1===i)r+=t+" ";else{var c=t.substr(i,10);i>0&&(r+=t.slice(0,i)),n+=c,o[a]=c}}},a=0;a<arguments.length;a++)i();if(""===n)return r.slice(0,-1);var c=Qv[n];if(void 0!==c)return r+c;for(var l=[],s=0;s<arguments.length;s++){var u=o[s];if(u){var d=qh[u];d&&(l.push(d[0]),t=d[1])}}var f=Object.assign.apply(Object,[{}].concat(l)),[h,p]=vg(f,t),g=gg(p,t),v=g+" "+h;return Qv[n]=v,qh[g]=[f,t],r+v}var Yv=("calc(".concat("var(--strokeWidthThin)"," + 0.25px)"),Vv("r1alrhcs",null,{r:[".r1alrhcs{align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;text-decoration-line:none;vertical-align:middle;margin:0;overflow:hidden;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);font-family:var(--fontFamilyBase);outline-style:none;padding:5px var(--spacingHorizontalM);min-width:96px;border-radius:var(--borderRadiusMedium);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300);transition-duration:var(--durationFaster);transition-property:background,border,color;transition-timing-function:var(--curveEasyEase);}",".r1alrhcs:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover);color:var(--colorNeutralForeground1Hover);cursor:pointer;}",".r1alrhcs:hover:active{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed);color:var(--colorNeutralForeground1Pressed);outline-style:none;}",".r1alrhcs[data-fui-focus-visible]{border-color:var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);border-width:1px;outline:var(--strokeWidthThick) solid var(--colorTransparentStroke);box-shadow:0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;z-index:1;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1alrhcs{transition-duration:0.01ms;}}","@media (forced-colors: active){.r1alrhcs:focus{border-color:ButtonText;}.r1alrhcs:hover{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}.r1alrhcs:hover:active{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}}","@supports (-moz-appearance:button){.r1alrhcs[data-fui-focus-visible]{box-shadow:0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]})),Xv=Vv("rywnvv2",null,[".rywnvv2{align-items:center;display:inline-flex;justify-content:center;font-size:20px;height:20px;width:20px;--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}"]),$v=Gv({outline:{De3pzq:"f1c21dwh",Jwef8y:"fjxutwb",iro3zm:"fwiml72"},primary:{De3pzq:"ffp7eso",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"f1phragk",Jwef8y:"f15wkkf3",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f1rq72xc",iro3zm:"fnp9lpt",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1d6v5y2",Bsw6fvg:"f1rirnrt",Bjwas2f:"f1uu00uk",Bn1d65q:["fkvaka8","f9a0qzu"],Bxeuatn:"f1ux7til",n51gp8:["f9a0qzu","fkvaka8"],Bbusuzp:"f1lkg8j3",ycbfsm:"fkc42ay",Bqrx1nm:"fq7113v",pgvf35:"ff1wgvm",Bh7lczh:["fiob0tu","f1x4h75k"],dpv3f4:"f1j6scgf",Bpnjhaq:["f1x4h75k","fiob0tu"],ze5xyy:"f4xjyn1",g2kj27:"fbgcvur",Bf756sw:"f1ks1yx8",Bow2dr7:["f1o6qegi","fmxjhhp"],Bvhedfk:"fcnxywj",Gye4lf:["fmxjhhp","f1o6qegi"],pc6evw:"f9ddjv3"},secondary:{},subtle:{De3pzq:"fhovq9v",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"f1t94bn6",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"fnwyq0v",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",Bbdnnc7:"fy5bs14",iro3zm:"fsv2rcd",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1omzyqd",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",x3br3k:"fj8yq94",ze5xyy:"f4xjyn1",Bx3q9su:"f1et0tmh",pc6evw:"f9ddjv3",xd2cci:"f1wi8ngl"},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"fjxutwb",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f139oj5f",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",iro3zm:"fwiml72",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1fg1p5m",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",Bqrx1nm:"f1tme0vf",ze5xyy:"f4xjyn1",g2kj27:"f18onu3q",pc6evw:"f9ddjv3"},circular:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9"},rounded:{},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw"},small:{Bf4jedk:"fh7ncta",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fneth5b",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},smallWithIcon:{Byoj8tv:"f1brlhvm",z8tnut:"f1sl3k7w"},medium:{},large:{Bf4jedk:"f14es27b",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f4db1ww",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},largeWithIcon:{Byoj8tv:"fy7v416",z8tnut:"f1a1bwwz"}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".fh7ncta{min-width:64px;}",[".fneth5b{padding:3px var(--spacingHorizontalS);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1brlhvm{padding-bottom:1px;}",".f1sl3k7w{padding-top:1px;}",".f14es27b{min-width:96px;}",[".f4db1ww{padding:8px var(--spacingHorizontalL);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fy7v416{padding-bottom:7px;}",".f1a1bwwz{padding-top:7px;}"],h:[".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".fwiml72:hover:active{background-color:var(--colorTransparentBackgroundPressed);}",".f15wkkf3:hover{background-color:var(--colorBrandBackgroundHover);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1rq72xc:hover{color:var(--colorNeutralForegroundOnBrand);}",".fnp9lpt:hover:active{background-color:var(--colorBrandBackgroundPressed);}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}",".f1d6v5y2:hover:active{color:var(--colorNeutralForegroundOnBrand);}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".ft1hn21:hover .fui-Icon-filled{display:inline;}",".fuxngvv:hover .fui-Icon-regular{display:none;}",".fy5bs14:hover .fui-Button__icon{color:var(--colorNeutralForeground2BrandHover);}",".fsv2rcd:hover:active{background-color:var(--colorSubtleBackgroundPressed);}",".f1omzyqd:hover:active{color:var(--colorNeutralForeground2Pressed);}",".f1dfjoow:hover:active .fui-Icon-filled{display:inline;}",".f1j98vj9:hover:active .fui-Icon-regular{display:none;}",".fj8yq94:hover:active .fui-Button__icon{color:var(--colorNeutralForeground2BrandPressed);}",".f139oj5f:hover{color:var(--colorNeutralForeground2BrandHover);}",".f1fg1p5m:hover:active{color:var(--colorNeutralForeground2BrandPressed);}"],m:[["@media (forced-colors: active){.f1rirnrt{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1uu00uk{border-top-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9a0qzu{border-left-color:HighlightText;}.fkvaka8{border-right-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ux7til{border-bottom-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lkg8j3{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkc42ay{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fq7113v:hover{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.ff1wgvm:hover{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1x4h75k:hover{border-left-color:Highlight;}.fiob0tu:hover{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1j6scgf:hover{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4xjyn1:hover{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fbgcvur:hover:active{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ks1yx8:hover:active{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1o6qegi:hover:active{border-right-color:Highlight;}.fmxjhhp:hover:active{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcnxywj:hover:active{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9ddjv3:hover:active{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1et0tmh:hover .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1wi8ngl:hover:active .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1tme0vf:hover{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18onu3q:hover:active{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}]]}),Zv=Gv({base:{De3pzq:"f1bg9a2p",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bfinmwp:"f15x8b5r",Jwef8y:"f1falr9n",Bgoe8wy:"f12mpcsy",Bwzppfd:["f1gwvigk","f18rmfxp"],oetu4i:"f1jnshp0",gg5e9n:["f18rmfxp","f1gwvigk"],Bi91k9c:"fvgxktp",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bbdnnc7:"f1al02dq",iro3zm:"f1t6o4dc",b661bw:"f10ztigi",Bk6r4ia:["f1ft5sdu","f1gzf82w"],B9zn80p:"f12zbtn2",Bpld233:["f1gzf82w","f1ft5sdu"],B2d53fq:"fcvwxyo",c3iz72:"f8w4c43",em6i61:"f1ol4fw6",vm6p8p:"f1q1lw4e",x3br3k:"f1dwjv2g"},highContrast:{Bsw6fvg:"f4lkoma",Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bbusuzp:"f1dcs8yz",Bm2fdqk:"fuigjrg",G867l3:"fjwq6ea",gdbnj:["f1lr3nhc","f1mbxvi6"],mxns5l:"fn5gmvv",o3nasb:["f1mbxvi6","f1lr3nhc"],Bqrx1nm:"f1vmkb5g",pgvf35:"f53ppgq",Bh7lczh:["f1663y11","f80fkiy"],dpv3f4:"f18v5270",Bpnjhaq:["f80fkiy","f1663y11"],ze5xyy:"f1kc2mi9",Bx3q9su:"f4dhi0o",g2kj27:"f1y0svfh",Bf756sw:"fihuait",Bow2dr7:["fnxhupq","fyd6l6x"],Bvhedfk:"fx507ft",Gye4lf:["fyd6l6x","fnxhupq"],pc6evw:"fb3rf2x",xd2cci:"fequ9m0"},outline:{De3pzq:"f1c21dwh",Jwef8y:"f9ql6rf",iro3zm:"f3h1zc4"},primary:{g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},secondary:{},subtle:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]}},{d:[".f1bg9a2p{background-color:var(--colorNeutralBackgroundDisabled);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".f15x8b5r .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}"],h:[".f1falr9n:hover{background-color:var(--colorNeutralBackgroundDisabled);}",".f12mpcsy:hover{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1gwvigk:hover{border-right-color:var(--colorNeutralStrokeDisabled);}",".f18rmfxp:hover{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1jnshp0:hover{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1al02dq:hover .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1t6o4dc:hover:active{background-color:var(--colorNeutralBackgroundDisabled);}",".f10ztigi:hover:active{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1ft5sdu:hover:active{border-right-color:var(--colorNeutralStrokeDisabled);}",".f1gzf82w:hover:active{border-left-color:var(--colorNeutralStrokeDisabled);}",".f12zbtn2:hover:active{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fcvwxyo:hover:active{color:var(--colorNeutralForegroundDisabled);}",".f8w4c43:hover:active{cursor:not-allowed;}",".f1ol4fw6:hover:active .fui-Icon-filled{display:none;}",".f1q1lw4e:hover:active .fui-Icon-regular{display:inline;}",".f1dwjv2g:hover:active .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".f3h1zc4:hover:active{background-color:var(--colorTransparentBackground);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}"],m:[["@media (forced-colors: active){.f4lkoma{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fuigjrg .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fjwq6ea:focus{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lr3nhc:focus{border-right-color:GrayText;}.f1mbxvi6:focus{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fn5gmvv:focus{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1vmkb5g:hover{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f53ppgq:hover{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1663y11:hover{border-right-color:GrayText;}.f80fkiy:hover{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18v5270:hover{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kc2mi9:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4dhi0o:hover .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1y0svfh:hover:active{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fihuait:hover:active{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fnxhupq:hover:active{border-right-color:GrayText;}.fyd6l6x:hover:active{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fx507ft:hover:active{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fb3rf2x:hover:active{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fequ9m0:hover:active .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),em=Gv({circular:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1062rbf"},rounded:{},square:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fj0ryk1"},primary:{B8q5s1w:"f17t0x8g",Bci5o5g:["f194v5ow","fk7jm04"],n8qw10:"f1qgg65p",Bdrgwmp:["fk7jm04","f194v5ow"],j6ew2k:["fhgccpy","fjo7pq6"],he4mth:"f32wu9k",Byr4aka:"fu5nqqq",lks7q5:["f13prjl2","f1nl83rv"],Bnan3qt:"f1czftr5",k1dn9:["f1nl83rv","f13prjl2"],Boium3a:["f12k37oa","fdnykm2"],tm8e47:"fr96u23"},small:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fazmxh"},medium:{},large:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1b6alqh"}},{d:[[".f1062rbf[data-fui-focus-visible]{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".fj0ryk1[data-fui-focus-visible]{border-radius:var(--borderRadiusNone);}",{p:-1}],".f17t0x8g[data-fui-focus-visible]{border-top-color:var(--colorStrokeFocus2);}",".f194v5ow[data-fui-focus-visible]{border-right-color:var(--colorStrokeFocus2);}",".fk7jm04[data-fui-focus-visible]{border-left-color:var(--colorStrokeFocus2);}",".f1qgg65p[data-fui-focus-visible]{border-bottom-color:var(--colorStrokeFocus2);}",".fhgccpy[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".fjo7pq6[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".f32wu9k[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;}",".fu5nqqq[data-fui-focus-visible]:hover{border-top-color:var(--colorStrokeFocus2);}",".f13prjl2[data-fui-focus-visible]:hover{border-right-color:var(--colorStrokeFocus2);}",".f1nl83rv[data-fui-focus-visible]:hover{border-left-color:var(--colorStrokeFocus2);}",".f1czftr5[data-fui-focus-visible]:hover{border-bottom-color:var(--colorStrokeFocus2);}",[".fazmxh[data-fui-focus-visible]{border-radius:var(--borderRadiusSmall);}",{p:-1}],[".f1b6alqh[data-fui-focus-visible]{border-radius:var(--borderRadiusLarge);}",{p:-1}]],t:["@supports (-moz-appearance:button){.f12k37oa[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}.fdnykm2[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}}","@supports (-moz-appearance:button){.fr96u23[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),tm=Gv({small:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fu97m5z",Bf4jedk:"f17fgpbq",B2u0y6b:"f1jt17bm"},medium:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f18ktai2",Bf4jedk:"fwbmr0d",B2u0y6b:"f44c6la"},large:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1hbd1aw",Bf4jedk:"f12clzc2",B2u0y6b:"fjy1crr"}},{d:[[".fu97m5z{padding:1px;}",{p:-1}],".f17fgpbq{min-width:24px;}",".f1jt17bm{max-width:24px;}",[".f18ktai2{padding:5px;}",{p:-1}],".fwbmr0d{min-width:32px;}",".f44c6la{max-width:32px;}",[".f1hbd1aw{padding:7px;}",{p:-1}],".f12clzc2{min-width:40px;}",".fjy1crr{max-width:40px;}"]}),rm=Gv({small:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",a9b677:"f64fuq3",Bqrlyyl:"fbaiahx"},medium:{},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",a9b677:"fq4mcun",Bqrlyyl:"f1exjqw5"},before:{t21cq0:["f1nizpg2","f1a695kz"]},after:{Frg6f3:["f1a695kz","f1nizpg2"]}},{d:[".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".fbaiahx{--fui-Button__icon--spacing:var(--spacingHorizontalXS);}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".f1exjqw5{--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}",".f1nizpg2{margin-right:var(--fui-Button__icon--spacing);}",".f1a695kz{margin-left:var(--fui-Button__icon--spacing);}"]}),nm=c.createContext(void 0),om=()=>{},im=(nm.Provider,e=>{var t,r;return null!==(r=null===(t=c.useContext(nm))||void 0===t?void 0:t[e])&&void 0!==r?r:om}),am=c.forwardRef((e,t)=>{var r=Kv(e,t);return(e=>{var t=Yv(),r=Xv(),n=$v(),o=Zv(),i=em(),a=tm(),c=rm(),{appearance:l,disabled:s,disabledFocusable:u,icon:d,iconOnly:f,iconPosition:h,shape:p,size:g}=e;e.root.className=Jv("fui-Button",t,l&&n[l],n[g],d&&"small"===g&&n.smallWithIcon,d&&"large"===g&&n.largeWithIcon,n[p],(s||u)&&o.base,(s||u)&&o.highContrast,l&&(s||u)&&o[l],"primary"===l&&i.primary,i[g],i[p],f&&a[g],e.root.className),e.icon&&(e.icon.className=Jv("fui-Button__icon",r,!!e.root.children&&c[h],c[g],e.icon.className))})(r),im("useButtonStyles_unstable")(r),(e=>{var{iconOnly:t,iconPosition:r}=e;return uv(e.root,{children:["after"!==r&&e.icon&&sv(e.icon,{}),!t&&e.root.children,"after"===r&&e.icon&&sv(e.icon,{})]})})(r)});am.displayName="Button";var cm={current:0},lm=c.createContext(void 0);var sm=c.createContext(void 0);function um(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fui-",r=arguments.length>1?arguments[1]:void 0,n=null!==(e=c.useContext(lm))&&void 0!==e?e:cm,o=c.useContext(sm)||"",i=l.useId;if(i){var a=i(),s=c.useMemo(()=>a.replace(/:/g,""),[a]);return r||"".concat(o).concat(t).concat(s)}return c.useMemo(()=>r||"".concat(o).concat(t).concat(++n.current),[o,t,r,n])}function dm(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=c.useCallback(e=>{for(var r of(n.current=e,t))"function"==typeof r?r(e):r&&(r.current=e)},[...t]);return n}sm.Provider;var fm=c.createContext(void 0);fm.Provider;var hm=c.createContext(void 0),pm={},gm=(hm.Provider,Gv({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in"},rtl:{Bz10aip:"f13rod7r"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}",".f13rod7r{transform:scaleX(-1);}"]})),vm=["title","primaryFill"];function mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ym(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mm(Object(r),!0).forEach(function(t){bm(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bm(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wm=Gv({root:{B8gzw0y:"f1dd5bof"}},{m:[["@media (forced-colors: active){.f1dd5bof{forced-color-adjust:auto;}}",{m:"(forced-colors: active)"}]]});function km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Cm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?km(Object(r),!0).forEach(function(t){Sm(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):km(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Sm(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Im=(e,t,r,n)=>{var o="1em"===t?"20":t,i=c.forwardRef((e,i)=>{var a=wm(),l=((e,t)=>{var r,{title:n,primaryFill:o="currentColor"}=e,i=ym(ym({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,vm)),{},{title:void 0,fill:o}),a=gm(),l=null!=(r=c.useContext(hm))?r:pm;return i.className=Jv(a.root,(null==t?void 0:t.flipInRtl)&&"rtl"===(null==l?void 0:l.textDirection)&&a.rtl,i.className),n&&(i["aria-label"]=n),i["aria-label"]||i["aria-labelledby"]?i.role="img":i["aria-hidden"]=!0,i})(e,{flipInRtl:null==n?void 0:n.flipInRtl}),s=Cm(Cm({},l),{},{className:Jv(l.className,a.root),ref:i,width:t,height:t,viewBox:"0 0 ".concat(o," ").concat(o),xmlns:"http://www.w3.org/2000/svg"});return"string"==typeof r?c.createElement("svg",Cm(Cm({},s),{},{dangerouslySetInnerHTML:{__html:r}})):c.createElement("svg",s,...r.map(e=>c.createElement("path",{d:e,fill:s.fill})))});return i.displayName=e,i},Pm=Im("InfoFilled","1em",["M18 10a8 8 0 1 0-16 0 8 8 0 0 0 16 0ZM9.5 8.91a.5.5 0 0 1 1 0V13.6a.5.5 0 0 1-1 0V8.9Zm-.25-2.16a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Z"]),Tm=Im("WarningFilled","1em",["M8.68 2.79a1.5 1.5 0 0 1 2.64 0l6.5 12A1.5 1.5 0 0 1 16.5 17h-13a1.5 1.5 0 0 1-1.32-2.21l6.5-12ZM10.5 7.5a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0v-4Zm.25 6.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"]),Am=Im("CheckmarkCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm3.36 5.65a.5.5 0 0 0-.64-.06l-.07.06L9 11.3 7.35 9.65l-.07-.06a.5.5 0 0 0-.7.7l.07.07 2 2 .07.06c.17.11.4.11.56 0l.07-.06 4-4 .07-.08a.5.5 0 0 0-.06-.63Z"]),Om=Im("DismissCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM7.8 7.11a.5.5 0 0 0-.63.06l-.06.07a.5.5 0 0 0 .06.64L9.3 10l-2.12 2.12-.06.07a.5.5 0 0 0 .06.64l.07.06c.2.13.47.11.64-.06L10 10.7l2.12 2.12.07.06c.2.13.46.11.64-.06l.06-.07a.5.5 0 0 0-.06-.64L10.7 10l2.12-2.12.06-.07a.5.5 0 0 0-.06-.64l-.07-.06a.5.5 0 0 0-.64.06L10 9.3 7.88 7.17l-.07-.06Z"]);function xm(e){switch(e){case"info":return c.createElement(Pm,null);case"warning":return c.createElement(Tm,null);case"error":return c.createElement(Om,null);case"success":return c.createElement(Am,null);default:return null}}var Em=c.createContext(void 0),_m={targetDocument:"object"==typeof document?document:void 0,dir:"ltr"};Em.Provider;var Rm=c.createContext(void 0),jm={className:"",nodeRef:c.createRef()},Mm=(Rm.Provider,c.createContext(void 0));function Nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(r),!0).forEach(function(t){Bm(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Bm(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qm=(e,t)=>{var r,{layout:n="auto",intent:o="info",politeness:i,shape:a="rounded"}=e,l=(null!=i?i:"info"===o)?"polite":"assertive",s="auto"===n,{ref:u,reflowing:d}=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{targetDocument:r}=null!==(e=c.useContext(Em))&&void 0!==e?e:_m,n=c.useReducer(()=>({}),{})[1],o=c.useRef(!1),i=c.useRef(null),a=c.useRef(-1),l=c.useCallback(e=>{var t,r,i,c=e[0],l=null!==(i=null==c||null===(r=c.borderBoxSize)||void 0===r||null===(t=r[0])||void 0===t?void 0:t.inlineSize)&&void 0!==i?i:null==c?void 0:c.target.getBoundingClientRect().width;if(void 0!==l&&c){var s,u,d,{target:f}=c;u=f,Boolean((null==u||null===(s=u.ownerDocument)||void 0===s?void 0:s.defaultView)&&u instanceof u.ownerDocument.defaultView.HTMLElement)&&(o.current?a.current<l&&(d=!1):l<f.scrollWidth&&(d=!0),a.current=l,void 0!==d&&o.current!==d&&(o.current=d,n()))}},[n]),s=c.useCallback(e=>{var n;if(t&&e&&(null==r?void 0:r.defaultView)){null===(n=i.current)||void 0===n||n.disconnect();var o=new r.defaultView.ResizeObserver(l);i.current=o,o.observe(e,{box:"border-box"})}},[r,l,t]);return c.useEffect(()=>()=>{var e;null===(e=i.current)||void 0===e||e.disconnect()},[]),{ref:s,reflowing:o.current}}(s),f=s?d?"multiline":"singleline":n,{className:h,nodeRef:p}=null!==(r=c.useContext(Rm))&&void 0!==r?r:jm,g=c.useContext(Mm),v=c.useRef(null),m=c.useRef(null),{announce:y}=function(){var e;return null!==(e=c.useContext(fm))&&void 0!==e?e:{announce:()=>{}}}(),b=um();return c.useEffect(()=>{var e,t,r=[null===(e=m.current)||void 0===e?void 0:e.textContent,null===(t=v.current)||void 0===t?void 0:t.textContent].filter(Boolean).join(",");y(r,{polite:"polite"===l,alert:"assertive"===l})},[m,v,y,l]),{components:{root:"div",icon:"div",bottomReflowSpacer:"div"},root:Sv(Uv("div",zm({ref:dm(t,u,p,g),role:"group","aria-labelledby":b},e)),{elementType:"div"}),icon:Iv(e.icon,{renderByDefault:!0,elementType:"div",defaultProps:{children:xm(o)}}),bottomReflowSpacer:Iv(e.bottomReflowSpacer,{renderByDefault:"multiline"===f,elementType:"div"}),layout:f,intent:o,transitionClassName:h,actionsRef:v,bodyRef:m,titleId:b,shape:a}},Dm=c.createContext(void 0),Fm={titleId:"",layout:"singleline",actionsRef:c.createRef(),bodyRef:c.createRef()},Lm=Dm.Provider,Um=()=>{var e;return null!==(e=c.useContext(Dm))&&void 0!==e?e:Fm},Hm=Vv("r2oyxsj","r1wuyrhw",['.r2oyxsj{white-space:nowrap;display:grid;grid-template-columns:auto 1fr auto auto;grid-template-rows:1fr;grid-template-areas:"icon body secondaryActions actions";padding-left:var(--spacingHorizontalM);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);border-radius:var(--borderRadiusMedium);align-items:center;min-height:36px;box-sizing:border-box;background-color:var(--colorNeutralBackground3);}','.r1wuyrhw{white-space:nowrap;display:grid;grid-template-columns:auto 1fr auto auto;grid-template-rows:1fr;grid-template-areas:"icon body secondaryActions actions";padding-right:var(--spacingHorizontalM);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);border-radius:var(--borderRadiusMedium);align-items:center;min-height:36px;box-sizing:border-box;background-color:var(--colorNeutralBackground3);}']),Wm=Vv("r1df1z33","rivnfjc",[".r1df1z33{grid-area:icon;font-size:var(--fontSizeBase500);margin-right:var(--spacingHorizontalS);color:var(--colorNeutralForeground3);display:flex;align-items:center;}",".rivnfjc{grid-area:icon;font-size:var(--fontSizeBase500);margin-left:var(--spacingHorizontalS);color:var(--colorNeutralForeground3);display:flex;align-items:center;}"]),Km=Vv("r1vx593n",null,[".r1vx593n{margin-bottom:var(--spacingVerticalS);grid-area:secondaryActions;}"]),Vm=Gv({rootMultiline:{Huce71:"f6juhto",Bt984gj:"f1s2louj",z8tnut:"f1ngh7ph",Budl1dq:"f17g0uqy",zoa1oz:"f1w7oly7"},secondaryActionsMultiline:{Brf1p80:"f1e8xxv9",B6of3ja:"f1gaxbfw",jrapky:"fqcjy3b",t21cq0:["fibjyge","f9yszdx"]},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779"}},{d:[".f6juhto{white-space:normal;}",".f1s2louj{align-items:start;}",".f1ngh7ph{padding-top:var(--spacingVerticalMNudge);}",".f17g0uqy{grid-template-columns:auto 1fr auto;}",'.f1w7oly7{grid-template-areas:"icon body actions" "secondaryActions secondaryActions secondaryActions";}',".f1e8xxv9{justify-content:end;}",".f1gaxbfw{margin-top:var(--spacingVerticalMNudge);}",".fqcjy3b{margin-bottom:var(--spacingVerticalS);}",".fibjyge{margin-right:0px;}",".f9yszdx{margin-left:0px;}",[".fokr779{border-radius:0;}",{p:-1}]]}),Gm=Gv({info:{},error:{sj55zd:"f1ca9wz"},warning:{sj55zd:"f14a4cve"},success:{sj55zd:"f36rra6"}},{d:[".f1ca9wz{color:var(--colorStatusDangerForeground1);}",".f14a4cve{color:var(--colorStatusWarningForeground3);}",".f36rra6{color:var(--colorStatusSuccessForeground1);}"]}),Qm=Gv({info:{},error:{De3pzq:"f1eon7jj",g2u3we:"f1f8dvr7",h3c5rm:["f1g1ijmo","f1nxacbt"],B9xav0g:"fo25q1j",zhjwy3:["f1nxacbt","f1g1ijmo"]},warning:{De3pzq:"f13ftzij",g2u3we:"frd1ypx",h3c5rm:["f1gyjrma","f18qd5xz"],B9xav0g:"fqyqtrt",zhjwy3:["f18qd5xz","f1gyjrma"]},success:{De3pzq:"f64thcm",g2u3we:"f1b4u7v",h3c5rm:["f1nyd2b1","f70v3om"],B9xav0g:"fk173vo",zhjwy3:["f70v3om","f1nyd2b1"]}},{d:[".f1eon7jj{background-color:var(--colorStatusDangerBackground1);}",".f1f8dvr7{border-top-color:var(--colorStatusDangerBorder1);}",".f1g1ijmo{border-right-color:var(--colorStatusDangerBorder1);}",".f1nxacbt{border-left-color:var(--colorStatusDangerBorder1);}",".fo25q1j{border-bottom-color:var(--colorStatusDangerBorder1);}",".f13ftzij{background-color:var(--colorStatusWarningBackground1);}",".frd1ypx{border-top-color:var(--colorStatusWarningBorder1);}",".f1gyjrma{border-right-color:var(--colorStatusWarningBorder1);}",".f18qd5xz{border-left-color:var(--colorStatusWarningBorder1);}",".fqyqtrt{border-bottom-color:var(--colorStatusWarningBorder1);}",".f64thcm{background-color:var(--colorStatusSuccessBackground1);}",".f1b4u7v{border-top-color:var(--colorStatusSuccessBorder1);}",".f1nyd2b1{border-right-color:var(--colorStatusSuccessBorder1);}",".f70v3om{border-left-color:var(--colorStatusSuccessBorder1);}",".fk173vo{border-bottom-color:var(--colorStatusSuccessBorder1);}"]}),Jm=c.forwardRef((e,t)=>{var r=qm(e,t);return(e=>{var t=Hm(),r=Wm(),n=Gm(),o=Qm(),i=Km(),a=Vm();e.root.className=Jv("fui-MessageBar",t,"multiline"===e.layout&&a.rootMultiline,"square"===e.shape&&a.square,o[e.intent],e.root.className),e.icon&&(e.icon.className=Jv("fui-MessageBar__icon",r,n[e.intent],e.icon.className)),e.bottomReflowSpacer&&(e.bottomReflowSpacer.className=Jv("fui-MessageBar__bottomReflowSpacer",i))})(r),im("useMessageBarStyles_unstable")(r),((e,t)=>sv(Lm,{value:t.messageBar,children:uv(e.root,{children:[e.icon&&sv(e.icon,{}),e.root.children,e.bottomReflowSpacer&&sv(e.bottomReflowSpacer,{})]})}))(r,function(e){var{layout:t,actionsRef:r,bodyRef:n,titleId:o}=e;return{messageBar:c.useMemo(()=>({layout:t,actionsRef:r,bodyRef:n,titleId:o}),[t,r,n,o])}}(r))});function Ym(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ym(Object(r),!0).forEach(function(t){$m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ym(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $m(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Jm.displayName="MessageBar";var Zm=c.createContext(void 0).Provider,ey=Vv("rtatq2b","re2rary",[".rtatq2b{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);grid-area:body;padding-right:var(--spacingHorizontalM);}",".re2rary{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);grid-area:body;padding-left:var(--spacingHorizontalM);}"]),ty=c.forwardRef((e,t)=>{var r=((e,t)=>{var{bodyRef:r}=Um();return{components:{root:"div"},root:Sv(Uv("div",Xm({ref:dm(t,r)},e)),{elementType:"div"})}})(e,t),n={link:c.useMemo(()=>({inline:!0}),[])};return(e=>{var t=ey();e.root.className=Jv("fui-MessageBarBody",t,e.root.className)})(r),im("useMessageBarBodyStyles_unstable")(r),((e,t)=>sv(Zm,{value:t.link,children:sv(e.root,{})}))(r,n)});ty.displayName="MessageBarBody";var ry=c.createContext(void 0),ny=ry.Provider,oy=()=>c.useContext(ry);function iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ay(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cy(e,t){return ly(oy(),e,t)}function ly(e,t,r){if(!e)return t;t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iy(Object(r),!0).forEach(function(t){ay(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t);var n,o,i,a,c,l,s,u,d,f,h,p,{generatedControlId:g,hintId:v,labelFor:m,labelId:y,required:b,validationMessageId:w,validationState:k}=e;return g&&(null!==(o=(n=t).id)&&void 0!==o||(n.id=g)),!y||(null==r?void 0:r.supportsLabelFor)&&m===t.id||null!==(a=(i=t)["aria-labelledby"])&&void 0!==a||(i["aria-labelledby"]=y),(w||v)&&(t["aria-describedby"]=[w,v,null==t?void 0:t["aria-describedby"]].filter(Boolean).join(" ")),"error"===k&&(null!==(l=(c=t)["aria-invalid"])&&void 0!==l||(c["aria-invalid"]=!0)),b&&((null==r?void 0:r.supportsRequired)?null!==(u=(s=t).required)&&void 0!==u||(s.required=!0):null!==(f=(d=t)["aria-required"])&&void 0!==f||(d["aria-required"]=!0)),(null==r?void 0:r.supportsSize)&&(null!==(p=(h=t).size)&&void 0!==p||(h.size=e.size)),t}var sy=Im("ErrorCircle12Filled","12",["M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10Zm-.75-2.75a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Zm.26-4.84a.5.5 0 0 1 .98 0l.01.09v2.59a.5.5 0 0 1-1 0V3.41Z"]),uy=Im("Warning12Filled","12",["M5.21 1.46a.9.9 0 0 1 1.58 0l4.09 7.17a.92.92 0 0 1-.79 1.37H1.91a.92.92 0 0 1-.79-1.37l4.1-7.17ZM5.5 4.5v1a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-1 0ZM6 6.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"]),dy=Im("CheckmarkCircle12Filled","12",["M1 6a5 5 0 1 1 10 0A5 5 0 0 1 1 6Zm7.35-.9a.5.5 0 1 0-.7-.7L5.5 6.54 4.35 5.4a.5.5 0 1 0-.7.7l1.5 1.5c.2.2.5.2.7 0l2.5-2.5Z"]);function fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(r),!0).forEach(function(t){py(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function py(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gy=Gv({root:{Bahqtrf:"fk6fouc",sj55zd:"f19n0e5"},disabled:{sj55zd:"f1s2aq7o",Bbusuzp:"f1dcs8yz"},required:{sj55zd:"f1whyuy6",uwmqm3:["fruq291","f7x41pl"]},small:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},medium:{Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi"},large:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k",Bhrd7zp:"fl43uef"},semibold:{Bhrd7zp:"fl43uef"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1whyuy6{color:var(--colorPaletteRedForeground3);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),vy=c.forwardRef((e,t)=>{var r=((e,t)=>{var{disabled:r=!1,required:n=!1,weight:o="regular",size:i="medium"}=e;return{disabled:r,required:Iv(!0===n?"*":n||void 0,{defaultProps:{"aria-hidden":"true"},elementType:"span"}),weight:o,size:i,components:{root:"label",required:"span"},root:Sv(Uv("label",hy({ref:t},e)),{elementType:"label"})}})(e,t);return(e=>{var t=gy();e.root.className=Jv("fui-Label",t.root,e.disabled&&t.disabled,t[e.size],"semibold"===e.weight&&t.semibold,e.root.className),e.required&&(e.required.className=Jv("fui-Label__required",t.required,e.disabled&&t.disabled,e.required.className))})(r),im("useLabelStyles_unstable")(r),(e=>uv(e.root,{children:[e.root.children,e.required&&sv(e.required,{})]}))(r)});function my(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?my(Object(r),!0).forEach(function(t){by(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):my(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function by(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}vy.displayName="Label";var wy={error:c.createElement(sy,null),warning:c.createElement(uy,null),success:c.createElement(dy,null),none:void 0},ky=Gv({base:{mc9l5x:"f13qh94s"},horizontal:{Budl1dq:"f2wwaib",wkccdc:"f1645dqt"},horizontalNoLabel:{uwmqm3:["f15jqgz8","fggqkej"],Budl1dq:"f1c2z91y"}},{d:[".f13qh94s{display:grid;}",".f2wwaib{grid-template-columns:33% 1fr;}",".f1645dqt{grid-template-rows:auto auto auto 1fr;}",".f15jqgz8{padding-left:33%;}",".fggqkej{padding-right:33%;}",".f1c2z91y{grid-template-columns:1fr;}"]}),Cy=Gv({vertical:{z8tnut:"fclwglc",Byoj8tv:"fywfov9",jrapky:"fyacil5"},verticalLarge:{z8tnut:"f1sl3k7w",Byoj8tv:"f1brlhvm",jrapky:"f8l5zjj"},horizontal:{z8tnut:"fp2oml8",Byoj8tv:"f1tdddsa",t21cq0:["fkujibs","f199hnxi"],Ijaq50:"f16hsg94",nk6f5a:"f1nzqi2z"},horizontalSmall:{z8tnut:"f1ywm7hm",Byoj8tv:"f14wxoun"},horizontalLarge:{z8tnut:"f1hqyr95",Byoj8tv:"fm4hlj0"}},{d:[".fclwglc{padding-top:var(--spacingVerticalXXS);}",".fywfov9{padding-bottom:var(--spacingVerticalXXS);}",".fyacil5{margin-bottom:var(--spacingVerticalXXS);}",".f1sl3k7w{padding-top:1px;}",".f1brlhvm{padding-bottom:1px;}",".f8l5zjj{margin-bottom:var(--spacingVerticalXS);}",".fp2oml8{padding-top:var(--spacingVerticalSNudge);}",".f1tdddsa{padding-bottom:var(--spacingVerticalSNudge);}",".fkujibs{margin-right:var(--spacingHorizontalM);}",".f199hnxi{margin-left:var(--spacingHorizontalM);}",".f16hsg94{grid-row-start:1;}",".f1nzqi2z{grid-row-end:-1;}",".f1ywm7hm{padding-top:var(--spacingVerticalXS);}",".f14wxoun{padding-bottom:var(--spacingVerticalXS);}",".f1hqyr95{padding-top:9px;}",".fm4hlj0{padding-bottom:9px;}"]}),Sy=Vv("r5c4z9l",null,[".r5c4z9l{margin-top:var(--spacingVerticalXXS);color:var(--colorNeutralForeground3);font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase200);}"]),Iy=Gv({error:{sj55zd:"f1hcrxcs"},withIcon:{uwmqm3:["frawy03","fg4c52"]}},{d:[".f1hcrxcs{color:var(--colorPaletteRedForeground1);}",".frawy03{padding-left:calc(12px + var(--spacingHorizontalXS));}",".fg4c52{padding-right:calc(12px + var(--spacingHorizontalXS));}"]}),Py=Vv("ra7h1uk","r1rh6bd7",[".ra7h1uk{display:inline-block;font-size:12px;margin-left:calc(-12px - var(--spacingHorizontalXS));margin-right:var(--spacingHorizontalXS);line-height:0;vertical-align:-1px;}",".r1rh6bd7{display:inline-block;font-size:12px;margin-right:calc(-12px - var(--spacingHorizontalXS));margin-left:var(--spacingHorizontalXS);line-height:0;vertical-align:-1px;}"]),Ty=Gv({error:{sj55zd:"f1hcrxcs"},warning:{sj55zd:"f1k5f75o"},success:{sj55zd:"ffmvakt"}},{d:[".f1hcrxcs{color:var(--colorPaletteRedForeground1);}",".f1k5f75o{color:var(--colorPaletteDarkOrangeForeground1);}",".ffmvakt{color:var(--colorPaletteGreenForeground1);}"]}),Ay=c.forwardRef((e,t)=>{var r=((e,t)=>{var{children:r,orientation:n="vertical",required:o=!1,validationState:i=(e.validationMessage?"error":"none"),size:a="medium"}=e,c=um("field-"),l=c+"__control",s=Sv(Uv("div",yy(yy({},e),{},{ref:t}),["children"]),{elementType:"div"}),u=Iv(e.label,{defaultProps:{htmlFor:l,id:c+"__label",required:o,size:a},elementType:vy}),d=Iv(e.validationMessage,{defaultProps:{id:c+"__validationMessage",role:"error"===i||"warning"===i?"alert":void 0},elementType:"div"}),f=Iv(e.hint,{defaultProps:{id:c+"__hint"},elementType:"div"}),h=wy[i],p=Iv(e.validationMessageIcon,{renderByDefault:!!h,defaultProps:{children:h},elementType:"span"});return{children:r,generatedControlId:l,orientation:n,required:o,size:a,validationState:i,components:{root:"div",label:vy,validationMessage:"div",validationMessageIcon:"span",hint:"div"},root:s,label:u,validationMessageIcon:p,validationMessage:d,hint:f}})(e,t);(e=>{var{validationState:t,size:r}=e,n="horizontal"===e.orientation,o=ky();e.root.className=Jv("fui-Field",o.base,n&&o.horizontal,n&&!e.label&&o.horizontalNoLabel,e.root.className);var i=Cy();e.label&&(e.label.className=Jv("fui-Field__label",n&&i.horizontal,n&&"small"===r&&i.horizontalSmall,n&&"large"===r&&i.horizontalLarge,!n&&i.vertical,!n&&"large"===r&&i.verticalLarge,e.label.className));var a=Py(),c=Ty();e.validationMessageIcon&&(e.validationMessageIcon.className=Jv("fui-Field__validationMessageIcon",a,"none"!==t&&c[t],e.validationMessageIcon.className));var l=Sy(),s=Iy();e.validationMessage&&(e.validationMessage.className=Jv("fui-Field__validationMessage",l,"error"===t&&s.error,!!e.validationMessageIcon&&s.withIcon,e.validationMessage.className)),e.hint&&(e.hint.className=Jv("fui-Field__hint",l,e.hint.className))})(r),im("useFieldStyles_unstable")(r);var n=(e=>{var t,r,n,o,{generatedControlId:i,orientation:a,required:l,size:s,validationState:u}=e,d=null===(t=e.label)||void 0===t?void 0:t.htmlFor,f=null===(r=e.label)||void 0===r?void 0:r.id,h=null===(n=e.validationMessage)||void 0===n?void 0:n.id,p=null===(o=e.hint)||void 0===o?void 0:o.id;return{field:c.useMemo(()=>({generatedControlId:i,hintId:p,labelFor:d,labelId:f,orientation:a,required:l,size:s,validationMessageId:h,validationState:u}),[i,p,d,f,a,l,s,h,u])}})(r);return((e,t)=>{var{children:r}=e;return"function"==typeof r&&(r=r(ly(t.field)||{})),sv(ny,{value:null==t?void 0:t.field,children:uv(e.root,{children:[e.label&&sv(e.label,{}),r,e.validationMessage&&uv(e.validationMessage,{children:[e.validationMessageIcon&&sv(e.validationMessageIcon,{}),e.validationMessage.children]}),e.hint&&sv(e.hint,{})]})})})(r,n)});Ay.displayName="Field";var Oy=e=>{var[t,r]=c.useState(()=>void 0===e.defaultState?e.initialState:"function"==typeof e.defaultState?e.defaultState():e.defaultState),n=c.useRef(e.state);c.useEffect(()=>{n.current=e.state},[e.state]);var o=c.useCallback(e=>{(function(e){return"function"==typeof e})(e)&&e(n.current)},[]);return xy(e.state)?[e.state,o]:[t,r]},xy=e=>{var[t]=c.useState(()=>void 0!==e);return t},Ey=c.createContext(void 0);function _y(){var e;return null!==(e=c.useContext(Ey))&&void 0!==e?e:{}}function Ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ry(Object(r),!0).forEach(function(t){My(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ry(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function My(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ey.Provider;var Ny=("calc(".concat(Lg," + ").concat("var(--spacingHorizontalSNudge)",")"),Vv("r1oeeo9n","r9sxh5",{r:[".r1oeeo9n{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;vertical-align:middle;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r1oeeo9n::after{box-sizing:border-box;content:"";position:absolute;left:-1px;bottom:-1px;right:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r1oeeo9n:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r1oeeo9n:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r1oeeo9n:focus-within{outline:2px solid transparent;}",".r9sxh5{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;vertical-align:middle;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r9sxh5::after{box-sizing:border-box;content:"";position:absolute;right:-1px;bottom:-1px;left:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r9sxh5:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r9sxh5:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r9sxh5:focus-within{outline:2px solid transparent;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1oeeo9n::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r1oeeo9n:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r9sxh5::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r9sxh5:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}"]})),zy=Gv({small:{sshi5w:"f1pha7fy",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{},large:{sshi5w:"f1w5jphr",Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k",i8kkvl:0,Belr9w4:0,rmohyg:"f1eyhf9v"},outline:{},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"f1l4zc64",gg5e9n:["f1m52nbi","f1ub3y4t"],Drbcw7:"f8vnjqi",udz0bu:["fz1etlk","f1hc16gm"],Be8ivqh:"f1klwx88",ofdepl:["f1hc16gm","fz1etlk"]},underline:{De3pzq:"f1c21dwh",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779",icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],wvpqe5:["f1deefiw","f1n71otn"],Eqx8gd:["f1n6gb5g","f15yvnhg"],B1piin3:["f15yvnhg","f1n6gb5g"]},underlineInteractive:{oetu4i:"f1l4zc64",Be8ivqh:"f1klwx88",d9w3h3:0,B3778ie:0,B4j8arr:0,Bl18szs:0,Blrzh8d:"f2ale1x"},filled:{g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"]},filledInteractive:{q7v0qe:"ftmjh5b",kmh5ft:["f17blpuu","fsrcdbj"],nagaa4:"f1tpwn32",B1yhkcb:["fsrcdbj","f17blpuu"]},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},"filled-darker":{De3pzq:"f16xq7d1"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker-shadow":{De3pzq:"f16xq7d1",E5pizo:"fyed02w"},"filled-lighter-shadow":{De3pzq:"fxugw4r",E5pizo:"fyed02w"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bsft5z2:"fhr9occ",Bduesf4:"f99w1ws"},smallWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},smallWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},mediumWithContentBefore:{uwmqm3:["f1ng84yb","f11gcy0p"]},mediumWithContentAfter:{z189sj:["f11gcy0p","f1ng84yb"]},largeWithContentBefore:{uwmqm3:["f1uw59to","fw5db7e"]},largeWithContentAfter:{z189sj:["fw5db7e","f1uw59to"]}},{d:[".f1pha7fy{min-height:24px;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1w5jphr{min-height:40px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",[".f1eyhf9v{gap:var(--spacingHorizontalSNudge);}",{p:-1}],".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".fokr779{border-radius:0;}",{p:-1}],".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1n6gb5g::after{left:0;}",".f15yvnhg::after{right:0;}",[".f2ale1x::after{border-radius:0;}",{p:-1}],".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".fyed02w{box-shadow:var(--shadow2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fhr9occ::after{content:unset;}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fw5db7e{padding-right:var(--spacingHorizontalM);}"],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}",".ftmjh5b:hover,.ftmjh5b:focus-within{border-top-color:var(--colorTransparentStrokeInteractive);}",".f17blpuu:hover,.f17blpuu:focus-within{border-right-color:var(--colorTransparentStrokeInteractive);}",".fsrcdbj:hover,.fsrcdbj:focus-within{border-left-color:var(--colorTransparentStrokeInteractive);}",".f1tpwn32:hover,.f1tpwn32:focus-within{border-bottom-color:var(--colorTransparentStrokeInteractive);}"],a:[".f8vnjqi:active,.f8vnjqi:focus-within{border-top-color:var(--colorNeutralStroke1Pressed);}",".fz1etlk:active,.fz1etlk:focus-within{border-right-color:var(--colorNeutralStroke1Pressed);}",".f1hc16gm:active,.f1hc16gm:focus-within{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1klwx88:active,.f1klwx88:focus-within{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"],m:[["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],w:[".f99w1ws:focus-within{outline-style:none;}"]}),By=Vv("r12stul0",null,[".r12stul0{align-self:stretch;box-sizing:border-box;flex-grow:1;min-width:0;border-style:none;padding:0 var(--spacingHorizontalM);color:var(--colorNeutralForeground1);background-color:transparent;outline-style:none;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;}",".r12stul0::-webkit-input-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::-moz-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::placeholder{color:var(--colorNeutralForeground4);opacity:1;}"]),qy=Gv({small:{uwmqm3:["f1f5gg8d","f1vdfbxk"],z189sj:["f1vdfbxk","f1f5gg8d"]},medium:{},large:{uwmqm3:["fnphzt9","flt1dlf"],z189sj:["flt1dlf","fnphzt9"]},smallWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},smallWithContentAfter:{z189sj:["ffczdla","fgiv446"]},mediumWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},mediumWithContentAfter:{z189sj:["ffczdla","fgiv446"]},largeWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},largeWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".fnphzt9{padding-left:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".flt1dlf{padding-right:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".fgiv446{padding-left:var(--spacingHorizontalXXS);}",".ffczdla{padding-right:var(--spacingHorizontalXXS);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"]}),Dy=Vv("r1572tok",null,[".r1572tok{box-sizing:border-box;color:var(--colorNeutralForeground3);display:flex;}",".r1572tok>svg{font-size:20px;}"]),Fy=Gv({disabled:{sj55zd:"f1s2aq7o"},small:{Duoase:"f3qv9w"},medium:{},large:{Duoase:"f16u2scb"}},{d:[".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f3qv9w>svg{font-size:16px;}",".f16u2scb>svg{font-size:24px;}"]}),Ly=c.forwardRef((e,t)=>{var r=((e,t)=>{e=cy(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});var r,n=_y(),{size:o="medium",appearance:i=(null!==(r=n.inputDefaultAppearance)&&void 0!==r?r:"outline"),onChange:a}=e,[c,l]=Oy({state:e.value,defaultState:e.defaultValue,initialState:""}),s=Lv({props:e,primarySlotTagName:"input",excludedPropNames:["size","onChange","value","defaultValue"]}),u={size:o,appearance:i,components:{root:"span",input:"input",contentBefore:"span",contentAfter:"span"},input:Sv(e.input,{defaultProps:jy({type:"text",ref:t},s.primary),elementType:"input"}),contentAfter:Iv(e.contentAfter,{elementType:"span"}),contentBefore:Iv(e.contentBefore,{elementType:"span"}),root:Sv(e.root,{defaultProps:s.root,elementType:"span"})};return u.input.value=c,u.input.onChange=pv(e=>{var t=e.target.value;null==a||a(e,{value:t}),l(t)}),u})(e,t);return(e=>{var{size:t,appearance:r}=e,n=e.input.disabled,o="true"==="".concat(e.input["aria-invalid"]),i=r.startsWith("filled"),a=zy(),c=qy(),l=Fy();e.root.className=Jv("fui-Input",Ny(),a[t],e.contentBefore&&a["".concat(t,"WithContentBefore")],e.contentAfter&&a["".concat(t,"WithContentAfter")],a[r],!n&&"outline"===r&&a.outlineInteractive,!n&&"underline"===r&&a.underlineInteractive,!n&&i&&a.filledInteractive,i&&a.filled,!n&&o&&a.invalid,n&&a.disabled,e.root.className),e.input.className=Jv("fui-Input__input",By(),c[t],e.contentBefore&&c["".concat(t,"WithContentBefore")],e.contentAfter&&c["".concat(t,"WithContentAfter")],n&&c.disabled,e.input.className);var s=[Dy(),n&&l.disabled,l[t]];e.contentBefore&&(e.contentBefore.className=Jv("fui-Input__contentBefore",...s,e.contentBefore.className)),e.contentAfter&&(e.contentAfter.className=Jv("fui-Input__contentAfter",...s,e.contentAfter.className))})(r),im("useInputStyles_unstable")(r),(e=>uv(e.root,{children:[e.contentBefore&&sv(e.contentBefore,{}),sv(e.input,{}),e.contentAfter&&sv(e.contentAfter,{})]}))(r)});function Uy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Hy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uy(Object(r),!0).forEach(function(t){Wy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wy(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ly.displayName="Input";var Ky=Gv({base:{mc9l5x:"ftuwxu6",B7ck84d:"f1ewtqcl",qhf8xq:"f10pi13n",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1yiegib",jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1s184ao",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",ha4doy:"f12kltsn"},disabled:{De3pzq:"f1c21dwh",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"ff3nzm7",Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"]},interactive:{li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9",Eqx8gd:["f1a7op3","f1cjjd47"],By385i5:"f1gboi2j",B1piin3:["f1cjjd47","f1a7op3"],Dlnsje:"ffyw7fx",d9w3h3:["f1kp91vd","f1ibwz09"],B3778ie:["f1ibwz09","f1kp91vd"],B1q35kw:0,Bw17bha:0,Bcgy8vk:0,Bjuhk93:"f1mnjydx",Gjdm7m:"fj2g8qd",b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",df92cz:"fv8e3ye",I188md:"ftb5wc6",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",H713fs:"f1cmft4k",B9ooomg:"f1x58t8o",Bercvud:"f1ibeo51",Bbr2w1p:"f1vnc8sk",Bduesf4:"f3e99gv",Bpq79vn:"fhljsf7"},filled:{Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w",q7v0qe:"ftmjh5b",kmh5ft:["f17blpuu","fsrcdbj"],nagaa4:"f1tpwn32",B1yhkcb:["fsrcdbj","f17blpuu"]},"filled-darker":{De3pzq:"f16xq7d1"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker-shadow":{De3pzq:"f16xq7d1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f1gmd7mu",E5pizo:"fyed02w"},"filled-lighter-shadow":{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f1gmd7mu",E5pizo:"fyed02w"},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fhz96rm"},outlineInteractive:{kzujx5:0,oetu4i:"f1l4zc64",gvrnp0:0,xv9156:0,jek2p4:0,gg5e9n:0,Beu9t3s:0,dt87k2:0,Bt1vbvt:0,Bwzppfd:0,Bop6t4b:0,B2zwrfe:0,Bwp2tzp:0,Bgoe8wy:0,Bf40cpq:0,ckks6v:0,Baalond:"f9mts5e",v2iqwr:0,wmxk5l:"f1z0osm6",Bj33j0h:0,Bs0cc2w:0,qwjtx1:0,B50zh58:0,f7epvg:0,e1hlit:0,B7mkhst:0,ak43y8:0,Bbcopvn:0,Bvecx4l:0,lwioe0:0,B6oc9vd:0,e2sjt0:0,uqwnxt:0,asj8p9:"f1acnei2",Br8fjdy:0,zoxjo1:"f1so894s",Bt3ojkv:0,B7pmvfx:0,Bfht2n1:0,an54nd:0,t1ykpo:0,Belqbek:0,bbt1vd:0,Brahy3i:0,r7b1zc:0,rexu52:0,ovtnii:0,Bvq3b66:0,Bawrxx6:0,Bbs6y8j:0,B2qpgjt:"f19ezbcq"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]}},{d:[".ftuwxu6{display:inline-flex;}",".f1ewtqcl{box-sizing:border-box;}",".f10pi13n{position:relative;}",[".f1yiegib{padding:0 0 var(--strokeWidthThick) 0;}",{p:-1}],[".f1s184ao{margin:0;}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f12kltsn{vertical-align:top;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".ff3nzm7{border:var(--strokeWidthThin) solid var(--colorNeutralStrokeDisabled);}",{p:-2}],".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1a7op3::after{left:-1px;}",".f1cjjd47::after{right:-1px;}",".f1gboi2j::after{bottom:-1px;}",".ffyw7fx::after{height:max(var(--strokeWidthThick), var(--borderRadiusMedium));}",".f1kp91vd::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1ibwz09::after{border-bottom-right-radius:var(--borderRadiusMedium);}",[".f1mnjydx::after{border-bottom:var(--strokeWidthThick) solid var(--colorCompoundBrandStroke);}",{p:-1}],".fj2g8qd::after{clip-path:inset(calc(100% - var(--strokeWidthThick)) 0 0 0);}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}",[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".f1gmd7mu{border:var(--strokeWidthThin) solid var(--colorTransparentStrokeInteractive);}",{p:-2}],".fyed02w{box-shadow:var(--shadow2);}",[".f1gmd7mu{border:var(--strokeWidthThin) solid var(--colorTransparentStrokeInteractive);}",{p:-2}],[".fhz96rm{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}"],m:[["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media screen and (prefers-reduced-motion: reduce){.fv8e3ye::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.ftb5wc6::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1cmft4k:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1x58t8o:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],w:[".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}",".f1ibeo51:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".f1vnc8sk:focus-within{outline-width:var(--strokeWidthThick);}",".f3e99gv:focus-within{outline-style:solid;}",".fhljsf7:focus-within{outline-color:transparent;}",[".f19ezbcq:focus-within{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1Pressed);}",{p:-2}],".f1so894s:focus-within{border-bottom-color:var(--colorCompoundBrandStroke);}"],h:[".ftmjh5b:hover,.ftmjh5b:focus-within{border-top-color:var(--colorTransparentStrokeInteractive);}",".f17blpuu:hover,.f17blpuu:focus-within{border-right-color:var(--colorTransparentStrokeInteractive);}",".fsrcdbj:hover,.fsrcdbj:focus-within{border-left-color:var(--colorTransparentStrokeInteractive);}",".f1tpwn32:hover,.f1tpwn32:focus-within{border-bottom-color:var(--colorTransparentStrokeInteractive);}",[".f9mts5e:hover{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1Hover);}",{p:-2}],".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}"],a:[[".f1acnei2:active{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1Pressed);}",{p:-2}],".f1z0osm6:active{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"]}),Vy=Gv({base:{icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],oivjwe:"f1h8hb77",wvpqe5:["f1deefiw","f1n71otn"],jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1s184ao",De3pzq:"f3rmtva",B7ck84d:"f1ewtqcl",sj55zd:"f19n0e5",Bh6795r:"fqerorx",Bahqtrf:"fk6fouc",Bqenvij:"f1l02sjl",yvdlaj:"fwyc1cq",B3o7kgh:"f13ta7ih",oeaueh:"f1s6fcnf"},disabled:{sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"},small:{sshi5w:"f1w5jphr",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1pnffij",Bxyxcbc:"f192z54u",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{sshi5w:"fvmd9f",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1ww82xo",Bxyxcbc:"f1if7ixc",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},large:{sshi5w:"f1kfson",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f15hvtkj",Bxyxcbc:"f3kip1f",Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k"}},{d:[".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1h8hb77{border-bottom-style:none;}",[".f1s184ao{margin:0;}",{p:-1}],".f3rmtva{background-color:transparent;}",".f1ewtqcl{box-sizing:border-box;}",".f19n0e5{color:var(--colorNeutralForeground1);}",".fqerorx{flex-grow:1;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".f1l02sjl{height:100%;}",".fwyc1cq::-webkit-input-placeholder{color:var(--colorNeutralForeground4);}",".fwyc1cq::-moz-placeholder{color:var(--colorNeutralForeground4);}",".f13ta7ih::-webkit-input-placeholder{opacity:1;}",".f13ta7ih::-moz-placeholder{opacity:1;}",".f1s6fcnf{outline-style:none;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}",".f1w5jphr{min-height:40px;}",[".f1pnffij{padding:var(--spacingVerticalXS) calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",{p:-1}],".f192z54u{max-height:200px;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fvmd9f{min-height:52px;}",[".f1ww82xo{padding:var(--spacingVerticalSNudge) calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",{p:-1}],".f1if7ixc{max-height:260px;}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f1kfson{min-height:64px;}",[".f15hvtkj{padding:var(--spacingVerticalS) calc(var(--spacingHorizontalM) + var(--spacingHorizontalXXS));}",{p:-1}],".f3kip1f{max-height:320px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}"]}),Gy=Gv({none:{B3rzk8w:"f1o1s39h"},both:{B3rzk8w:"f1pxm0xe"},horizontal:{B3rzk8w:"fq6nmtn"},vertical:{B3rzk8w:"f1f5ktr4"}},{d:[".f1o1s39h{resize:none;}",".f1pxm0xe{resize:both;}",".fq6nmtn{resize:horizontal;}",".f1f5ktr4{resize:vertical;}"]}),Qy=c.forwardRef((e,t)=>{var r=((e,t)=>{e=cy(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});var r,n=_y(),{size:o="medium",appearance:i=(null!==(r=n.inputDefaultAppearance)&&void 0!==r?r:"outline"),resize:a="none",onChange:c}=e,[l,s]=Oy({state:e.value,defaultState:e.defaultValue,initialState:void 0}),u=Lv({props:e,primarySlotTagName:"textarea",excludedPropNames:["onChange","value","defaultValue"]}),d={size:o,appearance:i,resize:a,components:{root:"span",textarea:"textarea"},textarea:Sv(e.textarea,{defaultProps:Hy({ref:t},u.primary),elementType:"textarea"}),root:Sv(e.root,{defaultProps:u.root,elementType:"span"})};return d.textarea.value=l,d.textarea.onChange=pv(e=>{var t=e.target.value;null==c||c(e,{value:t}),s(t)}),d})(e,t);return(e=>{var{size:t,appearance:r,resize:n}=e,o=e.textarea.disabled,i="true"==="".concat(e.textarea["aria-invalid"]),a=r.startsWith("filled"),c=Ky();e.root.className=Jv("fui-Textarea",c.base,o&&c.disabled,!o&&a&&c.filled,!o&&c[r],!o&&c.interactive,!o&&"outline"===r&&c.outlineInteractive,!o&&i&&c.invalid,e.root.className);var l=Vy(),s=Gy();e.textarea.className=Jv("fui-Textarea__textarea",l.base,l[t],s[n],o&&l.disabled,e.textarea.className)})(r),im("useTextareaStyles_unstable")(r),(e=>sv(e.root,{children:sv(e.textarea,{})}))(r)});Qy.displayName="Textarea";var Jy=Im("Dismiss24Regular","24",["m4.4 4.55.07-.08a.75.75 0 0 1 .98-.07l.08.07L12 10.94l6.47-6.47a.75.75 0 1 1 1.06 1.06L13.06 12l6.47 6.47c.27.27.3.68.07.98l-.07.08a.75.75 0 0 1-.98.07l-.08-.07L12 13.06l-6.47 6.47a.75.75 0 0 1-1.06-1.06L10.94 12 4.47 5.53a.75.75 0 0 1-.07-.98l.07-.08-.07.08Z"]),Yy=Im("Document24Regular","24",["M6 2a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L13.6 2.6A2 2 0 0 0 12.17 2H6Zm-.5 2c0-.28.22-.5.5-.5h6V8c0 1.1.9 2 2 2h4.5v10a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V4Zm11.88 4.5H14a.5.5 0 0 1-.5-.5V4.62l3.88 3.88Z"]);function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xy(Object(r),!0).forEach(function(t){Zy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Zy(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eb=Gv({root:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi",Bhrd7zp:"figsok6",fsow6f:"fpgzoln",mc9l5x:"f1w7gpdv",Huce71:"f6juhto",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1gl81tg",ygn44y:"f2jf649"},nowrap:{Huce71:"fz5stix",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp"},truncate:{ygn44y:"f1cmbuwj"},block:{mc9l5x:"ftgm304"},italic:{B80ckks:"f1j4dglz"},underline:{w71qe1:"f13mvf36"},strikethrough:{w71qe1:"fv5q2k7"},strikethroughUnderline:{w71qe1:"f1drk4o6"},base100:{Be2twd7:"f13mqy1h",Bg96gwp:"fcpl73t"},base200:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},base400:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k"},base500:{Be2twd7:"f1pp30po",Bg96gwp:"f106mvju"},base600:{Be2twd7:"f1x0m3f5",Bg96gwp:"fb86gi6"},hero700:{Be2twd7:"fojgt09",Bg96gwp:"fcen8rp"},hero800:{Be2twd7:"fccw675",Bg96gwp:"f1ebx5kk"},hero900:{Be2twd7:"f15afnhw",Bg96gwp:"fr3w3wp"},hero1000:{Be2twd7:"fpyltcb",Bg96gwp:"f1ivgwrt"},monospace:{Bahqtrf:"f1fedwem"},numeric:{Bahqtrf:"f1uq0ln5"},weightMedium:{Bhrd7zp:"fdj6btp"},weightSemibold:{Bhrd7zp:"fl43uef"},weightBold:{Bhrd7zp:"flh3ekv"},alignCenter:{fsow6f:"f17mccla"},alignEnd:{fsow6f:"f12ymhq5"},alignJustify:{fsow6f:"f1j59e10"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fpgzoln{text-align:start;}",".f1w7gpdv{display:inline;}",".f6juhto{white-space:normal;}",[".f1gl81tg{overflow:visible;}",{p:-1}],".f2jf649{text-overflow:clip;}",".fz5stix{white-space:nowrap;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],".f1cmbuwj{text-overflow:ellipsis;}",".ftgm304{display:block;}",".f1j4dglz{font-style:italic;}",".f13mvf36{text-decoration-line:underline;}",".fv5q2k7{text-decoration-line:line-through;}",".f1drk4o6{text-decoration-line:line-through underline;}",".f13mqy1h{font-size:var(--fontSizeBase100);}",".fcpl73t{line-height:var(--lineHeightBase100);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f106mvju{line-height:var(--lineHeightBase500);}",".f1x0m3f5{font-size:var(--fontSizeBase600);}",".fb86gi6{line-height:var(--lineHeightBase600);}",".fojgt09{font-size:var(--fontSizeHero700);}",".fcen8rp{line-height:var(--lineHeightHero700);}",".fccw675{font-size:var(--fontSizeHero800);}",".f1ebx5kk{line-height:var(--lineHeightHero800);}",".f15afnhw{font-size:var(--fontSizeHero900);}",".fr3w3wp{line-height:var(--lineHeightHero900);}",".fpyltcb{font-size:var(--fontSizeHero1000);}",".f1ivgwrt{line-height:var(--lineHeightHero1000);}",".f1fedwem{font-family:var(--fontFamilyMonospace);}",".f1uq0ln5{font-family:var(--fontFamilyNumeric);}",".fdj6btp{font-weight:var(--fontWeightMedium);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".flh3ekv{font-weight:var(--fontWeightBold);}",".f17mccla{text-align:center;}",".f12ymhq5{text-align:end;}",".f1j59e10{text-align:justify;}"]}),tb=c.forwardRef((e,t)=>{var r=((e,t)=>{var{wrap:r,truncate:n,block:o,italic:i,underline:a,strikethrough:c,size:l,font:s,weight:u,align:d}=e;return{align:null!=d?d:"start",block:null!=o&&o,font:null!=s?s:"base",italic:null!=i&&i,size:null!=l?l:300,strikethrough:null!=c&&c,truncate:null!=n&&n,underline:null!=a&&a,weight:null!=u?u:"regular",wrap:null==r||r,components:{root:"span"},root:Sv(Uv("span",$y({ref:t},e)),{elementType:"span"})}})(e,t);return(e=>{var t=eb();e.root.className=Jv("fui-Text",t.root,!1===e.wrap&&t.nowrap,e.truncate&&t.truncate,e.block&&t.block,e.italic&&t.italic,e.underline&&t.underline,e.strikethrough&&t.strikethrough,e.underline&&e.strikethrough&&t.strikethroughUnderline,100===e.size&&t.base100,200===e.size&&t.base200,400===e.size&&t.base400,500===e.size&&t.base500,600===e.size&&t.base600,700===e.size&&t.hero700,800===e.size&&t.hero800,900===e.size&&t.hero900,1e3===e.size&&t.hero1000,"monospace"===e.font&&t.monospace,"numeric"===e.font&&t.numeric,"medium"===e.weight&&t.weightMedium,"semibold"===e.weight&&t.weightSemibold,"bold"===e.weight&&t.weightBold,"center"===e.align&&t.alignCenter,"end"===e.align&&t.alignEnd,"justify"===e.align&&t.alignJustify,e.root.className)})(r),im("useTextStyles_unstable")(r),(e=>sv(e.root,{}))(r)});tb.displayName="Text";var rb=Im("FolderOpen24Regular","24",["M3.5 6.25c0-.97.78-1.75 1.75-1.75h2.88c.2 0 .39.08.53.22l2.06 2.06c.14.14.33.22.53.22h5.5c.97 0 1.75.78 1.75 1.75 0 .09.01.17.04.25H8.72c-1.34 0-2.58.71-3.25 1.87L3.5 14.28V6.25ZM2 17.79A3.25 3.25 0 0 0 5.25 21h11.04c1.33 0 2.57-.72 3.24-1.88l3.03-5.25A3.25 3.25 0 0 0 19.96 9a.75.75 0 0 0 .04-.25c0-1.8-1.45-3.25-3.25-3.25h-5.19L9.72 3.66c-.42-.42-1-.66-1.6-.66H5.26A3.25 3.25 0 0 0 2 6.25V17.79Zm6.72-7.3h11.03a1.75 1.75 0 0 1 1.51 2.63l-3.03 5.25c-.4.7-1.14 1.13-1.95 1.13H5.25a1.75 1.75 0 0 1-1.51-2.63l3.03-5.25c.4-.7 1.14-1.12 1.95-1.12Z"],{flipInRtl:!0}),nb={MAX_FILES:10,MAX_FILE_SIZE:10485760,MAX_TOTAL_SIZE:104857600,DANGEROUS_EXTENSIONS:[".exe",".dll",".bat",".cmd",".ps1",".vbs",".js",".jar",".app",".msi",".scr",".com",".pif",".gadget",".sh"]},ob=Rg({container:{display:"flex",flexDirection:"column",gap:Wg},fileInputWrapper:{display:"flex",alignItems:"center",gap:Lg},hiddenInput:{display:"none"},fileList:{display:"flex",flexDirection:"column",gap:Hg,padding:Lg,backgroundColor:"var(--colorNeutralBackground2)",borderRadius:"var(--borderRadiusMedium)",border:"1px solid ".concat(zg)},fileItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:Hg,backgroundColor:Ng,borderRadius:"var(--borderRadiusSmall)",border:"1px solid ".concat(zg)},fileInfo:{display:"flex",alignItems:"center",gap:"var(--spacingHorizontalS)",flex:1},fileName:{fontWeight:Fg,color:jg},fileSize:{color:Mg,fontSize:qg},removeButton:{minWidth:"auto"},errorText:{color:Bg,fontSize:qg},emptyState:{color:Mg,fontSize:Dg,fontStyle:"italic"}}),ib=e=>{var{selectedFiles:t,onFilesChange:r,disabled:n=!1}=e,o=ob(),i=c.useRef(null),[a,l]=c.useState([]);return c.createElement("div",{className:o.container},c.createElement(Ay,{label:"Select Files *",required:!0},c.createElement("div",{className:o.fileInputWrapper},c.createElement("input",{ref:i,type:"file",multiple:!0,onChange:e=>{var t=Array.from(e.target.files||[]);if(0!==t.length){var n=(e=>{var t=[];if(e.length>nb.MAX_FILES)return t.push({fileName:"File Count",message:"Maximum ".concat(nb.MAX_FILES," files allowed. You selected ").concat(e.length," files.")}),t;var r=e.reduce((e,t)=>e+t.size,0);if(r>nb.MAX_TOTAL_SIZE){var n=(r/1048576).toFixed(1),o=(nb.MAX_TOTAL_SIZE/1048576).toFixed(0);t.push({fileName:"Total Size",message:"Total file size (".concat(n,"MB) exceeds limit of ").concat(o,"MB.")})}return e.forEach(e=>{if(e.size>nb.MAX_FILE_SIZE){var r=(e.size/1048576).toFixed(1),n=(nb.MAX_FILE_SIZE/1048576).toFixed(0);t.push({fileName:e.name,message:"File size (".concat(r,"MB) exceeds limit of ").concat(n,"MB.")})}var o=e.name.substring(e.name.lastIndexOf(".")).toLowerCase();nb.DANGEROUS_EXTENSIONS.includes(o)&&t.push({fileName:e.name,message:"File type ".concat(o," is not allowed for security reasons.")})}),t})(t);if(l(n),n.length>0)return h("FileSelectionField","File validation failed",n),void(i.current&&(i.current.value=""));r(t),l([])}},className:o.hiddenInput,disabled:n}),c.createElement(am,{appearance:"secondary",icon:c.createElement(rb,null),onClick:()=>{var e;null===(e=i.current)||void 0===e||e.click()},disabled:n},"Choose Files"),c.createElement(tb,{className:o.emptyState},0===t.length?"No files selected":"".concat(t.length," file").concat(t.length>1?"s":""," selected")))),a.length>0&&c.createElement("div",null,a.map((e,t)=>c.createElement(tb,{key:t,className:o.errorText}," ",e.fileName,": ",e.message))),t.length>0&&c.createElement("div",null,c.createElement(tb,{weight:"semibold",style:{marginBottom:Hg}},"Selected Files (",t.length,")"),c.createElement("div",{className:o.fileList},t.map((e,i)=>{return c.createElement("div",{key:i,className:o.fileItem},c.createElement("div",{className:o.fileInfo},c.createElement(Yy,null),c.createElement("div",null,c.createElement(tb,{className:o.fileName},e.name),c.createElement(tb,{className:o.fileSize}," (",(a=e.size)<1024?"".concat(a," B"):a<1048576?"".concat((a/1024).toFixed(1)," KB"):"".concat((a/1048576).toFixed(1)," MB"),")"))),c.createElement(am,{appearance:"subtle",icon:c.createElement(Jy,null),onClick:()=>(e=>{var n=t.filter((t,r)=>r!==e);r(n),l([])})(i),className:o.removeButton,disabled:n,"aria-label":"Remove ".concat(e.name)}));var a}))))};function ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cb(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sb(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ub=Gv({root:{mc9l5x:"ftgm304",De3pzq:"f18f03hv",a9b677:"fly5x3f",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",Bpep1pd:"fu42dvn"},rounded:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5"},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw"},medium:{Bqenvij:"f4t8t6x"},large:{Bqenvij:"f6ywr7j"}},{d:[".ftgm304{display:block;}",".f18f03hv{background-color:var(--colorNeutralBackground6);}",".fly5x3f{width:100%;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".f4t8t6x{height:2px;}",".f6ywr7j{height:4px;}"],m:[["@media screen and (forced-colors: active){.fu42dvn{background-color:CanvasText;}}",{m:"screen and (forced-colors: active)"}]]}),db=Gv({base:{Bpep1pd:"f1neahkh",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f12b9xdw",Bqenvij:"f1l02sjl"},nonZeroDeterminate:{Bmy1vo4:"fjt6zfz",B3o57yi:"f1wofebd",Bkqvd7p:"fv71qf3"},indeterminate:{B2u0y6b:"fa0wk36",qhf8xq:"f10pi13n",Bcmaq0h:["fpo0yib","f1u5hf6c"],Bv12yb3:["fwd2bol","f14gig94"],vin17d:"f1a27w2r",Ezkn3b:"f452v7t",w3vfg9:"f1cpbl36",B3ks32h:"f2xo07b",B3vm3ge:"f1f2ih6z",Gqtpxc:"f7h4d4t",vr3tzx:"f32r5lb"},brand:{De3pzq:"ftywsgz"},error:{De3pzq:"fdl5y0r"},warning:{De3pzq:"f1s438gw"},success:{De3pzq:"flxk52p"}},{m:[["@media screen and (forced-colors: active){.f1neahkh{background-color:Highlight;}}",{m:"screen and (forced-colors: active)"}],["@media screen and (prefers-reduced-motion: reduce){.f2xo07b{max-width:100%;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1f2ih6z{animation-iteration-count:infinite;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f7h4d4t{animation-duration:3s;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f32r5lb{animation-name:ftc26vs;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],d:[[".f12b9xdw{border-radius:inherit;}",{p:-1}],".f1l02sjl{height:100%;}",".fjt6zfz{transition-property:width;}",".f1wofebd{transition-duration:0.3s;}",".fv71qf3{transition-timing-function:ease;}",".fa0wk36{max-width:33%;}",".f10pi13n{position:relative;}",".fpo0yib{background-image:linear-gradient(\n      to right,\n      var(--colorNeutralBackground6) 0%,\n      var(--colorTransparentBackground) 50%,\n      var(--colorNeutralBackground6) 100%\n    );}",".f1u5hf6c{background-image:linear-gradient(\n      to left,\n      var(--colorNeutralBackground6) 0%,\n      var(--colorTransparentBackground) 50%,\n      var(--colorNeutralBackground6) 100%\n    );}",".fwd2bol{animation-name:f1keuaan;}",".f14gig94{animation-name:f10x8f8u;}",".f1a27w2r{animation-duration:3s;}",".f452v7t{animation-timing-function:linear;}",".f1cpbl36{animation-iteration-count:infinite;}",".ftywsgz{background-color:var(--colorCompoundBrandBackground);}",".fdl5y0r{background-color:var(--colorPaletteRedBackground3);}",".f1s438gw{background-color:var(--colorPaletteDarkOrangeBackground3);}",".flxk52p{background-color:var(--colorPaletteGreenBackground3);}"],k:["@keyframes f1keuaan{0%{left:-33%;}100%{left:100%;}}","@keyframes f10x8f8u{0%{right:-33%;}100%{right:100%;}}","@keyframes ftc26vs{0%{opacity:.2;}50%{opacity:1;}100%{opacity:.2;}}"]}),fb=c.forwardRef((e,t)=>{var r=((e,t)=>{var r,n=oy(),o=null==n?void 0:n.validationState,{color:i=("error"===o||"warning"===o||"success"===o?o:"brand"),shape:a="rounded",thickness:c="medium"}=e,l=(e=>e<=0?1:e)(null!==(r=e.max)&&void 0!==r?r:1),s=((e,t)=>void 0===e?e:e<0?0:e>t?t:e)(e.value,l),u=Sv(Uv("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ab(Object(r),!0).forEach(function(t){cb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ab(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({ref:t,role:"progressbar","aria-valuemin":void 0!==s?0:void 0,"aria-valuemax":void 0!==s?l:void 0,"aria-valuenow":s,"aria-labelledby":null==n?void 0:n.labelId},e)),{elementType:"div"});return n&&(n.validationMessageId||n.hintId)&&(u["aria-describedby"]=[null==n?void 0:n.validationMessageId,null==n?void 0:n.hintId,u["aria-describedby"]].filter(Boolean).join(" ")),{color:i,max:l,shape:a,thickness:c,value:s,components:{root:"div",bar:"div"},root:u,bar:Sv(e.bar,{elementType:"div"})}})(e,t);return(e=>{var{color:t,max:r,shape:n,thickness:o,value:i}=e,a=ub(),c=db();e.root.className=Jv("fui-ProgressBar",a.root,a[n],a[o],e.root.className),e.bar&&(e.bar.className=Jv("fui-ProgressBar__bar",c.base,c.brand,void 0===i&&c.indeterminate,void 0!==i&&i>.01&&c.nonZeroDeterminate,t&&void 0!==i&&c[t],e.bar.className)),e.bar&&void 0!==i&&(e.bar.style=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(r),!0).forEach(function(t){sb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({width:Math.min(100,Math.max(0,i/r*100))+"%"},e.bar.style))})(r),im("useProgressBarStyles_unstable")(r),(e=>sv(e.root,{children:e.bar&&sv(e.bar,{})}))(r)});fb.displayName="ProgressBar";var hb=Rg({container:{display:"flex",flexDirection:"column",gap:Hg},progressText:{fontSize:Dg,color:"var(--colorNeutralForeground2)",textAlign:"center"}}),pb=e=>{var{current:t,total:r}=e,n=hb(),o=r>0?t/r*100:0,i="Uploading files... (".concat(t," of ").concat(r," complete)");return c.createElement("div",{className:n.container},c.createElement(Ay,null,c.createElement(fb,{value:o/100,max:1,shape:"rounded"})),c.createElement(tb,{className:n.progressText},i))};function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(t){mb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mb(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yb=Vv("r168xkm9",null,[".r168xkm9{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300);}",'.r168xkm9::after{content:" ";}']),bb=c.forwardRef((e,t)=>{var r=((e,t)=>{var{titleId:r}=Um();return{components:{root:"span"},root:Sv(Uv("span",vb({ref:t,id:r},e)),{elementType:"span"})}})(e,t);return(e=>{var t=yb();e.root.className=Jv("fui-MessageBarTitle",t,e.root.className)})(r),im("useMessageBarTitleStyles_unstable")(r),(e=>sv(e.root,{}))(r)});bb.displayName="MessageBarTitle";var wb=Rg({container:{display:"flex",flexDirection:"column",gap:Hg},errorItem:{fontSize:qg,color:Bg}}),kb=e=>{var{errors:t}=e,r=wb();return 0===t.length?null:c.createElement(Jm,{intent:"error"},c.createElement(ty,null,c.createElement(bb,null,1===t.length?"1 error occurred":"".concat(t.length," errors occurred")),c.createElement("div",{className:r.container},t.map((e,t)=>c.createElement("div",{key:t,className:r.errorItem}," ",c.createElement("strong",null,e.fileName,":")," ",e.error)))))},Cb=Rg({container:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:Ng},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:Ug,borderBottom:"1px solid ".concat(zg),backgroundColor:Ng},headerTitle:{fontSize:"var(--fontSizeBase500)",fontWeight:Fg,color:jg,margin:0},closeButton:{minWidth:"auto"},content:{flex:1,overflowY:"auto",padding:"var(--spacingHorizontalXXL)",display:"flex",flexDirection:"column",gap:"var(--spacingVerticalXL)"},infoBanner:{marginBottom:Wg},fieldSection:{display:"flex",flexDirection:"column",gap:"var(--spacingVerticalL)"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:Ug,borderTop:"1px solid ".concat(zg),backgroundColor:Ng},footerButtons:{display:"flex",gap:Lg,marginLeft:"auto"},versionText:{fontSize:qg,color:Mg}}),Sb=e=>{var{parentContext:t,multiFileService:r,documentRecordService:n,onClose:o}=e,i=Cb(),[a,l]=c.useState([]),[s,u]=c.useState(""),[d,h]=c.useState(""),[g,v]=c.useState(!1),[m,y]=c.useState({current:0,total:0}),[b,w]=c.useState([]),[k,C]=c.useState(0),S=()=>{o()},I=0===a.length?"Select Files to Continue":g?"Uploading...":"Save and Create Document".concat(a.length>1?"s":""),P=0===a.length||g;return c.createElement("div",{className:i.container},c.createElement("div",{className:i.header},c.createElement("h1",{className:i.headerTitle},"Add Documents to ",t.parentDisplayName),c.createElement(am,{appearance:"subtle",icon:c.createElement(Jy,null),onClick:S,className:i.closeButton,disabled:g})),c.createElement("div",{className:i.content},c.createElement(Jm,{intent:"info",className:i.infoBanner},c.createElement(ty,null,"Select up to ",nb.MAX_FILES," files (max"," ",nb.MAX_FILE_SIZE/1048576,"MB each, total"," ",nb.MAX_TOTAL_SIZE/1048576,"MB)")),k>0&&c.createElement(Jm,{intent:"success"},c.createElement(ty,null,"Successfully created ",k," document",k>1?"s":"","!")),b.length>0&&c.createElement(kb,{errors:b}),c.createElement(ib,{selectedFiles:a,onFilesChange:e=>{l(e),w([])},disabled:g}),g&&c.createElement(pb,{current:m.current,total:m.total}),c.createElement("div",{className:i.fieldSection},c.createElement(Ay,{label:"Document Type (Optional)"},c.createElement(Ly,{value:d,onChange:(e,t)=>h(t.value),placeholder:"Enter document type",disabled:g})),c.createElement(Ay,{label:"Description (Optional)"},c.createElement(Qy,{value:s,onChange:(e,t)=>u(t.value),placeholder:"Enter description...",rows:4,disabled:g})))),c.createElement("div",{className:i.footer},c.createElement("span",{className:i.versionText},"v2.0.0.0  Built ",(new Date).toLocaleDateString()),c.createElement("div",{className:i.footerButtons},c.createElement(am,{appearance:"primary",onClick:()=>{return e=void 0,i=void 0,l=function*(){if(0!==a.length){v(!0),w([]),C(0),y({current:0,total:a.length});try{f("DocumentUploadForm","Starting upload and record creation",{fileCount:a.length,parentEntityName:t.parentEntityName,containerId:t.containerId});var e=yield r.uploadFiles({files:a,containerId:t.containerId},e=>{y({current:e.current,total:e.total})});if(f("DocumentUploadForm","File upload complete",{successCount:e.successCount,failureCount:e.failureCount}),0===e.uploadedFiles.length)return w(e.errors),void v(!1);var i={documentName:"",description:s||void 0,documentType:d||void 0},c=yield n.createDocuments(e.uploadedFiles,t,i),l=c.filter(e=>e.success),u=c.filter(e=>!e.success);C(l.length),w([...e.errors,...u.map(e=>({fileName:e.fileName,error:e.error||"Unknown error"}))]),f("DocumentUploadForm","Record creation complete",{successCount:l.length,failureCount:u.length}),0===u.length?setTimeout(()=>{o()},1500):v(!1)}catch(e){p("DocumentUploadForm","Upload and save failed",e),w([{fileName:"System Error",error:e.message}]),v(!1)}}},new((c=void 0)||(c=Promise))(function(t,r){function n(e){try{a(l.next(e))}catch(e){r(e)}}function o(e){try{a(l.throw(e))}catch(e){r(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof c?r:new c(function(e){e(r)})).then(n,o)}a((l=l.apply(e,i||[])).next())});var e,i,c,l},disabled:P},I),c.createElement(am,{appearance:"secondary",onClick:S,disabled:g},"Cancel"))))},Ib=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,c)}l((n=n.apply(e,t||[])).next())})};class Pb{constructor(){this.reactRoot=null,this.multiFileService=null,this.documentRecordService=null,this.parentContext=null,this.selectedFiles=[],this.isUploading=!1,f("UniversalDocumentUpload","Constructor called")}init(e,t,r,n){f("UniversalDocumentUpload","Initializing PCF control v2.0.1"),this.context=e,this.notifyOutputChanged=t,this.container=document.createElement("div"),this.container.className="universal-document-upload-container",n.appendChild(this.container);var o=document.createElement("div");o.textContent=" UNIVERSAL DOCUMENT UPLOAD V2.0.1 - CUSTOM PAGE - "+(new Date).toLocaleTimeString(),o.style.cssText="padding: 12px; background: #107c10; color: white; font-size: 14px; font-weight: bold; border-radius: 4px; margin-bottom: 8px; text-align: center;",this.container.appendChild(o),this.reactRoot=s.H(this.container),this.initializeAsync(e)}initializeAsync(e){return Ib(this,void 0,void 0,function*(){var t,r,n;try{this.loadParentContext(e),this.validateParentEntity(),yield this.initializeMsalAsync(),this.initializeServices(e),this.renderReactComponent(),f("UniversalDocumentUpload","Initialization complete",{parentEntityName:null===(t=this.parentContext)||void 0===t?void 0:t.parentEntityName,parentRecordId:null===(r=this.parentContext)||void 0===r?void 0:r.parentRecordId,containerId:null===(n=this.parentContext)||void 0===n?void 0:n.containerId})}catch(e){p("UniversalDocumentUpload","Initialization failed",e),this.showError(e.message)}})}loadParentContext(e){var t,r,n,o;f("UniversalDocumentUpload","Loading parent context from parameters");var i=null===(t=e.parameters.parentEntityName)||void 0===t?void 0:t.raw,a=null===(r=e.parameters.parentRecordId)||void 0===r?void 0:r.raw,c=null===(n=e.parameters.containerId)||void 0===n?void 0:n.raw,l=null===(o=e.parameters.parentDisplayName)||void 0===o?void 0:o.raw;if(f("UniversalDocumentUpload","Raw parameter values",{parentEntityName:i,parentRecordId:a,containerId:c,parentDisplayName:l}),!i||!a||!c)return h("UniversalDocumentUpload","Parameters not yet populated - waiting for user input"),void this.showInfo("Please fill in the required fields: Parent Entity Name, Parent Record ID, and Container ID. Then save the form to activate the upload control.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(a))throw new Error('Invalid parentRecordId format: "'.concat(a,'". ')+'Expected GUID format without curly braces (e.g., "abc12345-def6-7890-ghij-klmnopqrstuv")');this.parentContext={parentEntityName:i,parentRecordId:a,containerId:c,parentDisplayName:l||i},f("UniversalDocumentUpload","Parent context loaded",this.parentContext)}validateParentEntity(){if(!this.parentContext)throw new Error("Parent context not loaded");var e=this.parentContext.parentEntityName;if(!function(e){return e in uh}(e))throw new Error('Unsupported parent entity: "'.concat(e,'". ')+"Supported entities: ".concat(["sprk_matter","sprk_project","sprk_invoice","account","contact"].join(", ")));var t=dh(e);f("UniversalDocumentUpload","Entity configuration found",t)}initializeMsalAsync(){return Ib(this,void 0,void 0,function*(){try{if(f("UniversalDocumentUpload","Initializing MSAL authentication..."),this.authProvider=lh.getInstance(),yield this.authProvider.initialize(),f("UniversalDocumentUpload","MSAL authentication initialized "),this.authProvider.isAuthenticated()){var e=this.authProvider.getAccountDebugInfo();f("UniversalDocumentUpload","User authenticated",e)}}catch(e){throw p("UniversalDocumentUpload","MSAL initialization failed",e),new Error("Authentication initialization failed. Please refresh and try again.")}})}initializeServices(e){var t,r=(null===(t=e.parameters.sdapApiBaseUrl)||void 0===t?void 0:t.raw)||"spe-api-dev-67e2xz.azurewebsites.net/api",n=r.startsWith("http://")||r.startsWith("https://")?r:"https://".concat(r);f("UniversalDocumentUpload","Initializing services",{apiBaseUrl:n});var o=yh.create(n),i=new ph(o);if(this.multiFileService=new sh(i),this.documentRecordService=new hh,!hh.isAvailable())throw new Error("Xrm.WebApi is not available. This control must run in a Custom Page context.");f("UniversalDocumentUpload","Services initialized")}renderReactComponent(){f("UniversalDocumentUpload","Rendering React component"),this.reactRoot&&this.parentContext&&this.multiFileService&&this.documentRecordService?this.reactRoot.render(c.createElement(Sb,{parentContext:this.parentContext,multiFileService:this.multiFileService,documentRecordService:this.documentRecordService,onClose:this.handleClose.bind(this)})):p("UniversalDocumentUpload","Cannot render: missing dependencies",{hasReactRoot:!!this.reactRoot,hasParentContext:!!this.parentContext,hasMultiFileService:!!this.multiFileService,hasDocumentRecordService:!!this.documentRecordService})}handleClose(){var e,t;if(f("UniversalDocumentUpload","Dialog closed by user"),"undefined"!=typeof Xrm&&Xrm.Navigation){try{var r=null===(e=window.parent)||void 0===e?void 0:e.Xrm;if(null===(t=null==r?void 0:r.Page)||void 0===t?void 0:t.getControl){var n=r.Page.getControl("Documents");(null==n?void 0:n.refresh)&&(n.refresh(),f("UniversalDocumentUpload","Documents subgrid refreshed"))}}catch(e){h("UniversalDocumentUpload","Could not refresh Documents subgrid",e)}window.close()}}showError(e){var t=document.createElement("div");t.style.cssText="padding: 20px; color: #a4262c; background: #fde7e9; border: 1px solid #a4262c; border-radius: 4px; margin: 10px;",t.innerHTML="<strong>Error:</strong> ".concat(e),this.container.appendChild(t)}showInfo(e){var t=document.createElement("div");t.style.cssText="padding: 20px; color: #323130; background: #f3f2f1; border: 1px solid #8a8886; border-radius: 4px; margin: 10px;",t.innerHTML="<strong>Info:</strong> ".concat(e),this.container.appendChild(t)}updateView(e){this.context=e}getOutputs(){return{}}destroy(){f("UniversalDocumentUpload","Destroying PCF control"),this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null),this.authProvider&&this.authProvider.clearCache()}}pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad=i})();
if (window.ComponentFramework && window.ComponentFramework.registerControl) {
	ComponentFramework.registerControl('Spaarke.Controls.UniversalDocumentUpload', pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.UniversalDocumentUpload);
} else {
	var Spaarke = Spaarke || {};
	Spaarke.Controls = Spaarke.Controls || {};
	Spaarke.Controls.UniversalDocumentUpload = pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.UniversalDocumentUpload;
	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = undefined;
}