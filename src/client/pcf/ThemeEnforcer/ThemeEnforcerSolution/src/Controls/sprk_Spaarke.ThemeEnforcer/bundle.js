/*! For license information please see bundle.js.LICENSE.txt */
var pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad;(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{ThemeEnforcer:()=>o});class o{constructor(){this.themeStatus="initialized",this.hasRedirected=!1}init(e,t,o,r){this.notifyOutputChanged=t,this.enforceTheme(),console.log("[ThemeEnforcer] Initialized, status:",this.themeStatus)}updateView(e){this.hasRedirected||this.enforceTheme()}enforceTheme(){try{var e=window.top||window,t=e.location.href,r=localStorage.getItem(o.STORAGE_KEY)||"auto",i=-1!==t.indexOf(o.DARK_MODE_FLAG);if(console.log("[ThemeEnforcer] Checking - stored:",r,"hasDarkFlag:",i),"dark"===r&&!i){var a=-1!==t.indexOf("?")?"&":"?",h=t+a+o.DARK_MODE_FLAG;return console.log("[ThemeEnforcer] Redirecting to dark mode:",h),this.themeStatus="redirecting-to-dark",this.hasRedirected=!0,this.notifyOutputChanged(),void(e.location.href=h)}if(("light"===r||"auto"===r)&&i){var n=t.replace("&"+o.DARK_MODE_FLAG,"").replace("?"+o.DARK_MODE_FLAG+"&","?").replace("?"+o.DARK_MODE_FLAG,"");return console.log("[ThemeEnforcer] Redirecting to light mode:",n),this.themeStatus="redirecting-to-light",this.hasRedirected=!0,this.notifyOutputChanged(),void(e.location.href=n)}this.themeStatus=i?"dark-mode-active":"light-mode-active",this.notifyOutputChanged()}catch(e){console.error("[ThemeEnforcer] Error:",e),this.themeStatus="error",this.notifyOutputChanged()}}getOutputs(){return{themeStatus:this.themeStatus}}destroy(){}}o.STORAGE_KEY="spaarke-theme",o.DARK_MODE_FLAG="flags=themeOption%3Ddarkmode",pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad=t})();
if (window.ComponentFramework && window.ComponentFramework.registerControl) {
	ComponentFramework.registerControl('Spaarke.ThemeEnforcer', pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.ThemeEnforcer);
} else {
	var Spaarke = Spaarke || {};
	Spaarke.ThemeEnforcer = pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.ThemeEnforcer;
	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = undefined;
}