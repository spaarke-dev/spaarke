/*! For license information please see bundle.js.LICENSE.txt */
var pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad;(()=>{"use strict";var e={d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};e.r(r),e.d(r,{AssociationResolver:()=>se});const t=Reactv16,n=ReactDOMv16,o=FluentUIReactv940;var i="undefined"==typeof window?e.g:window,a="@griffel/";function l(e,r){return i[Symbol.for(a+e)]||(i[Symbol.for(a+e)]=r),i[Symbol.for(a+e)]}var c=l("DEFINITION_LOOKUP_TABLE",{}),s="data-make-styles-bucket";function d(e,r){return"___"+function(e){var r=e.length;if(7===r)return e;for(var t=r;t<7;t++)e+="0";return e}(function(e){for(var r,t=0,n=0,o=e.length;o>=4;++n,o-=4)r=1540483477*(65535&(r=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(r>>>16)<<16),t=1540483477*(65535&(r^=r>>>24))+(59797*(r>>>16)<<16)^1540483477*(65535&t)+(59797*(t>>>16)<<16);switch(o){case 3:t^=(255&e.charCodeAt(n+2))<<16;case 2:t^=(255&e.charCodeAt(n+1))<<8;case 1:t=1540483477*(65535&(t^=255&e.charCodeAt(n)))+(59797*(t>>>16)<<16)}return(((t=1540483477*(65535&(t^=t>>>13))+(59797*(t>>>16)<<16))^t>>>15)>>>0).toString(36)}(e+r))}function p(e,r){var t="",n="";for(var o in e){var i=e[o];if(0!==i){var a=Array.isArray(i),l="rtl"===r?(a?i[1]:i)+" ":(a?i[0]:i)+" ";t+=l,n+=l}else n+=o+" "}return[t.slice(0,-1),n.slice(0,-1)]}function u(e,r){var t={};for(var n in e){var[o,i]=p(e[n],r);if(""!==i){var a=d(i,r),l=a+(""===o?"":" "+o);c[a]=[e[n],r],t[n]=l}else t[n]=""}return t}var g={};function f(){for(var e=arguments,r=null,t="",n="",o=new Array(arguments.length),i=function(){var r=e[a];if("string"==typeof r&&""!==r){var i=r.indexOf("___");if(-1===i)t+=r+" ";else{var l=r.substr(i,10);i>0&&(t+=r.slice(0,i)),n+=l,o[a]=l}}},a=0;a<arguments.length;a++)i();if(""===n)return t.slice(0,-1);var l=g[n];if(void 0!==l)return t+l;for(var s=[],u=0;u<arguments.length;u++){var f=o[u];if(f){var m=c[f];m&&(s.push(m[0]),r=m[1])}}var y=Object.assign.apply(Object,[{}].concat(s)),[v,h]=p(y,r),b=d(h,r),k=b+" "+v;return g[n]=k,c[b]=[y,r],t+k}var m=t.createContext(void 0),y={},v=(m.Provider,()=>{var e={};return function(r,t){void 0===e[r.id]&&(r.insertCSSRules(t),e[r.id]=!0)}}),h=t.useInsertionEffect?t.useInsertionEffect:void 0,b=()=>{var e={};return function(r,t){h&&"undefined"!=typeof window&&window.document&&window.document.createElement?h(()=>{r.insertCSSRules(t)},[r,t]):void 0===e[r.id]&&(r.insertCSSRules(t),e[r.id]=!0)}};function k(e){return Array.isArray(e)?e:[e]}var w=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"].reduce((e,r,t)=>(e[r]=t,e),{});function S(e,r,t,n){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l="m"===e,c=null!==(o=a.m)&&void 0!==o?o:"0",d=null!==(i=a.p)&&void 0!==i?i:0,p=function(e,r,t){return("m"===e?e+r:e)+t}(e,c,d);if(!n.stylesheets[p]){var u=r&&r.createElement("style"),g=function(e,r,t,n){var o=[];if(n[s]=r,n["data-priority"]=String(t),e)for(var i in n)e.setAttribute(i,n[i]);return{elementAttributes:n,insertRule:function(r){return(null==e?void 0:e.sheet)?e.sheet.insertRule(r,e.sheet.cssRules.length):o.push(r)},element:e,bucketName:r,cssRules:()=>(null==e?void 0:e.sheet)?Array.from(e.sheet.cssRules).map(e=>e.cssText):o}}(u,e,d,Object.assign({},n.styleElementAttributes,l&&{media:c}));n.stylesheets[p]=g,(null==r?void 0:r.head)&&u&&r.head.insertBefore(u,function(e,r,t,n){var o,i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=w[t],c=null!==(o=a.m)&&void 0!==o?o:"",d=null!==(i=a.p)&&void 0!==i?i:0,p=e=>l-w[e.getAttribute(s)],u=e.head.querySelectorAll("[".concat(s,"]"));if("m"===t){var g=e.head.querySelectorAll("[".concat(s,'="').concat(t,'"]'));g.length&&(u=g,p=e=>n.compareMediaQueries(c,e.media))}for(var f=e=>function(e,r,t){var n,o;return r+(null!==(n=t.m)&&void 0!==n?n:"")===e.getAttribute(s)+(null!==(o=e.media)&&void 0!==o?o:"")}(e,t,a)?d-Number(e.getAttribute("data-priority")):p(e),m=u.length,y=m-1;y>=0;){var v=u.item(y);if(f(v)>0)return v.nextSibling;y--}return m>0?u.item(0):r?r.nextSibling:null}(r,t,e,n,a))}return n.stylesheets[p]}function R(e,r){try{e.insertRule(r)}catch(e){}}":(".concat(["-moz-placeholder","-moz-focus-inner","-moz-focusring","-ms-input-placeholder","-moz-read-write","-moz-read-only"].join("|"),")");var E=0,F=(e,r)=>e<r?-1:e>r?1:0;function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof document?void 0:document,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{classNameHashSalt:t,unstable_filterCSSRule:n,insertionPoint:o,styleElementAttributes:i,compareMediaQueries:a=F}=r,l={classNameHashSalt:t,insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(i),compareMediaQueries:a,id:"d".concat(E++),insertCSSRules(r){for(var t in r)for(var i=r[t],a=0,c=i.length;a<c;a++){var[s,d]=k(i[a]),p=S(t,e,o||null,l,d);l.insertionCache[s]||(l.insertionCache[s]=t,n?n(s)&&R(p,s):R(p,s))}}};return l}var _=t.createContext(N()),T=t.createContext("ltr");function M(e,r){var n=function(e,r){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:v)(),n=null,o=null;return function(i){var{dir:a,renderer:l}=i,c="ltr"===a;return c?null===n&&(n=u(e,a)):null===o&&(o=u(e,a)),t(l,r),c?n:o}}(e,r,b);return function(){var e=t.useContext(T),r=t.useContext(_);return n({dir:e,renderer:r})}}var A=M({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in"},rtl:{Bz10aip:"f13rod7r"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}",".f13rod7r{transform:scaleX(-1);}"]}),C=["title","primaryFill"];function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach(function(r){x(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function x(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var j=M({root:{B8gzw0y:"f1dd5bof"}},{m:[["@media (forced-colors: active){.f1dd5bof{forced-color-adjust:auto;}}",{m:"(forced-colors: active)"}]]});function I(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?I(Object(t),!0).forEach(function(r){D(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function D(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var B=(e,r,n,o)=>{var i="1em"===r?"20":r,a=t.forwardRef((e,a)=>{var l=j(),c=((e,r)=>{var n,{title:o,primaryFill:i="currentColor"}=e,a=O(O({},function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,C)),{},{title:void 0,fill:i}),l=A(),c=null!=(n=t.useContext(m))?n:y;return a.className=f(l.root,(null==r?void 0:r.flipInRtl)&&"rtl"===(null==c?void 0:c.textDirection)&&l.rtl,a.className),o&&(a["aria-label"]=o),a["aria-label"]||a["aria-labelledby"]?a.role="img":a["aria-hidden"]=!0,a})(e,{flipInRtl:null==o?void 0:o.flipInRtl}),s=H(H({},c),{},{className:f("fui-Icon",c.className,l.root),ref:a,width:r,height:r,viewBox:"0 0 ".concat(i," ").concat(i),xmlns:"http://www.w3.org/2000/svg"});return"string"==typeof n?t.createElement("svg",H(H({},s),{},{dangerouslySetInnerHTML:{__html:n}})):t.createElement("svg",s,...n.map(e=>t.createElement("path",{d:e,fill:s.fill})))});return a.displayName=e,a},z=B("ArrowSync20Regular","20",["M11.41 3.64a.5.5 0 0 0 0-.71L9.3.8a.5.5 0 0 0-.7.7l1 1a7.5 7.5 0 0 0-4.08 13.5.5.5 0 0 0 .6-.8A6.5 6.5 0 0 1 10.14 3.5L8.59 5.04a.5.5 0 0 0 .7.7l2.12-2.11ZM8.6 16.36a.5.5 0 0 0 0 .71l2.12 2.12a.5.5 0 0 0 .7-.7l-1-1a7.5 7.5 0 0 0 4.07-13.5.5.5 0 1 0-.59.8A6.5 6.5 0 0 1 9.86 16.5l1.55-1.55a.5.5 0 1 0-.7-.7l-2.12 2.11Z"],{flipInRtl:!0}),L=B("Search20Regular","20",["M13.73 14.44a6.5 6.5 0 1 1 .7-.7l3.42 3.4a.5.5 0 0 1-.63.77l-.07-.06-3.42-3.41Zm-.71-.71A5.54 5.54 0 0 0 15 9.5a5.5 5.5 0 1 0-1.98 4.23Z"]),X=B("Dismiss20Regular","20",["m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]),U=function(e,r,t,n){return new(t||(t=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function l(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(a,l)}c((n=n.apply(e,r||[])).next())})},V=[{logicalName:"sprk_matter",displayName:"Matter",regardingField:"sprk_regardingmatter"},{logicalName:"sprk_project",displayName:"Project",regardingField:"sprk_regardingproject"},{logicalName:"sprk_invoice",displayName:"Invoice",regardingField:"sprk_regardinginvoice"},{logicalName:"sprk_analysis",displayName:"Analysis",regardingField:"sprk_regardinganalysis"},{logicalName:"account",displayName:"Account",regardingField:"sprk_regardingaccount"},{logicalName:"contact",displayName:"Contact",regardingField:"sprk_regardingcontact"},{logicalName:"sprk_workassignment",displayName:"Work Assignment",regardingField:"sprk_regardingworkassignment"},{logicalName:"sprk_budget",displayName:"Budget",regardingField:"sprk_regardingbudget"}],q="sprk_regardingrecordname",$="sprk_regardingrecordid",W="sprk_regardingrecordtype",Z=new Map;function Q(){var e;try{var r=window.Xrm||(null===(e=window.parent)||void 0===e?void 0:e.Xrm);return(null==r?void 0:r.Page)||null}catch(e){return console.warn("[RecordSelectionHandler] Unable to access Xrm.Page:",e),null}}function K(e,r,t,n){var o=Q();if(!o)return console.warn("[RecordSelectionHandler] Xrm.Page not available"),!1;try{var i=o.getAttribute(e);if(i){var a=t.replace(/[{}]/g,"");return i.setValue([{id:a,name:n,entityType:r}]),console.log("[RecordSelectionHandler] Set ".concat(e," to ").concat(n," (").concat(a,")")),!0}return console.warn("[RecordSelectionHandler] Field ".concat(e," not found on form")),!1}catch(r){return console.error("[RecordSelectionHandler] Error setting ".concat(e,":"),r),!1}}function G(e){var r=Q();if(!r)return console.warn("[RecordSelectionHandler] Xrm.Page not available"),!1;try{var t=r.getAttribute(e);return!t||(t.setValue(null),console.log("[RecordSelectionHandler] Cleared ".concat(e)),!0)}catch(r){return console.error("[RecordSelectionHandler] Error clearing ".concat(e,":"),r),!1}}function J(e,r){var t=Q();if(!t)return console.warn("[RecordSelectionHandler] Xrm.Page not available"),!1;try{var n=t.getAttribute(e);return n?(n.setValue(r),console.log("[RecordSelectionHandler] Set ".concat(e,' to "').concat(r,'"')),!0):(console.warn("[RecordSelectionHandler] Field ".concat(e," not found on form")),!1)}catch(r){return console.error("[RecordSelectionHandler] Error setting ".concat(e,":"),r),!1}}function Y(e,r){return U(this,void 0,void 0,function*(){var t=Z.get(r);if(t)return console.log("[RecordSelectionHandler] Record Type cache hit for ".concat(r,": ").concat(t.id)),t;try{var n="?$filter=sprk_entitylogicalname eq '".concat(r,"' and statecode eq 0&$select=sprk_recordtypeid,sprk_name"),o=yield e.retrieveMultipleRecords("sprk_recordtype",n);if(o.entities&&o.entities.length>0){var i=o.entities[0],a=i.sprk_recordtypeid,l=i.sprk_name;return Z.set(r,{id:a,name:l}),console.log("[RecordSelectionHandler] Found Record Type for ".concat(r,": ").concat(l," (").concat(a,")")),{id:a,name:l}}return console.warn("[RecordSelectionHandler] No Record Type found for entity: ".concat(r)),null}catch(e){return console.error("[RecordSelectionHandler] Error querying Record Type for ".concat(r,":"),e),null}})}var ee,re=function(e,r,t,n){return new(t||(t=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function l(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(a,l)}c((n=n.apply(e,r||[])).next())})};!function(e){e[e.OneTime=0]="OneTime",e[e.ManualRefresh=1]="ManualRefresh"}(ee||(ee={}));class te{constructor(e){var r;this.profileCache=new Map,this.recordTypeCache=new Map,this.CACHE_TTL_MS=3e5,this.webApi=e.webApi,this.enableCache=null!==(r=e.enableCache)&&void 0!==r&&r}getRecordTypeId(e){return re(this,void 0,void 0,function*(){if(this.recordTypeCache.has(e))return this.recordTypeCache.get(e)||null;try{var r="?$filter=sprk_entitylogicalname eq '".concat(e,"' and statecode eq 0&$select=sprk_recordtypeid,sprk_name"),t=yield this.webApi.retrieveMultipleRecords("sprk_recordtype",r);if(!t.entities||0===t.entities.length)return console.log("[FieldMappingService] No Record Type found for entity: ".concat(e)),null;var n=t.entities[0].sprk_recordtypeid;return this.recordTypeCache.set(e,n),console.log("[FieldMappingService] Found Record Type ".concat(n," for ").concat(e)),n}catch(e){return console.error("[FieldMappingService] Error querying Record Type:",e),null}})}getProfileForEntityPair(e,r){return re(this,void 0,void 0,function*(){var t="".concat(e,":").concat(r);if(console.log("[FieldMappingService] Querying profile for ".concat(e," -> ").concat(r)),this.enableCache){var n=this.profileCache.get(t);if(n&&Date.now()-n.timestamp<this.CACHE_TTL_MS)return console.log("[FieldMappingService] Returning cached profile"),n.profile}try{var o=yield this.getRecordTypeId(e),i=yield this.getRecordTypeId(r);if(!o)return console.log("[FieldMappingService] No Record Type for source entity: ".concat(e)),null;if(!i)return console.log("[FieldMappingService] No Record Type for target entity: ".concat(r)),null;var a="?$filter=_sprk_sourcerecordtype_value eq '".concat(o,"' and _sprk_targetrecordtype_value eq '").concat(i,"' and statecode eq 0&$select=sprk_fieldmappingprofileid,sprk_name,_sprk_sourcerecordtype_value,_sprk_targetrecordtype_value,sprk_syncmode,statecode"),l=yield this.webApi.retrieveMultipleRecords("sprk_fieldmappingprofile",a);if(!l.entities||0===l.entities.length)return console.log("[FieldMappingService] No profile found for ".concat(e," -> ").concat(r)),this.enableCache&&this.profileCache.set(t,{profile:null,timestamp:Date.now()}),null;var c=l.entities[0],s=c.sprk_fieldmappingprofileid,d="?$filter=_sprk_fieldmappingprofile_value eq '".concat(s,"' and statecode eq 0&$select=sprk_fieldmappingruleid,sprk_sourcefield,sprk_targetfield,sprk_mappingtype,sprk_defaultvalue,sprk_executionorder&$orderby=sprk_executionorder asc"),p=((yield this.webApi.retrieveMultipleRecords("sprk_fieldmappingrule",d)).entities||[]).map(e=>({id:e.sprk_fieldmappingruleid,sourceField:e.sprk_sourcefield,targetField:e.sprk_targetfield,mappingType:e.sprk_mappingtype||0,defaultValue:e.sprk_defaultvalue,executionOrder:e.sprk_executionorder||0})),u={id:s,name:c.sprk_name,sourceRecordTypeId:o,sourceEntityLogicalName:e,targetRecordTypeId:i,targetEntityLogicalName:r,syncMode:c.sprk_syncmode||ee.OneTime,isActive:0===c.statecode,rules:p};return console.log("[FieldMappingService] Found profile: ".concat(u.name," with ").concat(p.length," rules")),this.enableCache&&this.profileCache.set(t,{profile:u,timestamp:Date.now()}),u}catch(e){return console.error("[FieldMappingService] Error querying profile:",e),null}})}applyMappings(e,r,t){return re(this,void 0,void 0,function*(){console.log("[FieldMappingService] Applying mappings from profile ".concat(t.name));var n={success:!0,appliedRules:0,skippedRules:0,errors:[],mappedValues:{}};if(!t.rules||0===t.rules.length)return console.log("[FieldMappingService] No rules in profile"),n;try{var o=t.rules.filter(e=>1!==e.mappingType).map(e=>e.sourceField).filter(e=>e).join(","),i={};for(var a of(o&&(i=yield this.webApi.retrieveRecord(t.sourceEntityLogicalName,e,"?$select=".concat(o))),t.rules))try{var l=void 0;if(1===a.mappingType)l=a.defaultValue;else if(void 0===(l=i[a.sourceField])){console.log("[FieldMappingService] Source field ".concat(a.sourceField," not found, skipping")),n.skippedRules++;continue}r[a.targetField]=l,n.mappedValues[a.targetField]=l,n.appliedRules++,console.log("[FieldMappingService] Mapped ".concat(a.sourceField||"(constant)"," -> ").concat(a.targetField,": ").concat(l))}catch(e){console.error("[FieldMappingService] Error applying rule ".concat(a.sourceField," -> ").concat(a.targetField,":"),e),n.errors.push({message:"Failed to apply mapping: ".concat(a.sourceField," -> ").concat(a.targetField)}),n.skippedRules++}return console.log("[FieldMappingService] Applied ".concat(n.appliedRules," rules, skipped ").concat(n.skippedRules)),n}catch(e){return console.error("[FieldMappingService] Error fetching source record:",e),n.success=!1,n.errors.push({message:e instanceof Error?e.message:"Failed to fetch source record"}),n}})}}class ne{constructor(e){var r,t;this.mappingService=new te({webApi:e.webApi,enableCache:null!==(r=e.enableCache)&&void 0!==r&&r}),this.targetEntity=null!==(t=e.targetEntity)&&void 0!==t?t:"sprk_event"}applyMappingsForSelection(e,r,t){return re(this,void 0,void 0,function*(){var n={success:!0,profileFound:!1,fieldsMapped:0,rulesSkipped:0,sourceEntityName:e,errors:[]};console.log("[FieldMappingHandler] Checking for profile: ".concat(e," -> ").concat(this.targetEntity));try{var o=yield this.mappingService.getProfileForEntityPair(e,this.targetEntity);if(!o)return console.log("[FieldMappingHandler] No active profile found for ".concat(e," -> ").concat(this.targetEntity)),n;if(n.profileFound=!0,n.profile=o,console.log("[FieldMappingHandler] Found profile: ".concat(o.name," (").concat(o.id,")")),o.syncMode!==ee.OneTime&&o.syncMode!==ee.ManualRefresh)return console.log("[FieldMappingHandler] Profile sync mode (".concat(o.syncMode,") does not support auto-apply")),n;var i=yield this.mappingService.applyMappings(r,t,o);return n.mappingResult=i,n.fieldsMapped=i.appliedRules,n.rulesSkipped=i.skippedRules,n.success=i.success,i.errors.length>0&&(n.errors=i.errors.map(e=>e.message)),console.log("[FieldMappingHandler] Applied mappings: ".concat(n.fieldsMapped," applied, ")+"".concat(n.rulesSkipped," skipped, ").concat(n.errors.length," errors")),n}catch(e){return console.error("[FieldMappingHandler] Error applying mappings:",e),n.success=!1,n.errors.push(e instanceof Error?e.message:"Unknown error applying field mappings"),n}})}applyToForm(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=this.getXrmPage();if(!t)return console.warn("[FieldMappingHandler] Xrm.Page not available - cannot apply to form"),0;var n=0,o=Object.keys(e);for(var i of o)try{var a=t.getAttribute(i);if(!a){console.warn("[FieldMappingHandler] Field ".concat(i," not found on form"));continue}if(r&&a.getIsDirty()){console.log("[FieldMappingHandler] Skipping dirty field: ".concat(i));continue}var l=e[i];a.setValue(l),n++,console.log("[FieldMappingHandler] Set ".concat(i," to:"),l)}catch(e){console.error("[FieldMappingHandler] Error setting field ".concat(i,":"),e)}return n}hasProfileForEntity(e){return re(this,void 0,void 0,function*(){try{var r=yield this.mappingService.getProfileForEntityPair(e,this.targetEntity);return null!==r&&r.isActive}catch(e){return console.error("[FieldMappingHandler] Error checking profile:",e),!1}})}supportsManualRefresh(e){return re(this,void 0,void 0,function*(){try{var r=yield this.mappingService.getProfileForEntityPair(e,this.targetEntity);return null!==r&&r.isActive&&r.syncMode===ee.ManualRefresh}catch(e){return console.error("[FieldMappingHandler] Error checking refresh support:",e),!1}})}getXrmPage(){var e;try{var r=window.Xrm||(null===(e=window.parent)||void 0===e?void 0:e.Xrm);return(null==r?void 0:r.Page)||null}catch(e){return console.warn("[FieldMappingHandler] Unable to access Xrm.Page:",e),null}}}var oe=5e3,ie=function(e,r,t,n){return new(t||(t=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function l(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(a,l)}c((n=n.apply(e,r||[])).next())})},ae=[{logicalName:"sprk_matter",displayName:"Matter",regardingField:"sprk_regardingmatter"},{logicalName:"sprk_project",displayName:"Project",regardingField:"sprk_regardingproject"},{logicalName:"sprk_invoice",displayName:"Invoice",regardingField:"sprk_regardinginvoice"},{logicalName:"sprk_analysis",displayName:"Analysis",regardingField:"sprk_regardinganalysis"},{logicalName:"account",displayName:"Account",regardingField:"sprk_regardingaccount"},{logicalName:"contact",displayName:"Contact",regardingField:"sprk_regardingcontact"},{logicalName:"sprk_workassignment",displayName:"Work Assignment",regardingField:"sprk_regardingworkassignment"},{logicalName:"sprk_budget",displayName:"Budget",regardingField:"sprk_regardingbudget"}],le=(0,o.makeStyles)({container:{display:"flex",flexDirection:"column",gap:o.tokens.spacingVerticalM,padding:o.tokens.spacingHorizontalM,height:"100%"},header:{display:"flex",alignItems:"center",gap:o.tokens.spacingHorizontalS},searchSection:{display:"flex",gap:o.tokens.spacingHorizontalS,alignItems:"flex-end"},dropdown:{minWidth:"200px"},selectedRecord:{display:"flex",alignItems:"center",gap:o.tokens.spacingHorizontalS,padding:o.tokens.spacingVerticalS,backgroundColor:o.tokens.colorNeutralBackground2,borderRadius:o.tokens.borderRadiusMedium},footer:{marginTop:"auto",paddingTop:o.tokens.spacingVerticalS,borderTop:"1px solid ".concat(o.tokens.colorNeutralStroke1),display:"flex",justifyContent:"space-between",alignItems:"center"},versionText:{fontSize:o.tokens.fontSizeBase100,color:o.tokens.colorNeutralForeground3}}),ce=e=>{var{context:r,regardingRecordType:n,apiBaseUrl:i,onRecordSelected:a,version:l}=e,c=le(),[s,d]=t.useState(null),[p,u]=t.useState(null),[g,f]=t.useState(!1),[m,y]=t.useState(!1),[v,h]=t.useState(null),[b,k]=t.useState(null),[w,S]=t.useState(!1),[R,E]=t.useState(!1),[F,N]=t.useState(!1),[_,T]=t.useState(!1),[M,A]=t.useState(null),{toasterId:C,showMappingResult:P,showError:O}=function(){var e=(0,o.useId)("mapping-toaster"),{dispatchToast:r}=(0,o.useToastController)(e),n=t.useCallback((e,r)=>{if(!e.profileFound)return null;if(0===e.errors.length&&e.fieldsMapped>0)return{title:"Fields Updated",body:"Applied ".concat(e.fieldsMapped," field mapping").concat(e.fieldsMapped>1?"s":""," from ").concat(r),intent:"success"};if(e.fieldsMapped>0&&(e.errors.length>0||e.rulesSkipped>0)){var t=e.fieldsMapped+e.rulesSkipped+e.errors.length;return{title:"Partial Update",body:"Applied ".concat(e.fieldsMapped," of ").concat(t," mappings. Some fields could not be mapped."),intent:"warning"}}return e.errors.length>0&&0===e.fieldsMapped?{title:"Mapping Failed",body:e.errors[0]||"Failed to apply field mappings. Please try again.",intent:"error"}:0===e.fieldsMapped&&0===e.errors.length?{title:"No Updates",body:"No fields needed updating - all values are current.",intent:"info"}:null},[]);return{toasterId:e,showMappingResult:t.useCallback((e,i)=>{var a=n(e,i);a&&r(t.createElement(o.Toast,null,t.createElement(o.ToastTitle,null,a.title),t.createElement(o.ToastBody,null,a.body)),{intent:a.intent,timeout:oe})},[r,n]),showSuccess:t.useCallback(e=>{r(t.createElement(o.Toast,null,t.createElement(o.ToastTitle,null,"Success"),t.createElement(o.ToastBody,null,e)),{intent:"success",timeout:oe})},[r]),showWarning:t.useCallback(e=>{r(t.createElement(o.Toast,null,t.createElement(o.ToastTitle,null,"Warning"),t.createElement(o.ToastBody,null,e)),{intent:"warning",timeout:oe})},[r]),showError:t.useCallback(e=>{r(t.createElement(o.Toast,null,t.createElement(o.ToastTitle,null,"Error"),t.createElement(o.ToastBody,null,e)),{intent:"error",timeout:oe})},[r])}}(),x=t.useMemo(()=>{return(null==r?void 0:r.webAPI)?(e=r.webAPI,new ne({webApi:e,targetEntity:"sprk_event",enableCache:!1})):null;var e},[null==r?void 0:r.webAPI]);t.useEffect(()=>{ie(void 0,void 0,void 0,function*(){if(!_&&(null==r?void 0:r.webAPI)){console.log("[AssociationResolver] Running auto-detection..."),f(!0);try{var e=function(){var e=Q();if(!e)return console.log("[RecordSelectionHandler] Xrm.Page not available for parent detection"),null;for(var r of(console.log("[RecordSelectionHandler] Checking for pre-populated regarding fields..."),V))try{var t=e.getAttribute(r.regardingField);if(t){var n=t.getValue();if(n&&Array.isArray(n)&&n.length>0){var o=n[0];if(o&&o.id){var i={entityType:r.logicalName,entityDisplayName:r.displayName,recordId:o.id.replace(/[{}]/g,""),recordName:o.name||"",regardingField:r.regardingField};return console.log("[RecordSelectionHandler] Detected pre-populated parent: ".concat(r.displayName," - ").concat(i.recordName," (").concat(i.recordId,")")),i}}}}catch(e){console.warn("[RecordSelectionHandler] Error checking ".concat(r.regardingField,":"),e)}return console.log("[RecordSelectionHandler] No pre-populated regarding field detected"),null}();if(e){console.log("[AssociationResolver] Auto-detected parent: ".concat(e.entityDisplayName," - ").concat(e.recordName)),N(!0),A(e),d(e.entityType),u({id:e.recordId,name:e.recordName});var t=yield function(e,r){return U(this,void 0,void 0,function*(){var t={success:!1,lookupFieldSet:!0,denormalizedFieldsSet:!1,otherLookupsCleared:0,errors:[]};console.log("[RecordSelectionHandler] Completing auto-detected association: ".concat(e.entityDisplayName," - ").concat(e.recordName));var n=!0;J(q,e.recordName)||(n=!1,t.errors.push("Failed to set ".concat(q))),J($,e.recordId)||(n=!1,t.errors.push("Failed to set ".concat($)));var o=yield Y(r,e.entityType);return o?K(W,"sprk_recordtype",o.id,o.name)||(n=!1,t.errors.push("Failed to set ".concat(W))):(n=!1,t.errors.push("Record Type not found for entity: ".concat(e.entityType))),t.denormalizedFieldsSet=n,t.success=n,console.log("[RecordSelectionHandler] Auto-detection completion result: success=".concat(t.success,", denormalized=").concat(t.denormalizedFieldsSet)),t})}(e,r.webAPI);if(t.success)if(a(e.recordId,e.recordName),x){y(!0);try{var o={},i=yield x.applyMappingsForSelection(e.entityType,e.recordId,o);i.profileFound&&i.fieldsMapped>0?(x.applyToForm(o,!0),k("Auto-populated from ".concat(e.entityDisplayName,": ").concat(i.fieldsMapped," fields mapped")),P(i,e.entityDisplayName)):k("Associated with ".concat(e.entityDisplayName,": ").concat(e.recordName))}catch(e){console.error("[AssociationResolver] Auto field mapping error:",e)}finally{y(!1)}}else k("Associated with ".concat(e.entityDisplayName,": ").concat(e.recordName));else console.warn("[AssociationResolver] Auto-detection completion had errors:",t.errors),k("Associated with ".concat(e.entityDisplayName,": ").concat(e.recordName))}else if(null==n?void 0:n.id)try{var l=n.id.replace(/[{}]/g,""),c=(yield r.webAPI.retrieveRecord("sprk_recordtype",l,"?$select=sprk_entitylogicalname,sprk_name")).sprk_entitylogicalname;if(c){var s=ae.find(e=>e.logicalName===c);s&&(console.log("[AssociationResolver] Initialized entity type from Record Type: ".concat(c)),d(s.logicalName))}}catch(e){console.error("[AssociationResolver] Error initializing from Record Type:",e)}}finally{f(!1),T(!0)}}})},[null==r?void 0:r.webAPI,x,_,n,a,P]),t.useEffect(()=>{ie(void 0,void 0,void 0,function*(){if(x&&s&&p)try{var e=yield x.hasProfileForEntity(s);E(e),console.log("[AssociationResolver] Profile check for ".concat(s,": ").concat(e))}catch(e){console.error("[AssociationResolver] Error checking profile:",e),E(!1)}else E(!1)})},[x,s,p]);var j=(e,r)=>ie(void 0,void 0,void 0,function*(){if(!x)return console.warn("[AssociationResolver] FieldMappingHandler not initialized - webAPI not available"),null;y(!0);try{var t={},n=yield x.applyMappingsForSelection(e,r,t);if(n.profileFound){var o=x.applyToForm(t,!0);console.log("[AssociationResolver] Field mappings applied: "+"".concat(n.fieldsMapped," mapped, ").concat(o," set on form"));var i=ae.find(r=>r.logicalName===e),a=(null==i?void 0:i.displayName)||e;n.fieldsMapped>0&&k("".concat(n.fieldsMapped," fields populated from ").concat(a)),P(n,a),n.errors.length>0&&console.warn("[AssociationResolver] Mapping warnings:",n.errors)}else console.log("[AssociationResolver] No field mapping profile found for ".concat(e," -> sprk_event"));return n}catch(e){return console.error("[AssociationResolver] Failed to apply field mappings:",e),O("Failed to apply field mappings. Please try again."),null}finally{y(!1)}}),I=()=>{p&&s?R?S(!0):h("No field mapping profile configured for this entity type"):h("Please select a record first")},H=()=>ie(void 0,void 0,void 0,function*(){if(S(!1),p&&s)if(x){f(!0),k(null),h(null);try{var e={},r=yield x.applyMappingsForSelection(s,p.id,e);if(r)if(r.profileFound){var t=x.applyToForm(e,!1),n=ae.find(e=>e.logicalName===s),o=(null==n?void 0:n.displayName)||s;r.fieldsMapped>0?k("Refreshed ".concat(t," fields from ").concat(o)):k("No fields to update - all values are current"),P(r,o),r.errors.length>0&&console.warn("[AssociationResolver] Refresh warnings:",r.errors)}else k("No field mapping profile configured for this entity type");else h("Failed to refresh fields from parent"),O("Failed to refresh fields from parent. Please try again.")}catch(e){console.error("[AssociationResolver] Refresh error:",e),h(e instanceof Error?e.message:"Failed to refresh from parent")}finally{f(!1)}}else h("Field mapping service not available");else h("Please select a record first")}),D=ae.find(e=>e.logicalName===s);return g&&!_?t.createElement("div",{className:c.container},t.createElement(o.Toaster,{toasterId:C,position:"top-end"}),t.createElement("div",{className:c.header},t.createElement(o.Spinner,{size:"tiny",style:{marginRight:"8px"}}),t.createElement(o.Text,null,"Detecting parent context..."))):F&&M?t.createElement("div",{className:c.container},t.createElement(o.Toaster,{toasterId:C,position:"top-end"}),v&&t.createElement(o.MessageBar,{intent:"error"},t.createElement(o.MessageBarBody,null,v)),m&&t.createElement(o.MessageBar,{intent:"info"},t.createElement(o.MessageBarBody,null,t.createElement(o.Spinner,{size:"tiny",style:{marginRight:"8px"}}),"Applying field mappings...")),b&&!m&&t.createElement(o.MessageBar,{intent:"success"},t.createElement(o.MessageBarBody,null,b)),t.createElement("div",{className:c.selectedRecord},t.createElement(o.Text,{weight:"semibold"},M.entityDisplayName,":"),t.createElement(o.Text,null,M.recordName),t.createElement(o.Button,{appearance:"subtle",icon:t.createElement(z,null),onClick:I,disabled:!R||g||m,title:R?"Refresh fields from parent record":"No field mapping profile available"},m?t.createElement(o.Spinner,{size:"tiny"}):"Refresh")),t.createElement(o.Dialog,{open:w,onOpenChange:(e,r)=>S(r.open)},t.createElement(o.DialogSurface,null,t.createElement(o.DialogBody,null,t.createElement(o.DialogTitle,null,"Refresh from Parent?"),t.createElement(o.DialogContent,null,"This will overwrite current field values with values from the parent record."),t.createElement(o.DialogActions,null,t.createElement(o.Button,{appearance:"secondary",onClick:()=>S(!1)},"Cancel"),t.createElement(o.Button,{appearance:"primary",onClick:H},"Refresh"))))),t.createElement("div",{className:c.footer},t.createElement(o.Text,{className:c.versionText},"v",l," â€¢ Auto"))):t.createElement("div",{className:c.container},t.createElement(o.Toaster,{toasterId:C,position:"top-end"}),t.createElement("div",{className:c.header},t.createElement(o.Text,{weight:"semibold",size:400},"Select Parent Record")),v&&t.createElement(o.MessageBar,{intent:"error"},t.createElement(o.MessageBarBody,null,v)),m&&t.createElement(o.MessageBar,{intent:"info"},t.createElement(o.MessageBarBody,null,t.createElement(o.Spinner,{size:"tiny",style:{marginRight:"8px"}}),"Applying field mappings...")),b&&!m&&t.createElement(o.MessageBar,{intent:"success"},t.createElement(o.MessageBarBody,null,b)),t.createElement("div",{className:c.searchSection},t.createElement(o.Dropdown,{className:c.dropdown,placeholder:"Select entity type",value:(null==D?void 0:D.displayName)||"",onOptionSelect:(e,r)=>{r.optionValue&&(d(r.optionValue),u(null),h(null),k(null))}},ae.map(e=>t.createElement(o.Option,{key:e.logicalName,value:e.logicalName},e.displayName))),t.createElement(o.Button,{appearance:"primary",icon:t.createElement(L,null),onClick:()=>ie(void 0,void 0,void 0,function*(){var e,t;if(s){f(!0),h(null),k(null);try{var n={defaultEntityType:s,entityTypes:[s],allowMultiSelect:!1},o=window.Xrm||(null===(e=window.parent)||void 0===e?void 0:e.Xrm);if(!(null===(t=null==o?void 0:o.Utility)||void 0===t?void 0:t.lookupObjects))throw new Error("Xrm.Utility.lookupObjects not available");var i=yield o.Utility.lookupObjects(n);if(i&&i.length>0){var l=i[0],c=l.id.replace(/[{}]/g,""),d=l.name,p={entityType:s,recordId:c,recordName:d},g=yield function(e,r){return U(this,void 0,void 0,function*(){var t={success:!1,lookupFieldSet:!1,denormalizedFieldsSet:!1,otherLookupsCleared:0,errors:[]};console.log("[RecordSelectionHandler] Processing selection: ".concat(e.entityType," - ").concat(e.recordName));var n=V.find(r=>r.logicalName===e.entityType);if(!n){var o="Unknown entity type: ".concat(e.entityType);return console.error("[RecordSelectionHandler] ".concat(o)),t.errors.push(o),t}for(var i of V)G(i.regardingField)&&t.otherLookupsCleared++;t.otherLookupsCleared--,t.lookupFieldSet=K(n.regardingField,e.entityType,e.recordId,e.recordName),t.lookupFieldSet||t.errors.push("Failed to set ".concat(n.regardingField));var a=!0;J(q,e.recordName)||(a=!1,t.errors.push("Failed to set ".concat(q)));var l=e.recordId.replace(/[{}]/g,"");J($,l)||(a=!1,t.errors.push("Failed to set ".concat($)));var c=yield Y(r,e.entityType);return c?K(W,"sprk_recordtype",c.id,c.name)||(a=!1,t.errors.push("Failed to set ".concat(W))):(a=!1,t.errors.push("Record Type not found for entity: ".concat(e.entityType))),t.denormalizedFieldsSet=a,t.success=t.lookupFieldSet,console.log("[RecordSelectionHandler] Result: success=".concat(t.success,", lookupSet=").concat(t.lookupFieldSet,", denormalized=").concat(t.denormalizedFieldsSet,", cleared=").concat(t.otherLookupsCleared)),t})}(p,r.webAPI);if(g.success){u({id:c,name:d}),a(c,d);var m=g.otherLookupsCleared;k("Regarding fields set. ".concat(m," other lookups cleared."));var y=yield j(s,c);if(y&&y.fieldsMapped>0){var v=ae.find(e=>e.logicalName===s),b=(null==v?void 0:v.displayName)||s;k("Regarding fields set. ".concat(y.fieldsMapped," fields auto-populated from ").concat(b,"."))}}else u({id:c,name:d}),a(c,d),g.errors.length>0&&h("Warning: ".concat(g.errors.join(", "))),yield j(s,c)}}catch(e){console.error("[AssociationResolver] Lookup error:",e),h(e instanceof Error?e.message:"Failed to open lookup")}finally{f(!1)}}else h("Please select an entity type first")}),disabled:!s||g||m},g||m?t.createElement(o.Spinner,{size:"tiny"}):"Select Record")),p&&t.createElement("div",{className:c.selectedRecord},t.createElement(o.Text,{weight:"semibold"},null==D?void 0:D.displayName,":"),t.createElement(o.Text,null,p.name),t.createElement(o.Button,{appearance:"subtle",icon:t.createElement(z,null),onClick:I,disabled:!R||g||m,title:R?"Refresh fields from parent record":"No field mapping profile available for this entity type"},m?t.createElement(o.Spinner,{size:"tiny"}):"Refresh from Parent"),t.createElement(o.Button,{appearance:"subtle",icon:t.createElement(X,null),onClick:()=>{f(!0),h(null),k(null);try{!function(){for(var e of(console.log("[RecordSelectionHandler] Clearing all regarding fields"),V))G(e.regardingField);J(q,null),J($,null),G(W)}(),u(null),a("",""),k("Selection cleared")}catch(e){console.error("[AssociationResolver] Clear error:",e),h(e instanceof Error?e.message:"Failed to clear selection")}finally{f(!1)}},disabled:g||m,title:"Clear selection and regarding fields"},"Clear")),t.createElement(o.Dialog,{open:w,onOpenChange:(e,r)=>S(r.open)},t.createElement(o.DialogSurface,null,t.createElement(o.DialogBody,null,t.createElement(o.DialogTitle,null,"Refresh from Parent?"),t.createElement(o.DialogContent,null,"This will overwrite current field values with values from the parent record. Any changes you've made will be lost."),t.createElement(o.DialogActions,null,t.createElement(o.Button,{appearance:"secondary",onClick:()=>S(!1)},"Cancel"),t.createElement(o.Button,{appearance:"primary",onClick:H},"Refresh"))))),t.createElement("div",{className:c.footer},t.createElement(o.Text,{className:c.versionText},"v",l)))};class se{constructor(){this.container=null,this._regardingRecordId="",this._regardingRecordName="",this.handleRecordSelected=(e,r)=>{this._regardingRecordId=e,this._regardingRecordName=r,this.notifyOutputChanged()}}init(e,r,t,n){this.context=e,this.notifyOutputChanged=r,this.container=n,e.mode.trackContainerResize(!0),this.renderComponent()}updateView(e){this.context=e,this.renderComponent()}getOutputs(){return{regardingRecordId:this._regardingRecordId,regardingRecordName:this._regardingRecordName}}destroy(){this.container&&(n.unmountComponentAtNode(this.container),this.container=null)}getRecordTypeReference(){var e,r=null===(e=this.context.parameters.regardingRecordType)||void 0===e?void 0:e.raw;if(!r)return null;var t=Array.isArray(r)?r[0]:r;return t&&t.id?{id:t.id,name:t.name||"",entityLogicalName:t.entityType||"sprk_recordtype"}:null}renderComponent(){var e;if(this.container){var r=function(e){var r,t;if(null===(r=null==e?void 0:e.fluentDesignLanguage)||void 0===r?void 0:r.isDarkTheme)return o.webDarkTheme;var n=localStorage.getItem("spaarke-theme");if("dark"===n)return o.webDarkTheme;if("light"===n)return o.webLightTheme;var i=window.location.href;return i.includes("themeOption%3Ddarkmode")||i.includes("themeOption=darkmode")||(null===(t=window.matchMedia)||void 0===t?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)?o.webDarkTheme:o.webLightTheme}(this.context),i=this.getRecordTypeReference(),a=(null===(e=this.context.parameters.apiBaseUrl)||void 0===e?void 0:e.raw)||"https://spe-api-dev-67e2xz.azurewebsites.net/api";n.render(t.createElement(o.FluentProvider,{theme:r,style:{height:"100%",width:"100%"}},t.createElement(ce,{context:this.context,regardingRecordType:i,apiBaseUrl:a,onRecordSelected:this.handleRecordSelected,version:"1.0.2"})),this.container)}}}pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad=r})();
if (window.ComponentFramework && window.ComponentFramework.registerControl) {
	ComponentFramework.registerControl('Spaarke.Controls.AssociationResolver', pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.AssociationResolver);
} else {
	var Spaarke = Spaarke || {};
	Spaarke.Controls = Spaarke.Controls || {};
	Spaarke.Controls.AssociationResolver = pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.AssociationResolver;
	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = undefined;
}