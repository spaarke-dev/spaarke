import{r as n}from"./index-D4H_InIO.js";import{c as l,K as u,d,F as f,u as b}from"./constants-C-FBwxq0.js";function v(t,r){const s=l(r);s.subscribe(e=>{e||a(t)});const i=e=>{s.isNavigatingWithKeyboard()&&c(e.target)&&p(t)},o=e=>{(!e.relatedTarget||c(e.relatedTarget)&&!t.contains(e.relatedTarget))&&a(t)};return t.addEventListener(u,i),t.addEventListener("focusout",o),()=>{t.removeEventListener(u,i),t.removeEventListener("focusout",o),d(s)}}function p(t){t.setAttribute(f,"")}function a(t){t.removeAttribute(f)}function c(t){return t?!!(t&&typeof t=="object"&&"classList"in t&&"contains"in t):!1}function F(){const{targetDocument:t}=b(),r=n.useRef(null);return n.useEffect(()=>{if(t!=null&&t.defaultView&&r.current)return v(r.current,t.defaultView)},[r,t]),r}export{F as u};
