import{r as l}from"./index-D4H_InIO.js";import{m as N,T as m,t}from"./Text-C0fEdKO1.js";import{m as B}from"./jsx-runtime-D93ddY-N.js";const C=N({container:{display:"flex",flexDirection:"column",width:"100%",gap:t.spacingVerticalXS},title:{fontWeight:t.fontWeightSemibold,color:t.colorNeutralForeground1,fontSize:t.fontSizeBase300},barContainer:{display:"flex",width:"100%",borderRadius:t.borderRadiusMedium,overflow:"hidden",backgroundColor:t.colorNeutralBackground3},segment:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"24px",transition:"opacity 0.2s ease-in-out, filter 0.2s ease-in-out",overflow:"hidden"},segmentInteractive:{cursor:"pointer","&:hover":{filter:"brightness(1.1)"},"&:active":{filter:"brightness(0.95)"}},segmentLabel:{color:t.colorNeutralForegroundOnBrand,fontSize:t.fontSizeBase100,fontWeight:t.fontWeightMedium,textShadow:"0 1px 2px rgba(0,0,0,0.3)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",padding:`0 ${t.spacingHorizontalXS}`},legend:{display:"flex",flexWrap:"wrap",gap:t.spacingHorizontalM,marginTop:t.spacingVerticalXS},legendItem:{display:"flex",alignItems:"center",gap:t.spacingHorizontalXXS},legendColor:{width:"12px",height:"12px",borderRadius:t.borderRadiusSmall},legendText:{fontSize:t.fontSizeBase200,color:t.colorNeutralForeground2},placeholder:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:t.colorNeutralForeground3,padding:t.spacingVerticalM}}),E=()=>[t.colorPaletteGreenBackground3,t.colorPaletteYellowBackground3,t.colorPaletteDarkOrangeBackground3,t.colorPaletteRedBackground3,t.colorPaletteBlueBorderActive,t.colorPalettePurpleBorderActive],h=({segments:o,title:i,showLabels:b=!0,showCounts:v=!0,onDrillInteraction:d,drillField:u,height:y=32,interactive:p=!0})=>{const a=C(),g=e=>{p&&d&&u&&d({field:u,operator:"eq",value:e.fieldValue,label:e.label})},S=(e,r)=>{p&&(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),g(r))};if(!o||o.length===0)return l.createElement("div",{className:a.container},i&&l.createElement(m,{className:a.title},i),l.createElement("div",{className:a.placeholder},l.createElement(m,null,"No data available")));const f=o.reduce((e,r)=>e+r.value,0),s=E(),n=p&&d&&u;return l.createElement("div",{className:a.container},i&&l.createElement(m,{className:a.title},i),l.createElement("div",{className:a.barContainer,style:{height:y}},o.map((e,r)=>{const c=f>0?e.value/f*100:0,x=e.color||s[r%s.length],w=v?e.value.toString():`${c.toFixed(0)}%`;return l.createElement("div",{key:`${e.label}-${r}`,className:B(a.segment,n&&a.segmentInteractive),style:{width:`${c}%`,backgroundColor:x},onClick:n?()=>g(e):void 0,onKeyDown:n?k=>S(k,e):void 0,tabIndex:n?0:void 0,role:n?"button":void 0,"aria-label":`${e.label}: ${e.value}`,title:`${e.label}: ${e.value} (${c.toFixed(1)}%)`},b&&c>8&&l.createElement("span",{className:a.segmentLabel},w))})),l.createElement("div",{className:a.legend},o.map((e,r)=>l.createElement("div",{key:`legend-${e.label}-${r}`,className:a.legendItem},l.createElement("div",{className:a.legendColor,style:{backgroundColor:e.color||s[r%s.length]}}),l.createElement("span",{className:a.legendText},e.label,": ",e.value)))))};try{h.displayName="StatusDistributionBar",h.__docgenInfo={description:"StatusDistributionBar - Renders a horizontal stacked bar for status distribution",displayName:"StatusDistributionBar",props:{segments:{defaultValue:null,description:"Segments to display",name:"segments",required:!0,type:{name:"IStatusSegment[]"}},title:{defaultValue:null,description:"Bar title",name:"title",required:!1,type:{name:"string"}},showLabels:{defaultValue:{value:"true"},description:"Whether to show labels on segments",name:"showLabels",required:!1,type:{name:"boolean"}},showCounts:{defaultValue:{value:"true"},description:"Whether to show counts (vs percentages)",name:"showCounts",required:!1,type:{name:"boolean"}},onDrillInteraction:{defaultValue:null,description:"Callback when a segment is clicked for drill-through",name:"onDrillInteraction",required:!1,type:{name:"((interaction: DrillInteraction) => void)"}},drillField:{defaultValue:null,description:"Field name for drill interaction",name:"drillField",required:!1,type:{name:"string"}},height:{defaultValue:{value:"32"},description:"Height of the bar in pixels",name:"height",required:!1,type:{name:"number"}},interactive:{defaultValue:{value:"true"},description:"Whether segments should be interactive",name:"interactive",required:!1,type:{name:"boolean"}}}}}catch{}export{h as S};
