<?xml version="1.0" encoding="UTF-8"?>
<task id="071" project="ai-scope-resolution-enhancements">
  <metadata>
    <title>User Testing: File Upload via UniversalDocumentUpload</title>
    <phase>7</phase>
    <tags>testing, user-testing, manual</tags>
    <estimate>1-2 hours</estimate>
    <dependencies>070</dependencies>
    <parallel-group>C</parallel-group>
  </metadata>

  <prompt>
    <goal>
      Manually test document upload using UniversalDocumentUpload control and verify AI analysis completes.
    </goal>
    <context>
      Test flow:
      1. Navigate to entity form with UniversalDocumentUpload control
      2. Upload a test document
      3. Wait for processing to complete
      4. Verify sprk_analysis record created
      5. Check AI analysis results populated
    </context>
    <constraints>
      - Use dev environment
      - Document any issues encountered
      - Include screenshots of results
    </constraints>
  </prompt>

  <knowledge>
    <files>
      <file>docs/guides/HOW-TO-CREATE-AI-PLAYBOOK-SCOPES.md</file>
    </files>
  </knowledge>

  <steps>
    <step order="1">Navigate to Dataverse form with upload control</step>
    <step order="2">Upload test document (PDF or Word)</step>
    <step order="3">Wait for upload processing to complete</step>
    <step order="4">Check sprk_analysis record exists</step>
    <step order="5">Verify analysis results populated</step>
    <step order="6">Document results in notes/</step>
  </steps>

  <tools>
    <tool>Manual testing in browser</tool>
    <tool>Write - Document results</tool>
  </tools>

  <outputs>
    <output>Test results documentation</output>
    <output>Screenshots (if issues found)</output>
  </outputs>

  <acceptance-criteria>
    <criterion>Document uploads successfully</criterion>
    <criterion>sprk_analysis record created</criterion>
    <criterion>Analysis results populated</criterion>
    <criterion>No dead-letter errors</criterion>
  </acceptance-criteria>
</task>
