# Phase 2 Testing Checklist - UniversalDatasetGrid Enhancement

> **Version Deployed**: 2.2.0
> **Date**: 2026-02-04
> **Environment**: SPAARKE DEV 1 (https://spaarkedev1.crm.dynamics.com)

---

## Prerequisites

1. Hard refresh browser (`Ctrl+Shift+R`) to clear cached PCF
2. Verify version footer shows `v2.2.0` in the grid

---

## Test 1: Calendar Filter Integration (Task 010, 011)

**Setup:**
1. Open a form with EventCalendarFilter and UniversalDatasetGrid controls
2. Connect calendar filter output to grid's calendarFilter input

**Test Steps:**
1. [ ] Click a single date in the calendar
   - Grid should filter to show only events on that date
2. [ ] Shift+click to select a date range
   - Grid should filter to show events in that date range
3. [ ] Click "Clear" or deselect the dates
   - Grid should show all events (filter removed)

**Expected:** Grid data updates in real-time based on calendar selection.

---

## Test 2: Bi-directional Sync (Task 012)

**Setup:**
1. Same form as Test 1
2. Connect grid's selectedEventDate output back to calendar

**Test Steps:**
1. [ ] Click a row in the grid (not the checkbox)
   - Calendar should highlight the due date of that event
2. [ ] Click a row with no due date
   - Calendar should clear highlight
3. [ ] Click checkbox (not the row itself)
   - Calendar should NOT change highlight (checkbox is for selection, not sync)

**Expected:** Row clicks sync to calendar; checkbox clicks do not affect calendar.

---

## Test 3: Hyperlink Column with Side Pane (Task 013)

**Setup:**
1. Grid should have Event Name (sprk_eventname) column
2. EventDetailSidePane should be available

**Test Steps:**
1. [ ] Click on an event name hyperlink
   - Side pane should open with event details
2. [ ] Verify side pane shows correct event data
3. [ ] Press Enter/Space on focused hyperlink
   - Side pane should open (keyboard accessibility)

**Expected:** Hyperlink opens side pane; keyboard navigation works.

---

## Test 4: Checkbox Column for Bulk Actions (Task 014)

**Setup:**
1. Grid should display checkbox column as first column

**Test Steps:**
1. [ ] Check/uncheck individual rows
   - Only that row should be selected/deselected
2. [ ] Click header checkbox
   - All visible rows should be selected
3. [ ] Click header checkbox again
   - All rows should be deselected
4. [ ] Select multiple rows using checkboxes
   - Verify all selected rows are highlighted

**Expected:** Checkbox selection works for individual and bulk operations.

---

## Test 5: Optimistic Row Update (Task 015)

**Note:** This is tested via side pane integration.

**Test Steps:**
1. [ ] Open side pane for an event
2. [ ] Change a field (e.g., Status)
3. [ ] Observe the grid row
   - Row should update immediately (optimistic update)
4. [ ] If save fails, row should revert to original value (rollback)

**Expected:** Grid shows changes immediately before server confirms.

---

## Test 6: Column Filters (Task 016)

**Setup:**
1. Grid should display filter icons in column headers

**Test Steps:**
1. [ ] Click filter icon on a text column (e.g., Event Name)
   - Filter popup should appear
2. [ ] Enter filter value
   - Grid should filter as you type
3. [ ] Click filter icon on a date column
   - Date filter options should appear
4. [ ] Apply multiple column filters
   - Filters should combine with AND logic
5. [ ] Click "Clear all filters" in toolbar
   - All filters should be removed

**Expected:** Column filters work independently and can be combined.

---

## Test 7: Power Apps Grid Styling (Task 017)

**Visual Verification:**
1. [ ] Row height matches native Power Apps grid (44px)
2. [ ] Header has subtle gray background
3. [ ] Rows have hover highlight
4. [ ] Selected rows have branded selection color
5. [ ] Font is Segoe UI at correct size
6. [ ] Cell text truncates with ellipsis on overflow

**Dark Mode:**
1. [ ] Switch browser/system to dark mode
2. [ ] Grid colors should adapt (using Fluent UI tokens)
3. [ ] No hard-coded colors visible

**Expected:** Grid looks like native Power Apps grid in both light and dark modes.

---

## Test Summary

| Test | Feature | Status |
|------|---------|--------|
| 1 | Calendar Filter | |
| 2 | Bi-directional Sync | |
| 3 | Hyperlink Side Pane | |
| 4 | Checkbox Selection | |
| 5 | Optimistic Update | |
| 6 | Column Filters | |
| 7 | Grid Styling | |

---

## Issues Found

| # | Description | Severity | Task to Address |
|---|-------------|----------|-----------------|

---

## Notes

- These tests are manual verification steps
- Unit tests (220+ cases) are in `src/client/pcf/UniversalDatasetGrid/control/**/__tests__/`
- Run unit tests with: `cd src/client/pcf/UniversalDatasetGrid && npm test`

---

*Generated by Task 019 - Deploy and Test Phase 2*
