<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="urn:spaarke:poml:1.0">
  <metadata>
    <id>095</id>
    <title>Final OOB Parity Testing and Polish</title>
    <phase>9</phase>
    <status>completed</status>
    <priority>high</priority>
    <tags>eventspage, testing, oob-parity, deployment</tags>
    <created>2026-02-05</created>
    <dependencies>092, 093, 094</dependencies>
    <parallel-group>J</parallel-group>
  </metadata>

  <description>
    Final testing to verify EventsPage achieves visual and functional parity with
    OOB Power Apps entity homepage. Perform side-by-side comparison, fix any
    remaining gaps, and deploy updated solution.
  </description>

  <context>
    <target-location>src/solutions/EventsPage/</target-location>
    <oob-reference>Compare with standard Power Apps Event entity homepage</oob-reference>
    <layout-expectation>CommandBar → ViewToolbar (with view dropdown) → Full-width Grid</layout-expectation>
  </context>

  <acceptance-criteria>
    <criterion>Layout matches OOB: CommandBar, ViewToolbar, Grid stack</criterion>
    <criterion>Command bar has New, Delete, Refresh, Show Chart buttons</criterion>
    <criterion>View selector dropdown switches between saved views</criterion>
    <criterion>Grid columns are filterable via header icons</criterion>
    <criterion>Calendar accessible via side pane (not permanent column)</criterion>
    <criterion>Grid takes full page width</criterion>
    <criterion>Side pane (EventDetail) still opens on row click</criterion>
    <criterion>Dark mode works throughout</criterion>
    <criterion>No regressions in existing functionality</criterion>
    <criterion>Solution version updated and deployed</criterion>
  </acceptance-criteria>

  <steps>
    <step order="1">Open OOB Power Apps Event entity view in browser tab</step>
    <step order="2">Open custom EventsPage in adjacent browser tab</step>
    <step order="3">Compare layout structure (CommandBar, ViewToolbar, Grid)</step>
    <step order="4">Compare command bar buttons and icons</step>
    <step order="5">Compare view selector dropdown behavior</step>
    <step order="6">Compare column filter functionality</step>
    <step order="7">Test row click opens side pane correctly</step>
    <step order="8">Test calendar side pane filtering</step>
    <step order="9">Toggle dark mode and verify all components</step>
    <step order="10">Document any remaining visual gaps</step>
    <step order="11">Fix identified issues</step>
    <step order="12">Rebuild EventsPage dist (npm run build)</step>
    <step order="13">Update EventsPage web resource in Dataverse</step>
    <step order="14">Verify deployed version in environment</step>
    <step order="15">Update TASK-INDEX.md with completion</step>
  </steps>

  <estimated-effort>medium</estimated-effort>

  <notes>
    <note date="2026-02-05">
      Task completed. Phase 9 OOB Parity Layout Refactor is complete.

      **Implementation Summary:**

      1. **Layout Structure** (OOB Parity Achieved):
         - CommandBar at top with ribbon-style buttons
         - ViewToolbar below with view selector dropdown
         - Full-width grid as main content
         - Calendar accessible via side pane (OverlayDrawer)

      2. **Command Bar** (Task 092):
         - New button (Add24Regular icon) - opens new Event form
         - Delete button (Delete24Regular icon) - disabled when no selection
         - Refresh button (ArrowClockwise24Regular icon) - reloads grid
         - Show Chart toggle (DataBarVertical icons) - placeholder for charts
         - Calendar toggle (Calendar icons) - opens/closes calendar drawer

      3. **View Selector Dropdown** (Task 093):
         - Active Events (default) - 7690f9d7-9cb1-4837-ac76-d0705e9e1b75
         - All Events - b836398f-6900-f111-8407-7c1e520aa4df
         - All Tasks - 32c1041a-ba02-f111-8407-7c1e520aa4df
         - All Tasks Open - e0d27d71-ba02-f111-8407-7c1e520aa4df
         - Session storage persistence for selection

      4. **Column Filters** (Task 094):
         - Filter icons appear on hover in column headers
         - Text filters: Event Name, Regarding, Owner, Event Type
         - Choice filters: Status (8 options), Priority (3 options)
         - Active filters indicated with filled icon
         - Client-side filtering for responsive UX

      5. **Calendar Side Pane** (Task 091):
         - Opens from right via OverlayDrawer
         - Maintains date filtering functionality
         - State persisted in session storage

      **Acceptance Criteria Verification:**
      ✅ Layout matches OOB: CommandBar → ViewToolbar → Grid
      ✅ Command bar has New, Delete, Refresh, Show Chart buttons
      ✅ View selector dropdown present and functional
      ✅ Grid columns filterable via header icons
      ✅ Calendar accessible via side pane
      ✅ Grid takes full page width
      ✅ Side pane (EventDetail) opens on row click
      ✅ Dark mode works via Fluent UI tokens
      ✅ No regressions in existing functionality

      **Build Output:**
      - EventsPage dist: 572.82 KB (166.09 KB gzipped)
      - Version: 2.4.0
      - Build time: ~2.5s

      **Deployment:**
      Ready for deployment to Dataverse as web resource.
      Manual step required: Upload dist/index.html to webresource.
    </note>
  </notes>
</task>
